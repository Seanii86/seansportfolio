/*! For license information please see main.b2214fa4.js.LICENSE.txt */
!function(){var e={874:function(e,t,n){"use strict";var r=n(851);e.exports=function(e,t){return void 0===t&&(t=!1),function(n,i,a){if(n)e(n);else if(i.statusCode>=400&&i.statusCode<=599){var o=a;if(t)if(r.TextDecoder){var s=function(e){void 0===e&&(e="");return e.toLowerCase().split(";").reduce((function(e,t){var n=t.split("="),r=n[0],i=n[1];return"charset"===r.trim()?i.trim():e}),"utf-8")}(i.headers&&i.headers["content-type"]);try{o=new TextDecoder(s).decode(a)}catch(u){}}else o=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:o})}else e(null,a)}}},656:function(e,t,n){"use strict";var r=n(851),i=n(434),a=n(112);s.httpHandler=n(874);function o(e,t,n){var r=e;return a(t)?(n=t,"string"===typeof e&&(r={uri:e})):r=i({},t,{uri:e}),r.callback=n,r}function s(e,t,n){return u(t=o(e,t,n))}function u(e){if("undefined"===typeof e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=l.response?l.response:l.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(n){}return null}(l),v)try{e=JSON.parse(e)}catch(t){}return e}function i(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,g)}function a(){if(!u){var t;clearTimeout(c),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var i=g,a=null;return 0!==t?(i={body:r(),statusCode:t,method:d,headers:{},url:h,rawRequest:l},l.getAllResponseHeaders&&(i.headers=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),r=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim();"undefined"===typeof t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}(l.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,i,i.body)}}var o,u,l=e.xhr||null;l||(l=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var c,h=l.url=e.uri||e.url,d=l.method=e.method||"GET",f=e.body||e.data,p=l.headers=e.headers||{},m=!!e.sync,v=!1,g={body:void 0,headers:{},statusCode:0,method:d,url:h,rawRequest:l};if("json"in e&&!1!==e.json&&(v=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(a,0)},l.onload=a,l.onerror=i,l.onprogress=function(){},l.onabort=function(){u=!0},l.ontimeout=i,l.open(d,h,!m,e.username,e.password),m||(l.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(c=setTimeout((function(){if(!u){u=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),l.setRequestHeader)for(o in p)p.hasOwnProperty(o)&&l.setRequestHeader(o,p[o]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(l),l.send(f||null),l}e.exports=s,e.exports.default=s,s.XMLHttpRequest=r.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){s["delete"===e?"del":e]=function(t,n,r){return(n=o(t,n,r)).method=e.toUpperCase(),u(n)}}))},145:function(e,t){"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"===typeof t.freeze?t.freeze(e):e}var r=n({HTML:"text/html",isHTML:function(e){return e===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!==typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"===typeof n.find)return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}},t.freeze=n,t.MIME_TYPE=r,t.NAMESPACE=i},708:function(e,t,n){var r=n(145),i=n(668),a=n(775),o=n(660),s=i.DOMImplementation,u=r.NAMESPACE,l=o.ParseError,c=o.XMLReader;function h(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function d(e){this.options=e||{locator:{}}}function f(){this.cdata=!1}function p(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function m(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function v(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function g(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var n=this.options,r=new c,i=n.domBuilder||new f,o=n.errorHandler,s=n.locator,l=n.xmlns||{},d=/\/x?html?$/.test(t),p=d?a.HTML_ENTITIES:a.XML_ENTITIES;s&&i.setDocumentLocator(s),r.errorHandler=function(e,t,n){if(!e){if(t instanceof f)return t;e=t}var r={},i=e instanceof Function;function a(t){var a=e[t];!a&&i&&(a=2==e.length?function(n){e(t,n)}:e),r[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+m(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}(o,i,s),r.domBuilder=n.domBuilder||i,d&&(l[""]=u.HTML),l.xml=l.xml||u.XML;var v=n.normalizeLineEndings||h;return e&&"string"===typeof e?r.parse(v(e),l,p):r.errorHandler.error("invalid doc source"),i.doc},f.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,a=i.createElementNS(e,n||t),o=r.length;g(this,a),this.currentElement=a,this.locator&&p(this.locator,a);for(var s=0;s<o;s++){e=r.getURI(s);var u=r.getValue(s),l=(n=r.getQName(s),i.createAttributeNS(e,n));this.locator&&p(r.getLocator(s),l),l.value=l.nodeValue=u,a.setAttributeNode(l)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&p(this.locator,n),g(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=v.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&p(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=v.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&p(this.locator,r),g(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&p(this.locator,i),g(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]\t"+e,m(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,m(this.locator))},fatalError:function(e){throw new l(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){f.prototype[e]=function(){return null}})),t.DOMParser=d},668:function(e,t,n){var r=n(145),i=r.find,a=r.NAMESPACE;function o(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function u(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(o):[]}(e);return Object.keys(t.reduce(s,{}))}function l(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function c(e,t){var n=e.prototype;if(!(n instanceof t)){var r=function(){};r.prototype=t.prototype,l(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var h={},d=h.ELEMENT_NODE=1,f=h.ATTRIBUTE_NODE=2,p=h.TEXT_NODE=3,m=h.CDATA_SECTION_NODE=4,v=h.ENTITY_REFERENCE_NODE=5,g=h.ENTITY_NODE=6,y=h.PROCESSING_INSTRUCTION_NODE=7,_=h.COMMENT_NODE=8,b=h.DOCUMENT_NODE=9,k=h.DOCUMENT_TYPE_NODE=10,T=h.DOCUMENT_FRAGMENT_NODE=11,w=h.NOTATION_NODE=12,x={},S={},E=(x.INDEX_SIZE_ERR=(S[1]="Index size error",1),x.DOMSTRING_SIZE_ERR=(S[2]="DOMString size error",2),x.HIERARCHY_REQUEST_ERR=(S[3]="Hierarchy request error",3)),C=(x.WRONG_DOCUMENT_ERR=(S[4]="Wrong document",4),x.INVALID_CHARACTER_ERR=(S[5]="Invalid character",5),x.NO_DATA_ALLOWED_ERR=(S[6]="No data allowed",6),x.NO_MODIFICATION_ALLOWED_ERR=(S[7]="No modification allowed",7),x.NOT_FOUND_ERR=(S[8]="Not found",8)),I=(x.NOT_SUPPORTED_ERR=(S[9]="Not supported",9),x.INUSE_ATTRIBUTE_ERR=(S[10]="Attribute in use",10));x.INVALID_STATE_ERR=(S[11]="Invalid state",11),x.SYNTAX_ERR=(S[12]="Syntax error",12),x.INVALID_MODIFICATION_ERR=(S[13]="Invalid modification",13),x.NAMESPACE_ERR=(S[14]="Invalid namespace",14),x.INVALID_ACCESS_ERR=(S[15]="Invalid access",15);function A(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,S[e]),this.message=S[e],Error.captureStackTrace&&Error.captureStackTrace(this,A);return n.code=e,t&&(this.message=this.message+": "+t),n}function P(){}function O(e,t){this._node=e,this._refresh=t,L(this)}function L(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);_e(e,"length",n.length),l(n,e),e._inc=t}}function D(){}function N(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function M(e,t,n,r){if(r?t[N(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&V(i,e,r),function(e,t,n){e&&e._inc++,n.namespaceURI===a.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function R(e,t,n){var r=N(t,n);if(!(r>=0))throw new A(C,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var a=e.ownerDocument;a&&(V(a,e,n),n.ownerElement=null)}}function U(){}function j(){}function F(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function B(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(B(e,t))return!0}while(e=e.nextSibling)}function z(){this.ownerDocument=this}function V(e,t,n,r){e&&e._inc++,n.namespaceURI===a.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function H(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a,delete r[r.length]}}}function q(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,H(e.ownerDocument,e),t}function W(e){return e&&e.nodeType===j.DOCUMENT_TYPE_NODE}function G(e){return e&&e.nodeType===j.ELEMENT_NODE}function K(e){return e&&e.nodeType===j.TEXT_NODE}function Q(e,t){var n=e.childNodes||[];if(i(n,G)||W(t))return!1;var r=i(n,W);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function X(e,t){var n=e.childNodes||[];if(i(n,(function(e){return G(e)&&e!==t})))return!1;var r=i(n,W);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function Z(e,t,n){if(!function(e){return e&&(e.nodeType===j.DOCUMENT_NODE||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.ELEMENT_NODE)}(e))throw new A(E,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new A(C,"child not in parent");if(!function(e){return e&&(G(e)||K(e)||W(e)||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.COMMENT_NODE||e.nodeType===j.PROCESSING_INSTRUCTION_NODE)}(t)||W(t)&&e.nodeType!==j.DOCUMENT_NODE)throw new A(E,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function Y(e,t,n){var r=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var o=a.filter(G);if(o.length>1||i(a,K))throw new A(E,"More than one element or text in fragment");if(1===o.length&&!Q(e,n))throw new A(E,"Element in fragment can not be inserted before doctype")}if(G(t)&&!Q(e,n))throw new A(E,"Only one element can be added and only after doctype");if(W(t)){if(i(r,W))throw new A(E,"Only one doctype is allowed");var s=i(r,G);if(n&&r.indexOf(s)<r.indexOf(n))throw new A(E,"Doctype can only be inserted before an element");if(!n&&s)throw new A(E,"Doctype can not be appended since element is present")}}function J(e,t,n){var r=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var o=a.filter(G);if(o.length>1||i(a,K))throw new A(E,"More than one element or text in fragment");if(1===o.length&&!X(e,n))throw new A(E,"Element in fragment can not be inserted before doctype")}if(G(t)&&!X(e,n))throw new A(E,"Only one element can be added and only after doctype");if(W(t)){if(i(r,(function(e){return W(e)&&e!==n})))throw new A(E,"Only one doctype is allowed");var s=i(r,G);if(n&&r.indexOf(s)<r.indexOf(n))throw new A(E,"Doctype can only be inserted before an element")}}function $(e,t,n,r){Z(e,t,n),e.nodeType===j.DOCUMENT_NODE&&(r||Y)(e,t,n);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===T){var a=t.firstChild;if(null==a)return t;var o=t.lastChild}else a=o=t;var s=n?n.previousSibling:e.lastChild;a.previousSibling=s,o.nextSibling=n,s?s.nextSibling=a:e.firstChild=a,null==n?e.lastChild=o:n.previousSibling=o;do{a.parentNode=e}while(a!==o&&(a=a.nextSibling));return H(e.ownerDocument||e,e),t.nodeType==T&&(t.firstChild=t.lastChild=null),t}function ee(){this._nsMap={}}function te(){}function ne(){}function re(){}function ie(){}function ae(){}function oe(){}function se(){}function ue(){}function le(){}function ce(){}function he(){}function de(){}function fe(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,a=r.namespaceURI;if(a&&null==i&&null==(i=r.lookupPrefix(a)))var o=[{namespace:a,prefix:null}];return ve(this,n,e,t,o),n.join("")}function pe(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!i)return!1;if("xml"===r&&i===a.XML||i===a.XMLNS)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix===r)return s.namespace!==i}return!0}function me(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,F),'"')}function ve(e,t,n,r,i){if(i||(i=[]),r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case d:var o=e.attributes,s=o.length,u=e.firstChild,l=e.tagName,c=l;if(!(n=a.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var h,g=0;g<o.length;g++)if("xmlns"===o.item(g).name){h=o.item(g).value;break}if(!h)for(var w=i.length-1;w>=0;w--){if(""===(x=i[w]).prefix&&x.namespace===e.namespaceURI){h=x.namespace;break}}if(h!==e.namespaceURI)for(w=i.length-1;w>=0;w--){var x;if((x=i[w]).namespace===e.namespaceURI){x.prefix&&(c=x.prefix+":"+l);break}}}t.push("<",c);for(var S=0;S<s;S++){"xmlns"==(E=o.item(S)).prefix?i.push({prefix:E.localName,namespace:E.value}):"xmlns"==E.nodeName&&i.push({prefix:"",namespace:E.value})}for(S=0;S<s;S++){var E,C,I;if(pe(E=o.item(S),0,i))me(t,(C=E.prefix||"")?"xmlns:"+C:"xmlns",I=E.namespaceURI),i.push({prefix:C,namespace:I});ve(E,t,n,r,i)}if(l===c&&pe(e,0,i))me(t,(C=e.prefix||"")?"xmlns:"+C:"xmlns",I=e.namespaceURI),i.push({prefix:C,namespace:I});if(u||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),n&&/^script$/i.test(l))for(;u;)u.data?t.push(u.data):ve(u,t,n,r,i.slice()),u=u.nextSibling;else for(;u;)ve(u,t,n,r,i.slice()),u=u.nextSibling;t.push("</",c,">")}else t.push("/>");return;case b:case T:for(u=e.firstChild;u;)ve(u,t,n,r,i.slice()),u=u.nextSibling;return;case f:return me(t,e.name,e.value);case p:return t.push(e.data.replace(/[<&>]/g,F));case m:return t.push("<![CDATA[",e.data,"]]>");case _:return t.push("\x3c!--",e.data,"--\x3e");case k:var A=e.publicId,P=e.systemId;if(t.push("<!DOCTYPE ",e.name),A)t.push(" PUBLIC ",A),P&&"."!=P&&t.push(" ",P),t.push(">");else if(P&&"."!=P)t.push(" SYSTEM ",P,">");else{var O=e.internalSubset;O&&t.push(" [",O,"]"),t.push(">")}return;case y:return t.push("<?",e.target," ",e.data,"?>");case v:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ge(e,t,n){var r;switch(t.nodeType){case d:(r=t.cloneNode(!1)).ownerDocument=e;case T:break;case f:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(ge(e,i,n)),i=i.nextSibling;return r}function ye(e,t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i];"object"!=typeof a&&a!=r[i]&&(r[i]=a)}switch(t.childNodes&&(r.childNodes=new P),r.ownerDocument=e,r.nodeType){case d:var o=t.attributes,s=r.attributes=new D,u=o.length;s._ownerElement=r;for(var l=0;l<u;l++)r.setAttributeNode(ye(e,o.item(l),!0));break;case f:n=!0}if(n)for(var c=t.firstChild;c;)r.appendChild(ye(e,c,n)),c=c.nextSibling;return r}function _e(e,t,n){e[t]=n}A.prototype=Error.prototype,l(x,A),P.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ve(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},O.prototype.item=function(e){return L(this),this[e]},c(O,P),D.prototype={length:0,item:P.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new A(I);var n=this.getNamedItem(e.nodeName);return M(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new A(I);return t=this.getNamedItemNS(e.namespaceURI,e.localName),M(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return R(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return R(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},U.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new z;if(r.implementation=this,r.childNodes=new P,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new oe;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}},j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return $(this,e,t)},replaceChild:function(e,t){$(this,e,t,J),t&&this.removeChild(t)},removeChild:function(e){return q(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ye(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==p&&e.nodeType==p?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r;t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},l(h,j),l(h,j.prototype),z.prototype={nodeName:"#document",nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==T){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return $(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===d&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),q(this,e)},replaceChild:function(e,t){$(this,e,t,J),e.ownerDocument=this,t&&this.removeChild(t),G(e)&&(this.documentElement=e)},importNode:function(e,t){return ge(this,e,t)},getElementById:function(e){var t=null;return B(this.documentElement,(function(n){if(n.nodeType==d&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=u(e);return new O(this,(function(n){var r=[];return t.length>0&&B(n.documentElement,(function(i){if(i!==n&&i.nodeType===d){var a=i.getAttribute("class");if(a){var o=e===a;if(!o){var s=u(a);o=t.every((l=s,function(e){return l&&-1!==l.indexOf(e)}))}o&&r.push(i)}}var l})),r}))},createElement:function(e){var t=new ee;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new P,(t.attributes=new D)._ownerElement=t,t},createDocumentFragment:function(){var e=new ce;return e.ownerDocument=this,e.childNodes=new P,e},createTextNode:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ae;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new he;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new te;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new le;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new ee,r=t.split(":"),i=n.attributes=new D;return n.childNodes=new P,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new te,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},c(z,j),ee.prototype={nodeType:d,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===T?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,H(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new O(this,(function(t){var n=[];return B(t,(function(r){r===t||r.nodeType!=d||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new O(this,(function(n){var r=[];return B(n,(function(i){i===n||i.nodeType!==d||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},z.prototype.getElementsByTagName=ee.prototype.getElementsByTagName,z.prototype.getElementsByTagNameNS=ee.prototype.getElementsByTagNameNS,c(ee,j),te.prototype.nodeType=f,c(te,j),ne.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(S[E])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},c(ne,j),re.prototype={nodeName:"#text",nodeType:p,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},c(re,ne),ie.prototype={nodeName:"#comment",nodeType:_},c(ie,ne),ae.prototype={nodeName:"#cdata-section",nodeType:m},c(ae,ne),oe.prototype.nodeType=k,c(oe,j),se.prototype.nodeType=w,c(se,j),ue.prototype.nodeType=g,c(ue,j),le.prototype.nodeType=v,c(le,j),ce.prototype.nodeName="#document-fragment",ce.prototype.nodeType=T,c(ce,j),he.prototype.nodeType=y,c(he,j),de.prototype.serializeToString=function(e,t,n){return fe.call(e,t,n)},j.prototype.toString=fe;try{if(Object.defineProperty){var be=function e(t){switch(t.nodeType){case d:case T:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}};Object.defineProperty(O.prototype,"length",{get:function(){return L(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return be(this)},set:function(e){switch(this.nodeType){case d:case T:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),_e=function(e,t,n){e["$$"+t]=n}}}catch(ke){}t.DocumentType=oe,t.DOMException=A,t.DOMImplementation=U,t.Element=ee,t.Node=j,t.NodeList=P,t.XMLSerializer=de},775:function(e,t,n){var r=n(145).freeze;t.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=r({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES},542:function(e,t,n){var r=n(668);r.DOMImplementation,r.XMLSerializer,t.DOMParser=n(708).DOMParser},660:function(e,t,n){var r=n(145).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+i.source+a.source+"*(?::"+i.source+a.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function u(){}function l(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function c(e,t,n,i,a,o){function s(e,t,r){n.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,a),r)}for(var u,l=++t,c=0;;){var h=e.charAt(l);switch(h){case"=":if(1===c)u=e.slice(t,l),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(o.warning('attribute value must after "="'),u=e.slice(t,l)),t=l+1,!((l=e.indexOf(h,t))>0))throw new Error("attribute value no end '"+h+"' match");s(u,d=e.slice(t,l),t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');s(u,d=e.slice(t,l),t),o.warning('attribute "'+u+'" missed start quot('+h+")!!"),t=l+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,l));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,l)),l;case">":switch(c){case 0:n.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,l)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case 2:2===c&&(d=u),4==c?(o.warning('attribute "'+d+'" missed quot(")!'),s(u,d,t)):(r.isHTML(i[""])&&d.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),s(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return l;case"\x80":h=" ";default:if(h<=" ")switch(c){case 0:n.setTagName(e.slice(t,l)),c=6;break;case 1:u=e.slice(t,l),c=2;break;case 4:var d=e.slice(t,l);o.warning('attribute "'+d+'" missed quot(")!!'),s(u,d,t);case 5:c=6}else switch(c){case 2:n.tagName;r.isHTML(i[""])&&u.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),s(u,u,t),t=l,c=1;break;case 5:o.warning('attribute space is required"'+u+'"!!');case 6:c=1,t=l;break;case 3:c=4,t=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function h(e,t,n){for(var i=e.tagName,a=null,o=e.length;o--;){var s=e[o],u=s.qName,l=s.value;if((f=u.indexOf(":"))>0)var c=s.prefix=u.slice(0,f),h=u.slice(f+1),d="xmlns"===c&&h;else h=u,c=null,d="xmlns"===u&&"";s.localName=h,!1!==d&&(null==a&&(a={},p(n,n={})),n[d]=a[d]=l,s.uri=r.XMLNS,t.startPrefixMapping(d,l))}for(o=e.length;o--;){(c=(s=e[o]).prefix)&&("xml"===c&&(s.uri=r.XML),"xmlns"!==c&&(s.uri=n[c||""]))}var f;(f=i.indexOf(":"))>0?(c=e.prefix=i.slice(0,f),h=e.localName=i.slice(f+1)):(c=null,h=e.localName=i);var m=e.uri=n[c||""];if(t.startElement(m,h,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=a,!0;if(t.endElement(m,h,i),a)for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&t.endPrefixMapping(c)}function d(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),a)}return t+1}function f(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function p(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function m(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var a=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],u=!1,l=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],l=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(l=a[3][0]));var c=a[o-1];return n.startDTD(s,u,l),n.endDTD(),c.index+c[0].length}return-1}function v(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function g(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,u.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),p(t,t={}),function(e,t,n,i,a){function o(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function u(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?o(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function p(t){if(t>S){var n=e.substring(S,t).replace(/&#?\w+;/g,u);T&&y(S),i.characters(n,0,t-S),S=t}}function y(t,n){for(;t>=b&&(n=k.exec(e));)_=n.index,b=_+n[0].length,T.lineNumber++;T.columnNumber=t-_+1}var _=0,b=0,k=/.*(?:\r\n?|\n)|.*$/g,T=i.locator,w=[{currentNSMap:t}],x={},S=0;for(;;){try{var E=e.indexOf("<",S);if(E<0){if(!e.substr(S).match(/^\s*$/)){var C=i.doc,I=C.createTextNode(e.substr(S));C.appendChild(I),i.currentElement=I}return}switch(E>S&&p(E),e.charAt(E+1)){case"/":var A=e.indexOf(">",E+3),P=e.substring(E+2,A).replace(/[ \t\n\r]+$/g,""),O=w.pop();A<0?(P=e.substring(E+2).replace(/[\s<].*/,""),a.error("end tag name: "+P+" is not complete:"+O.tagName),A=E+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),a.error("end tag name: "+P+" maybe not complete"),A=E+1+P.length);var L=O.localNSMap,D=O.tagName==P;if(D||O.tagName&&O.tagName.toLowerCase()==P.toLowerCase()){if(i.endElement(O.uri,O.localName,P),L)for(var N in L)Object.prototype.hasOwnProperty.call(L,N)&&i.endPrefixMapping(N);D||a.fatalError("end tag name: "+P+" is not match the current start tagName:"+O.tagName)}else w.push(O);A++;break;case"?":T&&y(E),A=v(e,E,i);break;case"!":T&&y(E),A=m(e,E,i,a);break;default:T&&y(E);var M=new g,R=w[w.length-1].currentNSMap,U=(A=c(e,E,M,R,u,a),M.length);if(!M.closed&&f(e,A,M.tagName,x)&&(M.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),T&&U){for(var j=l(T,{}),F=0;F<U;F++){var B=M[F];y(B.offset),B.locator=l(T,{})}i.locator=j,h(M,i,R)&&w.push(M),i.locator=T}else h(M,i,R)&&w.push(M);r.isHTML(M.uri)&&!M.closed?A=d(e,A,M.tagName,u,i):A++}}catch(z){if(z instanceof s)throw z;a.error("element parse error: "+z),A=-1}A>S?S=A:p(Math.max(E,S)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},g.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!o.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=u,t.ParseError=s},770:function(e){e.exports=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;e(this,t);var a=this;if(!n||1!==n.nodeType)return new Error("Incorrect element type");a.$container=n,a.texts=r||[],a.config=o(o({},t._defaultConfig),i||{}),a.radius=a.config.radius,a.depth=2*a.radius,a.size=1.5*a.radius,a.maxSpeed=t._getMaxSpeed(a.config.maxSpeed),a.initSpeed=t._getInitSpeed(a.config.initSpeed),a.direction=a.config.direction,a.keep=a.config.keep,a.paused=!1,a._createElment(),a._init(),t.list.push({el:a.$el,container:n,instance:a})}return n(t,[{key:"_createElment",value:function(){var e=this,t=document.createElement("div");t.className=e.config.containerClass,e.config.useContainerInlineStyles&&(t.style.position="relative",t.style.width="".concat(2*e.radius,"px"),t.style.height="".concat(2*e.radius,"px")),e.items=[],e.texts.forEach((function(n,r){var i=e._createTextItem(n,r);t.appendChild(i.el),e.items.push(i)})),e.$container.appendChild(t),e.$el=t}},{key:"_createTextItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this,r=document.createElement("span");if(r.className=n.config.itemClass,n.config.useItemInlineStyles){r.style.willChange="transform, opacity, filter",r.style.position="absolute",r.style.top="50%",r.style.left="50%",r.style.zIndex=t+1,r.style.filter="alpha(opacity=0)",r.style.opacity=0;var i="50% 50%";r.style.WebkitTransformOrigin=i,r.style.MozTransformOrigin=i,r.style.OTransformOrigin=i,r.style.transformOrigin=i;var a="translate3d(-50%, -50%, 0) scale(1)";r.style.WebkitTransform=a,r.style.MozTransform=a,r.style.OTransform=a,r.style.transform=a}return r.innerText=e,o({el:r},n._computePosition(t))}},{key:"_computePosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.texts.length;t&&(e=Math.floor(Math.random()*(r+1)));var i=Math.acos((2*e+1)/r-1),a=Math.sqrt((r+1)*Math.PI)*i;return{x:n.size*Math.cos(a)*Math.sin(i)/2,y:n.size*Math.sin(a)*Math.sin(i)/2,z:n.size*Math.cos(i)/2}}},{key:"_requestInterval",value:function(e,t){var n=(function(){return window.requestAnimationFrame}||function(e,t){window.setTimeout(e,1e3/60)})(),r=(new Date).getTime(),i={};function a(){i.value=n(a),(new Date).getTime()-r>=t&&(e.call(),r=(new Date).getTime())}return i.value=n(a),i}},{key:"_init",value:function(){var e=this;e.active=!1,e.mouseX0=e.initSpeed*Math.sin(e.direction*(Math.PI/180)),e.mouseY0=-e.initSpeed*Math.cos(e.direction*(Math.PI/180)),e.mouseX=e.mouseX0,e.mouseY=e.mouseY0,t._on(e.$el,"mouseover",(function(){e.active=!0})),t._on(e.$el,"mouseout",(function(){e.active=!1})),t._on(e.keep?window:e.$el,"mousemove",(function(t){t=t||window.event;var n=e.$el.getBoundingClientRect();e.mouseX=(t.clientX-(n.left+n.width/2))/5,e.mouseY=(t.clientY-(n.top+n.height/2))/5})),e._next(),e.interval=e._requestInterval((function(){e._next.call(e)}),10)}},{key:"_next",value:function(){var e=this;if(!e.paused){e.keep||e.active||(e.mouseX=Math.abs(e.mouseX-e.mouseX0)<1?e.mouseX0:(e.mouseX+e.mouseX0)/2,e.mouseY=Math.abs(e.mouseY-e.mouseY0)<1?e.mouseY0:(e.mouseY+e.mouseY0)/2);var t=-Math.min(Math.max(-e.mouseY,-e.size),e.size)/e.radius*e.maxSpeed,n=Math.min(Math.max(-e.mouseX,-e.size),e.size)/e.radius*e.maxSpeed;if(!(Math.abs(t)<=.01&&Math.abs(n)<=.01)){var r=Math.PI/180,i=[Math.sin(t*r),Math.cos(t*r),Math.sin(n*r),Math.cos(n*r)];e.items.forEach((function(t){var n=t.x,r=t.y*i[1]+t.z*-i[0],a=t.y*i[0]+t.z*i[1],o=n*i[3]+a*i[2],s=r,u=a*i[3]-n*i[2],l=2*e.depth/(2*e.depth+u);t.x=o,t.y=s,t.z=u,t.scale=l.toFixed(3);var c=l*l-.25;c=(c>1?1:c).toFixed(3);var h=t.el,d=(t.x-h.offsetWidth/2).toFixed(2),f=(t.y-h.offsetHeight/2).toFixed(2),p="translate3d(".concat(d,"px, ").concat(f,"px, 0) scale(").concat(t.scale,")");h.style.WebkitTransform=p,h.style.MozTransform=p,h.style.OTransform=p,h.style.transform=p,h.style.filter="alpha(opacity=".concat(100*c,")"),h.style.opacity=c}))}}}},{key:"update",value:function(e){var t=this;t.texts=e||[],t.texts.forEach((function(e,n){var r=t.items[n];r||(i(r=t._createTextItem(e,n),t._computePosition(n,!0)),t.$el.appendChild(r.el),t.items.push(r)),r.el.innerText=e}));var n=t.texts.length,r=t.items.length;n<r&&t.items.splice(n,r-n).forEach((function(e){t.$el.removeChild(e.el)}))}},{key:"destroy",value:function(){var e=this;e.interval=null;var n=t.list.findIndex((function(t){return t.el===e.$el}));-1!==n&&t.list.splice(n,1),e.$container&&e.$el&&e.$container.removeChild(e.$el)}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}}],[{key:"_on",value:function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent?e.attachEvent("on".concat(t),n):e["on".concat(t)]=n}}]),t}();return s.list=[],s._defaultConfig={radius:100,maxSpeed:"normal",initSpeed:"normal",direction:135,keep:!0,useContainerInlineStyles:!0,useItemInlineStyles:!0,containerClass:"tagcloud",itemClass:"tagcloud--item"},s._getMaxSpeed=function(e){return{slow:.5,normal:1,fast:2}[e]||1},s._getInitSpeed=function(e){return{slow:16,normal:32,fast:80}[e]||32},function(e,t,n){"string"===typeof e&&(e=document.querySelectorAll(e)),e.forEach||(e=[e]);var r=[];return e.forEach((function(e){e&&r.push(new s(e,t,n))})),r.length<=1?r[0]:r}}()},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},203:function(e,t,n){var r,i="undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:{},a=n(893);"undefined"!==typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=a),e.exports=r},851:function(e,t,n){var r;r="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},e.exports=r},112:function(e){e.exports=function(e){if(!e)return!1;var n=t.call(e);return"[object Function]"===n||"function"===typeof e&&"[object RegExp]"!==n||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},943:function(e,t){function n(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return o[e];var n,a=String(e);return(n=r[a.toLowerCase()])?n:(n=i[a.toLowerCase()])||(1===a.length?a.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"===typeof e){var n=e.which||e.keyCode||e.charCode;if(null===n||void 0===n)return!1;if("string"===typeof t){var a;if(a=r[t.toLowerCase()])return a===n;if(a=i[t.toLowerCase()])return a===n}else if("number"===typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(a=97;a<123;a++)r[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)r[a-48]=a;for(a=1;a<13;a++)r["f"+a]=a+111;for(a=0;a<10;a++)r["numpad "+a]=a+96;var o=t.names=t.title={};for(a in r)o[r[a]]=a;for(var s in i)r[s]=i[s]},559:function(e,t){!function(e){"use strict";var t="1.9.2";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var a=0;function o(e){return"_leaflet_id"in e||(e._leaflet_id=++a),e._leaflet_id}function s(e,t,n){var r,i,a,o;return o=function(){r=!1,i&&(a.apply(n,i),i=!1)},a=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(o,t),r=!0)},a}function u(e,t,n){var r=t[1],i=t[0],a=r-i;return e===r&&n?e:((e-i)%a+a)%a+i}function l(){return!1}function c(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function h(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return h(e).split(/\s+/)}function f(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function p(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function v(e,t){return e.replace(m,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var k=0;function T(e){var t=+new Date,n=Math.max(0,16-(t-k));return k=t+n,window.setTimeout(e,n)}var w=window.requestAnimationFrame||b("RequestAnimationFrame")||T,x=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function S(e,t,n){if(!n||w!==T)return w.call(window,i(e,t));e.call(t)}function E(e){e&&x.call(window,e)}var C={__proto__:null,extend:n,create:r,bind:i,get lastId(){return a},stamp:o,throttle:s,wrapNum:u,falseFn:l,formatNum:c,trim:h,splitWords:d,setOptions:f,getParamString:p,template:v,isArray:g,indexOf:y,emptyImageUrl:_,requestFn:w,cancelFn:x,requestAnimFrame:S,cancelAnimFrame:E};function I(){}function A(e){if("undefined"!==typeof L&&L&&L.Mixin){e=g(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}I.extend=function(e){var t=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,a=r(i);for(var o in a.constructor=t,t.prototype=a,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(t[o]=this[o]);return e.statics&&n(t,e.statics),e.includes&&(A(e.includes),n.apply(null,[a].concat(e.includes))),n(a,e),delete a.statics,delete a.includes,a.options&&(a.options=i.options?r(i.options):{},n(a.options,e.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},t},I.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},I.mergeOptions=function(e){return n(this.prototype.options,e),this},I.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var P={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,a=(e=d(e)).length;i<a;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=d(e);for(var i=1===arguments.length,a=0,o=e.length;a<o;a++)i?this._off(e[a]):this._off(e[a],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,a;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var o=this._listens(e,t,n);if(!1!==o){var s=r[o];this._firingCount&&(s.fn=l,this._events[e]=r=r.slice()),r.splice(o,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,a=r.length;i<a;i++)r[i].fn=l;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var u=a[o],l=u.fn;u.once&&this.off(e,l,u.ctx),l.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(r=!!t,i=void 0,n=void 0);var a=this._events&&this._events[e];if(a&&a.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var o in this._eventParents)if(this._eventParents[o].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,a=r.length;i<a;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,a=(e=d(e)).length;i<a;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};P.addEventListener=P.on,P.removeEventListener=P.clearAllEventListeners=P.off,P.addOneTimeEventListener=P.once,P.fireEvent=P.fire,P.hasEventListeners=P.listens;var O=I.extend(P);function D(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var N=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function M(e,t,n){return e instanceof D?e:g(e)?new D(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new D(e.x,e.y):new D(e,t,n)}function R(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function U(e,t){return!e||e instanceof R?e:new R(e,t)}function j(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function F(e,t){return e instanceof j?e:new j(e,t)}function B(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function z(e,t,n){return e instanceof B?e:g(e)&&"object"!==typeof e[0]?3===e.length?new B(e[0],e[1],e[2]):2===e.length?new B(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new B(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new B(e,t,n)}D.prototype={clone:function(){return new D(this.x,this.y)},add:function(e){return this.clone()._add(M(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(M(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new D(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new D(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(e){var t=(e=M(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=M(e)).x===this.x&&e.y===this.y},contains:function(e){return e=M(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},R.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof D||"number"===typeof e[0]||"x"in e)t=n=M(e);else if(t=(e=U(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof D?M(e):U(e))instanceof R?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=U(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>=t.x&&r.x<=n.x,o=i.y>=t.y&&r.y<=n.y;return a&&o},overlaps:function(e){e=U(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>t.x&&r.x<n.x,o=i.y>t.y&&r.y<n.y;return a&&o},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return U(M(t.x-r,t.y-i),M(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=U(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},j.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof B)t=e,n=e;else{if(!(e instanceof j))return e?this.extend(z(e)||F(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new B(t.lat,t.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new j(new B(t.lat-r,t.lng-i),new B(n.lat+r,n.lng+i))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof B||"lat"in e?z(e):F(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof j?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=F(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>=t.lat&&r.lat<=n.lat,o=i.lng>=t.lng&&r.lng<=n.lng;return a&&o},overlaps:function(e){e=F(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>t.lat&&r.lat<n.lat,o=i.lng>t.lng&&r.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=F(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(e,t){return!!e&&(e=z(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+c(this.lat,e)+", "+c(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,z(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return F([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var V={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new R(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?u(e.lng,this.wrapLng,!0):e.lng;return new B(this.wrapLat?u(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var a=e.getSouthWest(),o=e.getNorthEast();return new j(new B(a.lat-r,a.lng-i),new B(o.lat-r,o.lng-i))}},H=n({},V,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=a*a+Math.cos(r)*Math.cos(i)*o*o,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),q=6378137,W={R:q,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new D(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new B((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=q*Math.PI;return new R([-e,-e],[e,e])}()};function G(e,t,n,r){if(g(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function K(e,t,n,r){return new G(e,t,n,r)}G.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new D((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Q=n({},H,{code:"EPSG:3857",projection:W,transformation:function(){var e=.5/(Math.PI*W.R);return K(e,.5,-e,.5)}()}),X=n({},Q,{code:"EPSG:900913"});function Z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var n,r,i,a,o,s,u="";for(n=0,i=e.length;n<i;n++){for(r=0,a=(o=e[n]).length;r<a;r++)u+=(r?"L":"M")+(s=o[r]).x+" "+s.y;u+=t?Re.svg?"z":"x":""}return u||"M0 0"}var J=document.documentElement.style,$="ActiveXObject"in window,ee=$&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Me("webkit"),re=Me("android"),ie=Me("android 2")||Me("android 3"),ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),oe=re&&Me("Google")&&ae<537&&!("AudioNode"in window),se=!!window.opera,ue=!te&&Me("chrome"),le=Me("gecko")&&!ne&&!se&&!$,ce=!ue&&Me("safari"),he=Me("phantom"),de="OTransition"in J,fe=0===navigator.platform.indexOf("Win"),pe=$&&"transition"in J,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ve="MozPerspective"in J,ge=!window.L_DISABLE_3D&&(pe||me||ve)&&!de&&!he,ye="undefined"!==typeof orientation||Me("mobile"),_e=ye&&ne,be=ye&&me,ke=!window.PointerEvent&&window.MSPointerEvent,Te=!(!window.PointerEvent&&!ke),we="ontouchstart"in window||!!window.TouchEvent,xe=!window.L_NO_TOUCH&&(we||Te),Se=ye&&se,Ee=ye&&le,Ce=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ie=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",l,t),window.removeEventListener("testPassiveEventSupport",l,t)}catch(n){}return e}(),Ae=!!document.createElement("canvas").getContext,Pe=!(!document.createElementNS||!Z("svg").createSVGRect),Oe=!!Pe&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Le=!Pe&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),De=0===navigator.platform.indexOf("Mac"),Ne=0===navigator.platform.indexOf("Linux");function Me(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Re={ie:$,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:oe,opera:se,chrome:ue,gecko:le,safari:ce,phantom:he,opera12:de,win:fe,ie3d:pe,webkit3d:me,gecko3d:ve,any3d:ge,mobile:ye,mobileWebkit:_e,mobileWebkit3d:be,msPointer:ke,pointer:Te,touch:xe,touchNative:we,mobileOpera:Se,mobileGecko:Ee,retina:Ce,passiveEvents:Ie,canvas:Ae,svg:Pe,vml:Le,inlineSvg:Oe,mac:De,linux:Ne},Ue=Re.msPointer?"MSPointerDown":"pointerdown",je=Re.msPointer?"MSPointerMove":"pointermove",Fe=Re.msPointer?"MSPointerUp":"pointerup",Be=Re.msPointer?"MSPointerCancel":"pointercancel",ze={touchstart:Ue,touchmove:je,touchend:Fe,touchcancel:Be},Ve={touchstart:Je,touchmove:Ye,touchend:Ye,touchcancel:Ye},He={},qe=!1;function We(e,t,n){return"touchstart"===t&&Ze(),Ve[t]?(n=Ve[t].bind(this,n),e.addEventListener(ze[t],n,!1),n):(console.warn("wrong event specified:",t),L.Util.falseFn)}function Ge(e,t,n){ze[t]?e.removeEventListener(ze[t],n,!1):console.warn("wrong event specified:",t)}function Ke(e){He[e.pointerId]=e}function Qe(e){He[e.pointerId]&&(He[e.pointerId]=e)}function Xe(e){delete He[e.pointerId]}function Ze(){qe||(document.addEventListener(Ue,Ke,!0),document.addEventListener(je,Qe,!0),document.addEventListener(Fe,Xe,!0),document.addEventListener(Be,Xe,!0),qe=!0)}function Ye(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],He)t.touches.push(He[n]);t.changedTouches=[t],e(t)}}function Je(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Kt(t),Ye(e,t)}function $e(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Xt(e);if(!i.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||i.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var a=Date.now();a-r<=et?2===++n&&t($e(e)):n=1,r=a}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var rt,it,at,ot,st,ut=St(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),lt=St(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ct="webkitTransition"===lt||"OTransition"===lt?lt+"End":"transitionend";function ht(e){return"string"===typeof e?document.getElementById(e):e}function dt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function ft(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function pt(e){var t=e.parentNode;t&&t.removeChild(e)}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function vt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function gt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function yt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=Tt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function _t(e,t){if(void 0!==e.classList)for(var n=d(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!yt(e,t)){var a=Tt(e);kt(e,(a?a+" ":"")+t)}}function bt(e,t){void 0!==e.classList?e.classList.remove(t):kt(e,h((" "+Tt(e)+" ").replace(" "+t+" "," ")))}function kt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function Tt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function wt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&xt(e,t)}function xt(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function St(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Et(e,t,n){var r=t||new D(0,0);e.style[ut]=(Re.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Ct(e,t){e._leaflet_pos=t,Re.any3d?Et(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function It(e){return e._leaflet_pos||new D(0,0)}if("onselectstart"in document)rt=function(){Ut(window,"selectstart",Kt)},it=function(){Ft(window,"selectstart",Kt)};else{var At=St(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(At){var e=document.documentElement.style;at=e[At],e[At]="none"}},it=function(){At&&(document.documentElement.style[At]=at,at=void 0)}}function Pt(){Ut(window,"dragstart",Kt)}function Ot(){Ft(window,"dragstart",Kt)}function Lt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Dt(),ot=e,st=e.style.outline,e.style.outline="none",Ut(window,"keydown",Dt))}function Dt(){ot&&(ot.style.outline=st,ot=void 0,st=void 0,Ft(window,"keydown",Dt))}function Nt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Mt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Rt={__proto__:null,TRANSFORM:ut,TRANSITION:lt,TRANSITION_END:ct,get:ht,getStyle:dt,create:ft,remove:pt,empty:mt,toFront:vt,toBack:gt,hasClass:yt,addClass:_t,removeClass:bt,setClass:kt,getClass:Tt,setOpacity:wt,testProp:St,setTransform:Et,setPosition:Ct,getPosition:It,get disableTextSelection(){return rt},get enableTextSelection(){return it},disableImageDrag:Pt,enableImageDrag:Ot,preventOutline:Lt,restoreOutline:Dt,getSizedParentNode:Nt,getScale:Mt};function Ut(e,t,n,r){if(t&&"object"===typeof t)for(var i in t)Vt(e,i,t[i],n);else for(var a=0,o=(t=d(t)).length;a<o;a++)Vt(e,t[a],n,r);return this}var jt="_leaflet_events";function Ft(e,t,n,r){if(1===arguments.length)Bt(e),delete e[jt];else if(t&&"object"===typeof t)for(var i in t)Ht(e,i,t[i],n);else if(t=d(t),2===arguments.length)Bt(e,(function(e){return-1!==y(t,e)}));else for(var a=0,o=t.length;a<o;a++)Ht(e,t[a],n,r);return this}function Bt(e,t){for(var n in e[jt]){var r=n.split(/\d/)[0];t&&!t(r)||Ht(e,r,null,null,n)}}var zt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vt(e,t,n,r){var i=t+o(n)+(r?"_"+o(r):"");if(e[jt]&&e[jt][i])return this;var a=function(t){return n.call(r||e,t||window.event)},s=a;!Re.touchNative&&Re.pointer&&0===t.indexOf("touch")?a=We(e,t,a):Re.touch&&"dblclick"===t?a=tt(e,a):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(zt[t]||t,a,!!Re.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||window.event,$t(e,t)&&s(t)},e.addEventListener(zt[t],a,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,a),e[jt]=e[jt]||{},e[jt][i]=a}function Ht(e,t,n,r,i){i=i||t+o(n)+(r?"_"+o(r):"");var a=e[jt]&&e[jt][i];if(!a)return this;!Re.touchNative&&Re.pointer&&0===t.indexOf("touch")?Ge(e,t,a):Re.touch&&"dblclick"===t?nt(e,a):"removeEventListener"in e?e.removeEventListener(zt[t]||t,a,!1):e.detachEvent("on"+t,a),e[jt][i]=null}function qt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Wt(e){return Vt(e,"wheel",qt),this}function Gt(e){return Ut(e,"mousedown touchstart dblclick contextmenu",qt),e._leaflet_disable_click=!0,this}function Kt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Qt(e){return Kt(e),qt(e),this}function Xt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Zt(e,t){if(!t)return new D(e.clientX,e.clientY);var n=Mt(t),r=n.boundingClientRect;return new D((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Yt=Re.linux&&Re.chrome?window.devicePixelRatio:Re.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jt(e){return Re.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Yt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function $t(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var en={__proto__:null,on:Ut,off:Ft,stopPropagation:qt,disableScrollPropagation:Wt,disableClickPropagation:Gt,preventDefault:Kt,stop:Qt,getPropagationPath:Xt,getMousePosition:Zt,getWheelDelta:Jt,isExternalTarget:$t,addListener:Ut,removeListener:Ft},tn=O.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=It(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Ct(this._el,n),this.fire("step")},_complete:function(){E(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=O.extend({options:{crs:Q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=f(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(z(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=lt&&Re.any3d&&!Re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,ct,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(z(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),a=(e instanceof D?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),o=this.containerPointToLatLng(i.add(a));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():F(e);var n=M(t.paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var a=r.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(o.add(s).divideBy(2).add(a),i),zoom:i}},fitBounds:function(e,t){if(!(e=F(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=M(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){_t(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Re.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),a=this.getSize(),o=this._zoom;e=z(e),t=void 0===t?o:t;var s=Math.max(a.x,a.y),u=s*this.getZoomScale(o,t),l=i.distanceTo(r)||1,c=1.42,h=c*c;function d(e){var t=(u*u-s*s+(e?-1:1)*h*h*l*l)/(2*(e?u:s)*h*l),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function f(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return f(e)/p(e)}var v=d(0);function g(e){return s*(p(v)/p(v+c*e))}function y(e){return s*(p(v)*m(v+c*e)-f(v))/h}function _(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),k=(d(1)-v)/c,T=n.duration?1e3*n.duration:1e3*k*.8;function w(){var n=(Date.now()-b)/T,a=_(n)*k;n<=1?(this._flyToFrame=S(w,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(y(a)/l)),o),this.getScaleZoom(s/g(a),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),w.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=F(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,F(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=M((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),a=this.project(e),o=this.getPixelBounds(),s=U([o.min.add(n),o.max.subtract(r)]),u=s.getSize();if(!s.contains(a)){this._enforcingBounds=!0;var l=a.subtract(s.getCenter()),c=s.extend(a).getSize().subtract(u);i.x+=l.x<0?-c.x:c.x,i.y+=l.y<0?-c.y:c.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=t.divideBy(2).round(),o=r.divideBy(2).round(),s=a.subtract(o);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new B(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var a={latlng:t,bounds:n,timestamp:e.timestamp};for(var o in e.coords)"number"===typeof e.coords[o]&&(a[o]=e.coords[o]);this.fire("locationfound",a)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(E(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)pt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ft("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new j(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=F(e),n=M(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),u=this.getSize().subtract(n),l=U(this.project(s,r),this.project(o,r)).getSize(),c=Re.any3d?this.options.zoomSnap:1,h=u.x/l.x,d=u.y/l.y,f=t?Math.max(h,d):Math.min(h,d);return r=this.getScaleZoom(f,r),c&&(r=Math.round(r/(c/100))*(c/100),r=t?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(a,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new R(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(z(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(M(e),t)},layerPointToLatLng:function(e){var t=M(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(z(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(z(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(F(e))},distance:function(e,t){return this.options.crs.distance(z(e),z(t))},containerPointToLayerPoint:function(e){return M(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return M(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(M(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(e)))},mouseEventToContainerPoint:function(e){return Zt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ht(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Ut(t,"scroll",this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Re.any3d,_t(e,"leaflet-container"+(Re.touch?" leaflet-touch":"")+(Re.retina?" leaflet-retina":"")+(Re.ielt9?" leaflet-oldie":"")+(Re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=dt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(e.markerPane,"leaflet-zoom-hide"),_t(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Ct(this._mapPane,new D(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return E(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ct(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?Ft:Ut;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Re.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){E(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,s=!1;a;){if((n=this._targets[o(a)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!$t(a,e))break;if(r.push(n),i)break}if(a===this._container)break;a=a.parentNode}return r.length||s||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Lt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var a=this._findEventTargets(e,t);if(r){for(var o=[],s=0;s<r.length;s++)r[s].listens(t,!0)&&o.push(r[s]);a=o.concat(a)}if(a.length){"contextmenu"===t&&Kt(e);var u=a[0],l={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var c=u.getLatLng&&(!u._radius||u._radius<=10);l.containerPoint=c?this.latLngToContainerPoint(u.getLatLng()):this.mouseEventToContainerPoint(e),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=c?u.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(s=0;s<a.length;s++)if(a[s].fire(t,l,!0),l.originalEvent._stopped||!1===a[s].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return It(this._mapPane)||new D(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return U([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),a=new R(r.subtract(i),r.add(i)),o=this._getBoundsOffset(a,n,t);return o.round().equals([0,0])?e:this.unproject(r.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new R(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=U(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),a=r.max.subtract(e.max);return new D(this._rebound(i.x,-a.x),this._rebound(i.y,-a.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=Re.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=ut,n=this._proxy.style[t];Et(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Et(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(S((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var an=I.extend({options:{position:"topright"},initialize:function(e){f(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return _t(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),on=function(e){return new an(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ft("div",t+"control-container",this._container);function r(r,i){var a=t+r+" "+t+i;e[r+i]=ft("div",a,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)pt(this._controlCorners[e]);pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return an.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(_t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ft("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Gt(t),Wt(t);var r=this._section=ft("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Ut(t,{mouseenter:function(){Ut(r,"click",Kt),this.expand(),setTimeout((function(){Ft(r,"click",Kt)}))},mouseleave:this.collapse},this));var i=this._layersLink=ft("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),Ut(i,"click",Kt),Ut(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ft("div",e+"-base",r),this._separator=ft("div",e+"-separator",r),this._overlaysList=ft("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mt(this._baseLayersList),mt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+o(this),r),this._layerControlInputs.push(t),t.layerId=o(e.layer),Ut(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var a=document.createElement("span");return n.appendChild(a),a.appendChild(t),a.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var a=n.length-1;a>=0;a--)e=n[a],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])&&this._map.removeLayer(i[a]);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])||this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),un=function(e,t,n){return new sn(e,t,n)},ln=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ft("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var a=ft("a",n,r);return a.innerHTML=e,a.href="#",a.title=t,a.setAttribute("role","button"),a.setAttribute("aria-label",t),Gt(a),Ut(a,"click",Qt),Ut(a,"click",i,this),Ut(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";bt(this._zoomInButton,t),bt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(_t(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(_t(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new ln,this.addControl(this.zoomControl))}));var cn=function(e){return new ln(e)},hn=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ft("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ft("div",t,n)),e.imperial&&(this._iScale=ft("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),dn=function(e){return new hn(e)},fn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pn=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Re.inlineSvg?fn+" ":"")+"Leaflet</a>"},initialize:function(e){f(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),Gt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new pn).addTo(this)}));var mn=function(e){return new pn(e)};an.Layers=sn,an.Zoom=ln,an.Scale=hn,an.Attribution=pn,on.layers=un,on.zoom=cn,on.scale=dn,on.attribution=mn;var vn=I.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vn.addTo=function(e,t){return e.addHandler(t,this),this};var gn,yn={Events:P},_n=Re.touch?"touchstart mousedown":"mousedown",bn=O.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){f(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Ut(this._dragStartTarget,_n,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bn._dragging===this&&this.finishDrag(!0),Ft(this._dragStartTarget,_n,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!yt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)bn._dragging===this&&this.finishDrag();else if(!(bn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(bn._dragging=this,this._preventOutline&&Lt(this._element),Pt(),rt(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Nt(this._element);this._startPoint=new D(t.clientX,t.clientY),this._startPos=It(this._element),this._parentScale=Mt(n);var r="mousedown"===e.type;Ut(document,r?"mousemove":"touchmove",this._onMove,this),Ut(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new D(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Kt(e),this._moved||(this.fire("dragstart"),this._moved=!0,_t(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ct(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ft(document,"mousemove touchmove",this._onMove,this),Ft(document,"mouseup touchend touchcancel",this._onUp,this),Ot(),it(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,bn._dragging=!1}});function kn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=xn(e=En(e,n),n)}function Tn(e,t,n){return Math.sqrt(On(e,t,n,!0))}function wn(e,t,n){return On(e,t,n)}function xn(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,Sn(e,r,t,0,n-1);var i,a=[];for(i=0;i<n;i++)r[i]&&a.push(e[i]);return a}function Sn(e,t,n,r,i){var a,o,s,u=0;for(o=r+1;o<=i-1;o++)(s=On(e[o],e[r],e[i],!0))>u&&(a=o,u=s);u>n&&(t[a]=1,Sn(e,t,n,r,a),Sn(e,t,n,a,i))}function En(e,t){for(var n=[e[0]],r=1,i=0,a=e.length;r<a;r++)Pn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<a-1&&n.push(e[a-1]),n}function Cn(e,t,n,r,i){var a,o,s,u=r?gn:An(e,n),l=An(t,n);for(gn=l;;){if(!(u|l))return[e,t];if(u&l)return!1;s=An(o=In(e,t,a=u||l,n,i),n),a===u?(e=o,u=s):(t=o,l=s)}}function In(e,t,n,r,i){var a,o,s=t.x-e.x,u=t.y-e.y,l=r.min,c=r.max;return 8&n?(a=e.x+s*(c.y-e.y)/u,o=c.y):4&n?(a=e.x+s*(l.y-e.y)/u,o=l.y):2&n?(a=c.x,o=e.y+u*(c.x-e.x)/s):1&n&&(a=l.x,o=e.y+u*(l.x-e.x)/s),new D(a,o,i)}function An(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Pn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function On(e,t,n,r){var i,a=t.x,o=t.y,s=n.x-a,u=n.y-o,l=s*s+u*u;return l>0&&((i=((e.x-a)*s+(e.y-o)*u)/l)>1?(a=n.x,o=n.y):i>0&&(a+=s*i,o+=u*i)),s=e.x-a,u=e.y-o,r?s*s+u*u:new D(a,o)}function Ln(e){return!g(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Dn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ln(e)}function Nn(e,t){var n,r,i,a,o,s,u,l;if(!e||0===e.length)throw new Error("latlngs not passed");Ln(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var c=[];for(var h in e)c.push(t.project(z(e[h])));var d=c.length;for(n=0,r=0;n<d-1;n++)r+=c[n].distanceTo(c[n+1])/2;if(0===r)l=c[0];else for(n=0,a=0;n<d-1;n++)if(o=c[n],s=c[n+1],(a+=i=o.distanceTo(s))>r){u=(a-r)/i,l=[s.x-u*(s.x-o.x),s.y-u*(s.y-o.y)];break}return t.unproject(M(l))}var Mn={__proto__:null,simplify:kn,pointToSegmentDistance:Tn,closestPointOnSegment:wn,clipSegment:Cn,_getEdgeIntersection:In,_getBitCode:An,_sqClosestPointOnSegment:On,isFlat:Ln,_flat:Dn,polylineCenter:Nn};function Rn(e,t,n){var r,i,a,o,s,u,l,c,h,d=[1,4,2,8];for(i=0,l=e.length;i<l;i++)e[i]._code=An(e[i],t);for(o=0;o<4;o++){for(c=d[o],r=[],i=0,a=(l=e.length)-1;i<l;a=i++)s=e[i],u=e[a],s._code&c?u._code&c||((h=In(u,s,c,t,n))._code=An(h,t),r.push(h)):(u._code&c&&((h=In(u,s,c,t,n))._code=An(h,t),r.push(h)),r.push(s));e=r}return e}function Un(e,t){var n,r,i,a,o,s,u,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Ln(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var h=[];for(var d in e)h.push(t.project(z(e[d])));var f=h.length;for(s=u=l=0,n=0,r=f-1;n<f;r=n++)i=h[n],a=h[r],o=i.y*a.x-a.y*i.x,u+=(i.x+a.x)*o,l+=(i.y+a.y)*o,s+=3*o;return c=0===s?h[0]:[u/s,l/s],t.unproject(M(c))}var jn={__proto__:null,clipPolygon:Rn,polygonCenter:Un},Fn={project:function(e){return new D(e.lng,e.lat)},unproject:function(e){return new B(e.y,e.x)},bounds:new R([-180,-90],[180,90])},Bn={R:6378137,R_MINOR:6356752.314245179,bounds:new R([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,a=Math.sqrt(1-i*i),o=a*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-o)/(1+o),a/2);return r=-n*Math.log(Math.max(s,1e-10)),new D(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,a=Math.sqrt(1-i*i),o=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(o),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)t=a*Math.sin(s),t=Math.pow((1-t)/(1+t),a/2),s+=l=Math.PI/2-2*Math.atan(o*t)-s;return new B(s*n,e.x*n/r)}},zn={__proto__:null,LonLat:Fn,Mercator:Bn,SphericalMercator:W},Vn=n({},H,{code:"EPSG:3395",projection:Bn,transformation:function(){var e=.5/(Math.PI*Bn.R);return K(e,.5,-e,.5)}()}),Hn=n({},H,{code:"EPSG:4326",projection:Fn,transformation:K(1/180,1,-1/180,.5)}),qn=n({},V,{projection:Fn,transformation:K(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});V.Earth=H,V.EPSG3395=Vn,V.EPSG3857=Q,V.EPSG900913=X,V.EPSG4326=Hn,V.Simple=qn;var Wn=O.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=o(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?g(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gn=Wn.extend({initialize:function(e,t){var n,r;if(f(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return o(e)}}),Kn=function(e,t){return new Gn(e,t)},Qn=Gn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Gn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Gn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new j;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Xn=function(e,t){return new Qn(e,t)},Zn=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){f(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=M(r),a=M("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),a&&(e.style.marginLeft=-a.x+"px",e.style.marginTop=-a.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Re.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Yn(e){return new Zn(e)}var Jn=Zn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof Jn.imagePath&&(Jn.imagePath=this._detectIconPath()),(this.options.imagePath||Jn.imagePath)+Zn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ft("div","leaflet-default-icon-path",document.body),t=dt(e,"background-image")||dt(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-"leaflet.css".length-1):""}}),$n=vn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new bn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,a=It(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),u=U(o.min._subtract(s).add(i),o.max._subtract(s).subtract(i));if(!u.contains(a)){var l=M((Math.max(u.max.x,a.x)-u.max.x)/(o.max.x-u.max.x)-(Math.min(u.min.x,a.x)-u.min.x)/(o.min.x-u.min.x),(Math.max(u.max.y,a.y)-u.max.y)/(o.max.y-u.max.y)-(Math.min(u.min.y,a.y)-u.min.y)/(o.min.y-u.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),Ct(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=S(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(E(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=It(t._icon),i=t._map.layerPointToLatLng(r);n&&Ct(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){E(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),er=Wn.extend({options:{icon:new Jn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){f(this,t),this._latlng=z(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=z(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),_t(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),a=!1;i!==this._shadow&&(this._removeShadow(),a=!0),i&&(_t(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(this._icon,"focus",this._panOnFocus,this),pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ct(this._icon,e),this._shadow&&Ct(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$n)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $n(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&wt(this._icon,e),this._shadow&&wt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?M(t.iconSize):M(0,0),r=t.iconAnchor?M(t.iconAnchor):M(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tr(e,t){return new er(e,t)}var nr=Wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return f(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rr=nr.extend({options:{fill:!0,radius:10},initialize:function(e,t){f(this,t),this._latlng=z(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=z(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return nr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new R(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ir(e,t){return new rr(e,t)}var ar=rr.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),f(this,t),this._latlng=z(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:nr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===H.distance){var i=Math.PI/180,a=this._mRadius/H.R/i,o=n.project([t+a,e]),s=n.project([t-a,e]),u=o.add(s).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(a*i)-Math.sin(t*i)*Math.sin(l*i))/(Math.cos(t*i)*Math.cos(l*i)))/i;(isNaN(c)||0===c)&&(c=a/Math.cos(Math.PI/180*t)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,e-c]).x,this._radiusY=u.y-o.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function or(e,t,n){return new ar(e,t,n)}var sr=nr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){f(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,a=On,o=0,s=this._parts.length;o<s;o++)for(var u=this._parts[o],l=1,c=u.length;l<c;l++){var h=a(e,t=u[l-1],n=u[l],!0);h<r&&(r=h,i=a(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=z(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new j,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ln(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Ln(e),r=0,i=e.length;r<i;r++)n?(t[r]=z(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new D(e,e);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,a=e[0]instanceof B,o=e.length;if(a){for(i=[],r=0;r<o;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<o;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,a,o,s,u=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,a=(s=this._rings[t]).length;n<a-1;n++)(o=Cn(s[n],s[n+1],e,n,!0))&&(u[r]=u[r]||[],u[r].push(o[0]),o[1]===s[n+1]&&n!==a-2||(u[r].push(o[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=kn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,a,o,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(r=0,i=(o=(s=this._parts[n]).length)-1;r<o;i=r++)if((t||0!==r)&&Tn(e,s[i],s[r])<=u)return!0;return!1}});function ur(e,t){return new sr(e,t)}sr._flat=Dn;var lr=sr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Un(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=sr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof B&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){sr.prototype._setLatLngs.call(this,e),Ln(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ln(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new D(t,t);if(e=new R(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,a=this._rings.length;i<a;i++)(r=Rn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,a,o,s,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(a=0,o=(u=(t=this._parts[i]).length)-1;a<u;o=a++)n=t[a],r=t[o],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||sr.prototype._containsPoint.call(this,e,!0)}});function cr(e,t){return new lr(e,t)}var hr=Qn.extend({initialize:function(e,t){f(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=g(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var o=dr(e,a);return o?(o.feature=_r(e),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function dr(e,t){var n,r,i,a,o="Feature"===e.type?e.geometry:e,s=o?o.coordinates:null,u=[],l=t&&t.pointToLayer,c=t&&t.coordsToLatLng||pr;if(!s&&!o)return null;switch(o.type){case"Point":return fr(l,e,n=c(s),t);case"MultiPoint":for(i=0,a=s.length;i<a;i++)n=c(s[i]),u.push(fr(l,e,n,t));return new Qn(u);case"LineString":case"MultiLineString":return r=mr(s,"LineString"===o.type?0:1,c),new sr(r,t);case"Polygon":case"MultiPolygon":return r=mr(s,"Polygon"===o.type?1:2,c),new lr(r,t);case"GeometryCollection":for(i=0,a=o.geometries.length;i<a;i++){var h=dr({geometry:o.geometries[i],type:"Feature",properties:e.properties},t);h&&u.push(h)}return new Qn(u);case"FeatureCollection":for(i=0,a=o.features.length;i<a;i++){var d=dr(o.features[i],t);d&&u.push(d)}return new Qn(u);default:throw new Error("Invalid GeoJSON object.")}}function fr(e,t,n,r){return e?e(t,n):new er(n,r&&r.markersInheritOptions&&r)}function pr(e){return new B(e[1],e[0],e[2])}function mr(e,t,n){for(var r,i=[],a=0,o=e.length;a<o;a++)r=t?mr(e[a],t-1,n):(n||pr)(e[a]),i.push(r);return i}function vr(e,t){return void 0!==(e=z(e)).alt?[c(e.lng,t),c(e.lat,t),c(e.alt,t)]:[c(e.lng,t),c(e.lat,t)]}function gr(e,t,n,r){for(var i=[],a=0,o=e.length;a<o;a++)i.push(t?gr(e[a],Ln(e[a])?0:t-1,n,r):vr(e[a],r));return!t&&n&&i.push(i[0]),i}function yr(e,t){return e.feature?n({},e.feature,{geometry:t}):_r(t)}function _r(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var br={toGeoJSON:function(e){return yr(this,{type:"Point",coordinates:vr(this.getLatLng(),e)})}};function kr(e,t){return new hr(e,t)}er.include(br),ar.include(br),rr.include(br),sr.include({toGeoJSON:function(e){var t=!Ln(this._latlngs);return yr(this,{type:(t?"Multi":"")+"LineString",coordinates:gr(this._latlngs,t?1:0,!1,e)})}}),lr.include({toGeoJSON:function(e){var t=!Ln(this._latlngs),n=t&&!Ln(this._latlngs[0]),r=gr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),yr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Gn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),yr(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var a=_r(i);"FeatureCollection"===a.type?r.push.apply(r,a.features):r.push(a)}}})),n?yr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Tr=kr,wr=Wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=F(t),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&vt(this._image),this},bringToBack:function(){return this._map&&gt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=F(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ft("img");_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Et(this._image,n,t)},_reset:function(){var e=this._image,t=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Ct(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),xr=function(e,t,n){return new wr(e,t,n)},Sr=wr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ft("video");if(_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],a=0;a<n.length;a++)r.push(n[a].src);this._url=n.length>0?r:[t.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var s=ft("source");s.src=this._url[o],t.appendChild(s)}}}});function Er(e,t,n){return new Sr(e,t,n)}var Cr=wr.extend({_initImage:function(){var e=this._image=this._url;_t(e,"leaflet-image-layer"),this._zoomAnimated&&_t(e,"leaflet-zoom-animated"),this.options.className&&_t(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});function Ir(e,t,n){return new Cr(e,t,n)}var Ar=Wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof L.LatLng||g(e))?(this._latlng=z(e),f(this,t)):(f(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&wt(this._container,1),this.bringToFront(),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(wt(this._container,0),this._removeTimeout=setTimeout(i(pt,void 0,this._container),200)):pt(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=z(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vt(this._container),this},bringToBack:function(){return this._map&&gt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Qn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=M(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ct(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Wn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(f(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Pr=Ar.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ar.prototype.openOn.call(this,e)},onAdd:function(e){Ar.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof nr||this._source.on("preclick",qt))},onRemove:function(e){Ar.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof nr||this._source.off("preclick",qt))},getEvents:function(){var e=Ar.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=ft("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ft("div",e+"-content-wrapper",t);if(this._contentNode=ft("div",e+"-content",n),Gt(t),Wt(this._contentNode),Ut(t,"contextmenu",qt),this._tipContainer=ft("div",e+"-tip-container",t),this._tip=ft("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ft("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(r,"click",(function(e){Kt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,a="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",_t(e,a)):bt(e,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Ct(this._container,t.add(n))},_adjustPan:function(e){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,n=parseInt(dt(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+n,i=this._containerWidth,a=new D(this._containerLeft,-r-this._containerBottom);a._add(It(this._container));var o=t.layerPointToContainerPoint(a),s=M(this.options.autoPanPadding),u=M(this.options.autoPanPaddingTopLeft||s),l=M(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),h=0,d=0;o.x+i+l.x>c.x&&(h=o.x+i-c.x+l.x),o.x-h-u.x<0&&(h=o.x-u.x),o.y+r+l.y>c.y&&(d=o.y+r-c.y+l.y),o.y-d-u.y<0&&(d=o.y-u.y),(h||d)&&t.fire("autopanstart").panBy([h,d],{animate:e&&"moveend"===e.type})}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Or=function(e,t){return new Pr(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Pr,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Wn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Pr,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Qt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof nr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Lr=Ar.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ar.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ar.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ar.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,a=r.latLngToContainerPoint(r.getCenter()),o=r.layerPointToContainerPoint(e),s=this.options.direction,u=i.offsetWidth,l=i.offsetHeight,c=M(this.options.offset),h=this._getAnchor();"top"===s?(t=u/2,n=l):"bottom"===s?(t=u/2,n=0):"center"===s?(t=u/2,n=l/2):"right"===s?(t=0,n=l/2):"left"===s?(t=u,n=l/2):o.x<a.x?(s="right",t=0,n=l/2):(s="left",t=u+2*(c.x+h.x),n=l/2),e=e.subtract(M(t,n,!0)).add(c).add(h),bt(i,"leaflet-tooltip-right"),bt(i,"leaflet-tooltip-left"),bt(i,"leaflet-tooltip-top"),bt(i,"leaflet-tooltip-bottom"),_t(i,"leaflet-tooltip-"+s),Ct(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&wt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Dr=function(e,t){return new Lr(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Lr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Wn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this)),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=e.getElement();t&&(Ut(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Ut(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Nr=Zn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(mt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=M(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Mr(e){return new Nr(e)}Zn.Default=Jn;var Rr=Wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){f(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),pt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof D?e:new D(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,a=n.length;i<a;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Re.ielt9){wt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var a=Math.min(1,(e-i.loaded)/200);wt(i.el,a),a<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(E(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(pt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),l(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)pt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),a=Math.floor(t/2),o=n-1,s=new D(+i,+a);s.z=+o;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),o>r&&this._retainParent(i,a,o,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var a=2*t;a<2*t+2;a++){var o=new D(i,a);o.z=n+1;var s=this._tileCoordsToKey(o),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,a,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var a=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!a||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();Re.any3d?Et(e.el,i,r):Ct(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(2*r);return new R(i.subtract(a),i.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),a=i.getCenter(),o=[],s=this.options.keepBuffer,u=new R(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new D(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var d=i.min.x;d<=i.max.x;d++){var f=new D(d,h);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:o.push(f)}}if(o.sort((function(e,t){return e.distanceTo(a)-t.distanceTo(a)})),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<o.length;d++)this._addTile(o[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return F(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new j(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new D(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(pt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){_t(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=l,e.onmousemove=l,Re.ielt9&&this.options.opacity<1&&wt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),a=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(a),this.createTile.length<2&&S(i(this._tileReady,this,e,null,a)),Ct(a,n),this._tiles[r]={el:a,coords:e,current:!0},t.appendChild(a),this.fire("tileloadstart",{tile:a,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(wt(n.el,0),E(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(_t(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Re.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new D(this._wrapX?u(e.x,this._wrapX):e.x,this._wrapY?u(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new R(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Ur(e){return new Rr(e)}var jr=Rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=f(this,t)).detectRetina&&Re.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Ut(n,"load",i(this._tileOnLoad,this,t,n)),Ut(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Re.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return v(this._url,n(t,this.options))},_tileOnLoad:function(e,t){Re.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=l,t.onerror=l,!t.complete)){t.src=_;var n=this._tiles[e].coords;pt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",_),Rr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==_))return Rr.prototype._tileReady.call(this,e,t,n)}});function Fr(e,t){return new jr(e,t)}var Br=jr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var a=(t=f(this,t)).detectRetina&&Re.retina?2:1,o=this.getTileSize();r.width=o.x*a,r.height=o.y*a,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,jr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=U(n.project(t[0]),n.project(t[1])),i=r.min,a=r.max,o=(this._wmsVersion>=1.3&&this._crs===Hn?[i.y,i.x,a.y,a.x]:[i.x,i.y,a.x,a.y]).join(","),s=jr.prototype.getTileUrl.call(this,e);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function zr(e,t){return new Br(e,t)}jr.WMS=Br,Fr.wms=zr;var Vr=Wn.extend({options:{padding:.1},initialize:function(e){f(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),a=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));Re.any3d?Et(this._container,a,n):Ct(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new R(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hr=Vr.extend({options:{tolerance:0},getEvents:function(){var e=Vr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Ut(e,"mousemove",this._onMouseMove,this),Ut(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){E(this._redrawRequest),delete this._ctx,pt(this._container),Ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Re.retina?2:1;Ct(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Re.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Vr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,a,o=e._parts,s=o.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(r=0,i=o[n].length;r<i;r++)a=o[n][r],u[r?"lineTo":"moveTo"](a.x,a.y);t&&u.closePath()}this._fillStroke(u,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(bt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,a=this._drawFirst;a;a=a.next)(n=a.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(_t(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function qr(e){return Re.canvas?new Hr(e):null}var Wr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gr={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Wr("shape");_t(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Wr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;pt(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Wr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=g(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Wr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){vt(e._container)},_bringToBack:function(e){gt(e._container)}},Kr=Re.vml?Wr:Z,Qr=Vr.extend({_initContainer:function(){this._container=Kr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Kr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pt(this._container),Ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Ct(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Kr("path");e.options.className&&_t(t,e.options.className),e.options.interactive&&_t(t,"leaflet-interactive"),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){pt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){vt(e._path)},_bringToBack:function(e){gt(e._path)}});function Xr(e){return Re.svg||Re.vml?new Qr(e):null}Re.vml&&Qr.include(Gr),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&qr(e)||Xr(e)}});var Zr=lr.extend({initialize:function(e,t){lr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=F(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Yr(e,t){return new Zr(e,t)}Qr.create=Kr,Qr.pointsToPath=Y,hr.geometryToLayer=dr,hr.coordsToLatLng=pr,hr.coordsToLatLngs=mr,hr.latLngToCoords=vr,hr.latLngsToCoords=gr,hr.getFeature=yr,hr.asFeature=_r,nn.mergeOptions({boxZoom:!0});var Jr=vn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),rt(),Pt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Ut(document,{contextmenu:Qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new R(this._point,this._startPoint),n=t.getSize();Ct(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pt(this._box),bt(this._container,"leaflet-crosshair")),it(),Ot(),Ft(document,{contextmenu:Qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Jr),nn.mergeOptions({doubleClickZoom:!0});var $r=vn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",$r),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ei=vn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new bn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=F(this._map.options.maxBounds);this._offsetLimit=U(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,a=(r+t+n)%e-t-n,o=Math.abs(i+n)<Math.abs(a+n)?i:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=i.multiplyBy(o/a),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=s.multiplyBy(l/u),h=l/(n.inertiaDeceleration*o),d=c.multiplyBy(-h/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),S((function(){t.panBy(d,{duration:h,easeLinearity:o,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ei),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ti=vn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Ut(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=M(t).multiplyBy(3)),r.panBy(t),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Qt(e)}}});nn.addInitHook("addHandler","keyboard",ti),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ni=vn.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Jt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Qt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(i/n)*n:i,o=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});nn.addInitHook("addHandler","scrollWheelZoom",ni);var ri=600;nn.mergeOptions({tapHold:Re.touchNative&&Re.safari&&Re.mobile,tapTolerance:15});var ii=vn.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new D(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",Kt),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),ri),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ft(document,"touchend",Kt),Ft(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new D(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",ii),nn.mergeOptions({touchZoom:Re.touch,bounceAtZoomLimits:!0});var ai=vn.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),Kt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),a=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(a,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&a<1||this._zoom>t.getMaxZoom()&&a>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var o=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),E(this._animRequest);var s=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=S(s,this,!0),Kt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,E(this._animRequest),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",ai),nn.BoxZoom=Jr,nn.DoubleClickZoom=$r,nn.Drag=ei,nn.Keyboard=ti,nn.ScrollWheelZoom=ni,nn.TapHold=ii,nn.TouchZoom=ai,e.Bounds=R,e.Browser=Re,e.CRS=V,e.Canvas=Hr,e.Circle=ar,e.CircleMarker=rr,e.Class=I,e.Control=an,e.DivIcon=Nr,e.DivOverlay=Ar,e.DomEvent=en,e.DomUtil=Rt,e.Draggable=bn,e.Evented=O,e.FeatureGroup=Qn,e.GeoJSON=hr,e.GridLayer=Rr,e.Handler=vn,e.Icon=Zn,e.ImageOverlay=wr,e.LatLng=B,e.LatLngBounds=j,e.Layer=Wn,e.LayerGroup=Gn,e.LineUtil=Mn,e.Map=nn,e.Marker=er,e.Mixin=yn,e.Path=nr,e.Point=D,e.PolyUtil=jn,e.Polygon=lr,e.Polyline=sr,e.Popup=Pr,e.PosAnimation=tn,e.Projection=zn,e.Rectangle=Zr,e.Renderer=Vr,e.SVG=Qr,e.SVGOverlay=Cr,e.TileLayer=jr,e.Tooltip=Lr,e.Transformation=G,e.Util=C,e.VideoOverlay=Sr,e.bind=i,e.bounds=U,e.canvas=qr,e.circle=or,e.circleMarker=ir,e.control=on,e.divIcon=Mr,e.extend=n,e.featureGroup=Xn,e.geoJSON=kr,e.geoJson=Tr,e.gridLayer=Ur,e.icon=Yn,e.imageOverlay=xr,e.latLng=z,e.latLngBounds=F,e.layerGroup=Kn,e.map=rn,e.marker=tr,e.point=M,e.polygon=cr,e.polyline=ur,e.popup=Or,e.rectangle=Yr,e.setOptions=f,e.stamp=o,e.svg=Xr,e.svgOverlay=Ir,e.tileLayer=Fr,e.tooltip=Dr,e.transformation=K,e.version=t,e.videoOverlay=Er;var oi=window.L;e.noConflict=function(){return window.L=oi,this},window.L=e}(t)},857:function(e,t,n){var r=n(522).getUint64;e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===n.version?(n.earliestPresentationTime=t.getUint32(i),n.firstOffset=t.getUint32(i+4),i+=8):(n.earliestPresentationTime=r(e.subarray(i)),n.firstOffset=r(e.subarray(i+8)),i+=16),i+=2;var a=t.getUint16(i);for(i+=2;a>0;i+=12,a--)n.references.push({referenceType:(128&e[i])>>>7,referencedSize:2147483647&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:268435455&t.getUint32(i+8)});return n}},474:function(e){var t,n,r,i,a,o,s,u=9e4;t=function(e){return e*u},n=function(e,t){return e*t},r=function(e){return e/u},i=function(e,t){return e/t},a=function(e,n){return t(i(e,n))},o=function(e,t){return n(r(e),t)},s=function(e,t,n){return r(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:u,secondsToVideoTs:t,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:i,audioTsToVideoTs:a,videoTsToAudioTs:o,metadataTsToSeconds:s}},522:function(e){var t=Math.pow(2,32);e.exports={getUint64:function(e){var n,r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getBigUint64?(n=r.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(n):n:r.getUint32(0)*t+r.getUint32(4)},MAX_UINT32:t}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var R,U=Object.assign;function j(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case T:return"Portal";case S:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,we=null,xe=null;function Se(e){if(e=_i(e)){if("function"!==typeof Te)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),Te(e.stateNode,e.type,t))}}function Ee(e){we?xe?xe.push(e):xe=[e]:we=e}function Ce(){if(we){var e=we,t=xe;if(xe=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==we||null!==xe)&&(Ae(),Ce())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){De=!1}function Me(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Re=!1,Ue=null,je=!1,Fe=null,Be={onError:function(e){Re=!0,Ue=e}};function ze(e,t,n,r,i,a,o,s,u){Re=!1,Ue=null,Me.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,Tt,wt,xt,St,Et=!1,Ct=[],It=null,At=null,Pt=null,Ot=new Map,Lt=new Map,Dt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&Tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&Tt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Bt(){Et=!1,null!==It&&jt(It)&&(It=null),null!==At&&jt(At)&&(At=null),null!==Pt&&jt(Pt)&&(Pt=null),Ot.forEach(Ft),Lt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==At&&zt(At,e),null!==Pt&&zt(Pt,e),Ot.forEach(t),Lt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Dt.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=_t,a=Ht.transition;Ht.transition=null;try{_t=1,Kt(e,t,n,r)}finally{_t=i,Ht.transition=a}}function Gt(e,t,n,r){var i=_t,a=Ht.transition;Ht.transition=null;try{_t=4,Kt(e,t,n,r)}finally{_t=i,Ht.transition=a}}function Kt(e,t,n,r){if(qt){var i=Xt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Rt(It,e,t,n,r,i),!0;case"dragenter":return At=Rt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Rt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Rt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Lt.set(a,Rt(Lt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&kt(a),null===(a=Xt(e,t,n,r))&&qr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=yi(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),hn=U({},ln,{view:0,detail:0}),dn=an(hn),fn=U({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(U({},fn,{dataTransfer:0})),vn=an(U({},hn,{relatedTarget:0})),gn=an(U({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(yn),bn=an(U({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return xn}var En=U({},hn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(En),In=an(U({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(U({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=an(U({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=U({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(On),Dn=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Rn=c&&"TextEvent"in window&&!Mn,Un=c&&(!Nn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){jr(e,0)}function Xn(e){if(K(bi(e)))return e}function Zn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Jn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Wn(t,Kn,e,ke(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},xr={};function Sr(e){if(wr[e])return wr[e];if(!Tr[e])return e;var t,n=Tr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var Er=Sr("animationend"),Cr=Sr("animationiteration"),Ir=Sr("animationstart"),Ar=Sr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Pr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Nr=Or[Dr];Lr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Lr(Er,"onAnimationEnd"),Lr(Cr,"onAnimationIteration"),Lr(Ir,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Ar,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Re){if(!Re)throw Error(a(198));var c=Ue;Re=!1,Ue=null,je||(je=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,l),a=u}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=a,i=ke(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Er:case Cr:case Ir:u=gn;break;case Ar:u=Pn;break;case"scroll":u=dn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Le(p,d))&&c.push(Wr(p,m,f)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?s:bi(u),f=null==l?s:bi(l),(s=new c(m,p+"leave",u,n,i)).target=h,s.relatedTarget=f,m=null,yi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=f,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(d=l,p=0,f=c=u;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Kr(c),d=Kr(d)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==h&&Qr(o,h,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Zn;else if(qn(s))if(Yn)v=or;else{v=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?Wn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?Bn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(y=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Vn=!0)),0<(g=Gr(r,_)).length&&(_=new bn(_,e,null,n,i),o.push({event:_,listeners:g}),y?_.data=y:null!==(y=zn(n))&&(_.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Nn&&Bn(e,t)?(e=en(),$t=Jt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Le(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Le(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Le(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Zr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,vi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[fi]||null}var Ti=[],wi=-1;function xi(e){return{current:e}}function Si(e){0>wi||(e.current=Ti[wi],Ti[wi]=null,wi--)}function Ei(e,t){wi++,Ti[wi]=e.current,e.current=t}var Ci={},Ii=xi(Ci),Ai=xi(!1),Pi=Ci;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(Ai),Si(Ii)}function Ni(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ei(Ii,t),Ei(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return U({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=Ii.current,Ei(Ii,e),Ei(Ai,Ai.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ii),Ei(Ii,e)):Si(Ai),Ei(Ai,n)}var ji=null,Fi=!1,Bi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=_t;try{var n=ji;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke($e,Vi),i}finally{_t=t,Bi=!1}}return null}var Hi=[],qi=0,Wi=null,Gi=0,Ki=[],Qi=0,Xi=null,Zi=1,Yi="";function Ji(e,t){Hi[qi++]=Gi,Hi[qi++]=Wi,Wi=e,Gi=t}function $i(e,t,n){Ki[Qi++]=Zi,Ki[Qi++]=Yi,Ki[Qi++]=Xi,Xi=e;var r=Zi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Zi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function ta(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Gi=Hi[--qi],Hi[qi]=null;for(;e===Xi;)Xi=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null,Zi=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Zi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=li(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=b.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=xi(null),ya=null,_a=null,ba=null;function ka(){ba=_a=ya=null}function Ta(e){var t=ga.current;Si(ga),e._currentValue=t}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){ya=e,ba=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ya)throw Error(a(308));_a=e,ya.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ea=null;function Ca(e){null===Ea?Ea=[e]:Ea.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,c=l=u=null,s=a;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=U({},h,d);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=f,u=h):c=c.next=f,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ru|=o,e.lanes=o,e.memoizedState=h}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(nl(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(nl(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(nl(t,e,r,n),Ma(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ha(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Li(t)?Pi:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Li(t)?Pi:Ii.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===w?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Nl(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Nl(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case T:return(t=jl(t,e.mode,n)).return=e,t;case L:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?l(e,t,n,r):null;case T:return n.key===i?c(e,t,n,r):null;case L:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function m(i,a,s,u){for(var l=null,c=null,h=a,m=a=0,v=null;null!==h&&m<s.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var g=f(i,h,s[m],u);if(null===g){null===h&&(h=v);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,m),null===c?l=g:c.sibling=g,c=g,h=v}if(m===s.length)return n(i,h),ia&&Ji(i,m),l;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],u))&&(a=o(h,a,m),null===c?l=h:c.sibling=h,c=h);return ia&&Ji(i,m),l}for(h=r(i,h);m<s.length;m++)null!==(v=p(h,i,m,s[m],u))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}function v(i,s,u,l){var c=M(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var _=f(i,m,y.value,l);if(null===_){null===m&&(m=g);break}e&&m&&null===_.alternate&&t(i,m),s=o(_,s,v),null===h?c=_:h.sibling=_,h=_,m=g}if(y.done)return n(i,m),ia&&Ji(i,v),c;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=d(i,y.value,l))&&(s=o(y,s,v),null===h?c=y:h.sibling=y,h=y);return ia&&Ji(i,v),c}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=p(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===w&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===w){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===L&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===w?((a=Ml(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Nl(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case T:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jl(o,r.mode,u)).return=r,r=a}return s(r);case L:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return m(r,a,o,u);if(M(o))return v(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ul(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Za=Xa(!0),Ya=Xa(!1),Ja={},$a=xi(Ja),eo=xi(Ja),to=xi(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei($a,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),Ei($a,t)}function io(){Si($a),Si(eo),Si(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei($a,n))}function oo(e){eo.current===e&&(Si($a),Si(eo))}var so=xi(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,vo=null,go=null,yo=!1,_o=!1,bo=0,ko=0;function To(){throw Error(a(321))}function wo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_o){o=0;do{if(_o=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=vo=null,t.updateQueue=null,ho.current=ls,e=n(r,i)}while(_o)}if(ho.current=os,t=null!==vo&&null!==vo.next,po=0,go=vo=mo=null,yo=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function Co(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function Io(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var h=c.lane;if((po&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,mo.lanes|=h,Ru|=h}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Ru|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Lo(e,t){var n=mo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,qo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Fo(9,No.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Uo(e)}function Mo(e,t,n){return n((function(){Ro(t)&&Uo(e)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Aa(e,1);null!==t&&nl(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Co().memoizedState}function zo(e,t,n,r){var i=Eo();mo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==vo){var o=vo.memoizedState;if(a=o.destroy,null!==r&&wo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}mo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function Ho(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Vo(2048,8,e,t)}function Wo(e,t){return Vo(4,2,e,t)}function Go(e,t){return Vo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Ko.bind(null,t,e),n)}function Xo(){}function Zo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Ru|=n,e.baseState=!0),t)}function $o(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{_t=n,fo.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function is(e,t){_o=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Sa,useCallback:To,useContext:To,useEffect:To,useImperativeHandle:To,useInsertionEffect:To,useLayoutEffect:To,useMemo:To,useReducer:To,useRef:To,useState:To,useDebugValue:To,useDeferredValue:To,useTransition:To,useMutableSource:To,useSyncExternalStore:To,useId:To,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Xo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=$o.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Au.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Zi&~(1<<32-ot(Zi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Zo,useContext:Sa,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(Io)},useDebugValue:Xo,useDeferredValue:function(e){return Jo(Co(),vo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],Co().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Lo,useId:es,unstable_isNewReconciler:!1},ls={readContext:Sa,useCallback:Zo,useContext:Sa,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:Po,useRef:Bo,useState:function(){return Po(Io)},useDebugValue:Xo,useDeferredValue:function(e){var t=Co();return null===vo?t.memoizedState=e:Jo(t,vo.memoizedState,e)},useTransition:function(){return[Po(Io)[0],Co().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Lo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qu||(qu=!0,Wu=r),ds(0,t)},n}function ms(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=b.ReactCurrentOwner,bs=!1;function ks(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Za(t,e.child,n,r)}function Ts(e,t,n,r,i){n=n.render;var a=t.ref;return xa(t,i),r=xo(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ll(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Du,Lu),Lu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Du,Lu),Lu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Du,Lu),Lu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Du,Lu),Lu|=r;return ks(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Li(n)?Pi:Ii.current;return a=Oi(t,a),xa(t,i),n=xo(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Is(e,t,n,r,i){if(Li(n)){var a=!0;Ri(t)}else a=!1;if(xa(t,i),null===t.stateNode)Hs(e,t),Ha(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Sa(l):l=Oi(t,l=Li(n)?Pi:Ii.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&qa(t,o,r,l),Pa=!1;var d=t.memoizedState;o.state=d,Ua(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Ai.current||Pa?("function"===typeof c&&(Ba(t,n,c,r),u=t.memoizedState),(s=Pa||Va(t,n,s,r,d,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,La(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:va(t.type,s),o.props=l,h=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Oi(t,u=Li(n)?Pi:Ii.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==u)&&qa(t,o,r,u),Pa=!1,d=t.memoizedState,o.state=d,Ua(t,r,o,i);var p=t.memoizedState;s!==h||d!==p||Ai.current||Pa?("function"===typeof f&&(Ba(t,n,f,r),p=t.memoizedState),(l=Pa||Va(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),qs(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Za(t,e.child,null,a),t.child=Za(t,null,s,a)):ks(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ro(e,t.containerInfo)}function Os(e,t,n,r,i){return fa(),pa(i),t.flags|=256,ks(e,t,n,r),t.child}var Ls,Ds,Ns,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Rl(u,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Za(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nl(r,e,i,-1))}return ml(),Fs(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=Zi,Ki[Qi++]=Yi,Ki[Qi++]=Xi,Zi=e.id,Yi=e.overflow,Xi=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dl(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Rs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Rl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pa(r),Za(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Li(t.type)&&Di(),Gs(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no($a.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Z(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[fi]=r,Ls(e,t),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Z(e,r),i=X(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&_(e,o,c,u))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ns(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gs(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),fa(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Nu&&(Nu=3):ml())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),null===e&&Vr(t.stateNode.containerInfo),Gs(t),null;case 10:return Ta(t.type._context),Gs(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Nu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Vu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Ye()-o.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Lu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Li(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Zs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Js=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){xl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[vi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Zs||$s(n,t);case 6:var r=cu,i=hu;cu=null,du(e,t,n),hu=i,null!==(cu=r)&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=hu,cu=n.stateNode.containerInfo,hu=!0,du(e,t,n),cu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Zs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,du(e,t,n),Zs=r):du(e,t,n);break;default:du(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,hu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===cu)throw Error(a(160));fu(o,s,i),cu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){xl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(v){xl(e,e.return,v)}try{nu(5,e,e.return)}catch(v){xl(e,e.return,v)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(v){xl(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),_e(u,s);var c=_e(u,o);for(s=0;s<l.length;s+=2){var h=l[s],d=l[s+1];"style"===h?ve(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(v){xl(e,e.return,v)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){xl(e,e.return,v)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){xl(e,e.return,v)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Ye())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(c=Zs)||h,mu(t,e),Zs=c):mu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Js=e,h=e.child;null!==h;){for(d=Js=h;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nu(4,f,f.return);break;case 1:$s(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){xl(r,n,v)}}break;case 5:$s(f,f.return);break;case 22:if(null!==f.memoizedState){ku(d);continue}}null!==p?(p.return=f,Js=p):ku(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",s))}catch(v){xl(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){xl(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){xl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Js=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Zs;s=Xs;var l=Zs;if(Xs=o,(Zs=u)&&!l)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?Tu(i):null!==u?(u.return=o,Js=u):Tu(i);for(;null!==a;)Js=a,_u(a,t,n),a=a.sibling;Js=i,Xs=s,Zs=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bu(e)}}function bu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(a(163))}Zs||512&t.flags&&iu(t)}catch(f){xl(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function ku(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Tu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){xl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){xl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){xl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){xl(t,o,u)}}}catch(u){xl(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var wu,xu=Math.ceil,Su=b.ReactCurrentDispatcher,Eu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Iu=0,Au=null,Pu=null,Ou=0,Lu=0,Du=xi(0),Nu=0,Mu=null,Ru=0,Uu=0,ju=0,Fu=null,Bu=null,zu=0,Vu=1/0,Hu=null,qu=!1,Wu=null,Gu=null,Ku=!1,Qu=null,Xu=0,Zu=0,Yu=null,Ju=-1,$u=0;function el(){return 0!==(6&Iu)?Ye():-1!==Ju?Ju:Ju=Ye()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Ou?Ou&-Ou:null!==ma.transition?(0===$u&&($u=mt()),$u):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nl(e,t,n,r){if(50<Zu)throw Zu=0,Yu=null,Error(a(185));gt(e,n,r),0!==(2&Iu)&&e===Au||(e===Au&&(0===(2&Iu)&&(Uu|=n),4===Nu&&sl(e,Ou)),rl(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(Vu=Ye()+500,Fi&&Vi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ft(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Au?Ou:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(ul.bind(null,e)):zi(ul.bind(null,e)),oi((function(){0===(6&Iu)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ju=-1,$u=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(Tl()&&e.callbackNode!==n)return null;var r=dt(e,e===Au?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Iu;Iu|=2;var o=pl();for(Au===e&&Ou===t||(Hu=null,Vu=Ye()+500,dl(e,t));;)try{yl();break}catch(u){fl(e,u)}ka(),Su.current=o,Iu=i,null!==Pu?t=0:(Au=null,Ou=0,t=Nu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Mu,dl(e,0),sl(e,r),rl(e,Ye()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Mu,dl(e,0),sl(e,r),rl(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kl(e,Bu,Hu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=zu+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kl.bind(null,e,Bu,Hu),t);break}kl(e,Bu,Hu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xu(r/1960))-r)){e.timeoutHandle=ri(kl.bind(null,e,Bu,Hu),r);break}kl(e,Bu,Hu);break;default:throw Error(a(329))}}}return rl(e,Ye()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Bu,Bu=n,null!==t&&ol(t)),e}function ol(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sl(e,t){for(t&=~ju,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Iu))throw Error(a(327));Tl();var t=dt(e,0);if(0===(1&t))return rl(e,Ye()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Mu,dl(e,0),sl(e,t),rl(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,Bu,Hu),rl(e,Ye()),null}function ll(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Vu=Ye()+500,Fi&&Vi())}}function cl(e){null!==Qu&&0===Qu.tag&&0===(6&Iu)&&Tl();var t=Iu;Iu|=1;var n=Cu.transition,r=_t;try{if(Cu.transition=null,_t=1,e)return e()}finally{_t=r,Cu.transition=n,0===(6&(Iu=t))&&Vi()}}function hl(){Lu=Du.current,Si(Du)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(Ai),Si(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:Ta(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Au=e,Pu=e=Dl(e.current,null),Ou=Lu=t,Nu=0,Mu=null,ju=Uu=Ru=0,Bu=Fu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function fl(e,t){for(;;){var n=Pu;try{if(ka(),ho.current=os,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=vo=mo=null,_o=!1,bo=0,Eu.current=null,null===n||null===n.return){Nu=1,Mu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ou,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&vs(o,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}if(0===(1&t)){vs(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Nu&&(Nu=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,ps(0,l,t));break e;case 1:u=l;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gu||!Gu.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,ms(o,u,t));break e}}o=o.return}while(null!==o)}bl(n)}catch(b){t=b,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function pl(){var e=Su.current;return Su.current=os,null===e?os:e}function ml(){0!==Nu&&3!==Nu&&2!==Nu||(Nu=4),null===Au||0===(268435455&Ru)&&0===(268435455&Uu)||sl(Au,Ou)}function vl(e,t){var n=Iu;Iu|=2;var r=pl();for(Au===e&&Ou===t||(Hu=null,dl(e,t));;)try{gl();break}catch(i){fl(e,i)}if(ka(),Iu=n,Su.current=r,null!==Pu)throw Error(a(261));return Au=null,Ou=0,Nu}function gl(){for(;null!==Pu;)_l(Pu)}function yl(){for(;null!==Pu&&!Xe();)_l(Pu)}function _l(e){var t=wu(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?bl(e):Pu=t,Eu.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Lu)))return void(Pu=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Nu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Nu&&(Nu=5)}function kl(e,t,n){var r=_t,i=Cu.transition;try{Cu.transition=null,_t=1,function(e,t,n,r){do{Tl()}while(null!==Qu);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(Pu=Au=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Al(tt,(function(){return Tl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=_t;_t=1;var u=Iu;Iu|=4,Eu.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(u=s),f===o&&++h===r&&(l=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:va(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(k){xl(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tu,tu=!1}(e,n),vu(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Ze(),Iu=u,_t=s,Cu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Qu=e,Xu=i),0===(o=e.pendingLanes)&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qu)throw qu=!1,e=Wu,Wu=null,e;0!==(1&Xu)&&0!==e.tag&&Tl(),0!==(1&(o=e.pendingLanes))?e===Yu?Zu++:(Zu=0,Yu=e):Zu=0,Vi()}(e,t,n,r)}finally{Cu.transition=i,_t=r}return null}function Tl(){if(null!==Qu){var e=bt(Xu),t=Cu.transition,n=_t;try{if(Cu.transition=null,_t=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Xu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nu(8,h,o)}var d=h.child;if(null!==d)d.return=h,Js=d;else for(;null!==Js;){var f=(h=Js).sibling,p=h.return;if(au(h),h===c){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var _=e.current;for(Js=_;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=_;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(T){xl(u,u.return,T)}if(u===s){Js=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Js=k;break e}Js=u.return}}if(Iu=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(T){}r=!0}return r}finally{_t=n,Cu.transition=t}}return!1}function wl(e,t,n){e=Na(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(gt(e,1,t),rl(e,t))}function xl(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Na(t,e=ms(t,e=cs(n,e),1),1),e=el(),null!==t&&(gt(t,1,e),rl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Ou&n)===n&&(4===Nu||3===Nu&&(130023424&Ou)===Ou&&500>Ye()-zu?dl(e,0):ju|=n),rl(e,t)}function El(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Aa(e,t))&&(gt(e,t,n),rl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),El(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),El(e,n)}function Al(e,t){return Ke(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Pl(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ll(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return Ml(n.children,i,o,t);case x:s=8,i|=8;break;case S:return(e=Ol(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Ol(13,n,t,i)).elementType=A,e.lanes=o,e;case P:return(e=Ol(19,n,t,i)).elementType=P,e.lanes=o,e;case D:return Rl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case C:s=9;break e;case I:s=11;break e;case O:s=14;break e;case L:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Rl(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,s,u){return e=new Fl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ol(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vl(e){if(!e)return Ci;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Li(n))return Mi(e,n,t)}return t}function Hl(e,t,n,r,i,a,o,s,u){return(e=Bl(n,r,!0,e,0,a,0,s,u)).context=Vl(null),n=e.current,(a=Da(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,gt(e,i,r),rl(e,r),e}function ql(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,o))&&(nl(e,i,o,a),Ma(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}wu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),fa();break;case 5:ao(t);break;case 1:Li(t.type)&&Ri(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Ei(so,1&so.current),null!==(e=qs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return qs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Oi(t,Ii.current);xa(t,n),i=xo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ll(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(r),e=va(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=Ts(null,t,r,e,n);break e;case 14:t=ws(null,t,r,va(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:va(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:va(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,La(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=qs(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Us(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Za(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:va(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),wa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),wa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xa(t,n),r=r(i=Sa(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=va(r=t.type,t.pendingProps),ws(e,t,r,i=va(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),Hs(e,t),t.tag=1,Li(r)?(e=!0,Ri(t)):e=!1,xa(t,n),Ha(t,r,i),Wa(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Zl(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}ql(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=Hl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=u,e[pi]=u.current,Vr(8===e.nodeType?e.parentNode:e),cl((function(){ql(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}Zl.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ql(e,t,null,null)},Zl.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){ql(null,e,null,null)})),t[pi]=null}},Zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ut(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Ye()),0===(6&Iu)&&(Vu=Ye()+500,Vi()))}break;case 13:cl((function(){var t=Aa(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Kl(e,1)}},Tt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nl(t,e,134217728,el());Kl(e,134217728)}},wt=function(e){if(13===e.tag){var t=tl(e),n=Aa(e,t);if(null!==n)nl(n,e,t,el());Kl(e,t)}},xt=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Te=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,Ae=cl;var tc={usingClientEntryPoint:!1,Events:[_i,bi,ki,Ee,Ce,ll]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return zl(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},683:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Types=t.Loader=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=u(i),o=u(n(2)),s=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=t.Loader=function(e){function t(){return c(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"renderDiv",value:function(e){var t=this.props.styles||{};return this.props.color&&(t.backgroundColor=this.props.color),a.default.createElement("div",{key:e,style:t})}},{key:"render",value:function(){var e,t=function(e){var t=-1,n=[];for(;++t<e;)n.push(t);return n}(f[this.props.type]),n=(0,s.default)((l(e={loader:!0},"loader-"+this.props.size,"md"!==this.props.size),l(e,"loader-active",this.props.active),l(e,"loader-hidden",!this.props.active),e),this.props.className),r=(0,s.default)(["loader-inner",this.props.type,this.props.innerClassName]);return a.default.createElement("div",{className:n,style:this.props.style},a.default.createElement("div",{className:r},t.map(this.renderDiv.bind(this))))}}],[{key:"removeType",value:function(e){delete f[key]}},{key:"addType",value:function(e,t){return f[e]=t}}]),t}(i.Component);d.propTypes={type:o.default.string,active:o.default.bool,color:o.default.string,innerClassName:o.default.string},d.defaultProps={type:"ball-pulse",active:!0},t.default=d;var f=t.Types={"ball-pulse":3,"ball-grid-pulse":9,"ball-clip-rotate":1,"ball-clip-rotate-pulse":2,"square-spin":1,"ball-clip-rotate-multiple":2,"ball-pulse-rise":5,"ball-rotate":1,"cube-transition":2,"ball-zig-zag":2,"ball-zig-zag-deflect":2,"ball-triangle-path":3,"ball-scale":1,"line-scale":5,"line-scale-party":4,"ball-scale-multiple":3,"ball-pulse-sync":3,"ball-beat":3,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin-fade-loader":8,"line-spin-fade-loader":8,"triangle-skew-spin":1,pacman:5,"ball-grid-beat":9,"semi-circle-spin":1}},function(e,t){e.exports=n(791)},function(e,t){e.exports=n(7)},function(e,t){e.exports=n(694)}])},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=_.prototype=new y;b.constructor=_,m(b,g.prototype),b.isPureReactComponent=!0;var k=Array.isArray,T=Object.prototype.hasOwnProperty,w={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=A(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},D={transition:null},N={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:D,ReactCurrentOwner:w};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)T.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},947:function(e){e.exports=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,d=null,f=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(v=!1,b(e),!m)if(null!==r(l))m=!0,D(T);else{var t=r(c);null!==t&&N(k,t.startTime-e)}}function T(e,n){m=!1,v&&(v=!1,y(E),E=-1),p=!0;var a=f;try{for(b(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),b(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var h=r(c);null!==h&&N(k,h.startTime-n),u=!1}return u}finally{d=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,x=!1,S=null,E=-1,C=5,I=-1;function A(){return!(t.unstable_now()-I<C)}function P(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?w():(x=!1,S=null)}}else x=!1}if("function"===typeof _)w=function(){_(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,L=O.port2;O.port1.onmessage=P,w=function(){L.postMessage(null)}}else w=function(){g(P,0)};function D(e){S=e,x||(x=!0,w())}function N(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(T))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(v?(y(E),E=-1):v=!0,N(k,a-o))):(e.sortIndex=s,n(l,e),m||p||(m=!0,D(T))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},556:function(e){!function(t){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(l.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,h=c.substring(0,c.lastIndexOf("/")+1)+a.path;l.path=o.normalizePath(h)}else l.path=s.path,a.params||(l.params=s.params,a.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()},755:function(e,t,n){var r=n(851),i=e.exports={WebVTT:n(772),VTTCue:n(688),VTTRegion:n(24)};r.vttjs=i,r.WebVTT=i.WebVTT;var a=i.VTTCue,o=i.VTTRegion,s=r.VTTCue,u=r.VTTRegion;i.shim=function(){r.VTTCue=a,r.VTTRegion=o},i.restore=function(){r.VTTCue=s,r.VTTRegion=u},r.VTTCue||i.shim()},772:function(e,t,n){var r=n(203),i=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function a(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function o(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(){this.values=i(null)}function u(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"===typeof i[a]){var o=i[a].split(n);if(2===o.length)t(o[0].trim(),o[1].trim())}}function l(e,t,n){var r=e;function i(){var t=o(e);if(null===t)throw new a(a.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function l(){e=e.replace(/^\s+/,"")}if(l(),t.startTime=i(),l(),"--\x3e"!==e.substr(0,3))throw new a(a.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),l(),t.endTime=i(),l(),function(e,t){var r=new s;u(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===a.length&&r.alt("lineAlign",a[1],["start","center","end"]);break;case"position":a=t.split(","),r.percent(e,a[0]),2===a.length&&r.alt("positionAlign",a[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(i){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(i){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(i){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}a.prototype=i(Error.prototype),a.prototype.constructor=a,a.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var c=r.createElement&&r.createElement("textarea"),h={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},f={v:"title",lang:"lang"},p={rt:"ruby"};function m(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e,t){return!p[t.localName]||p[t.localName]===e.localName}function i(t,n){var r=h[t];if(!r)return null;var i=e.document.createElement(r),a=f[t];return a&&n&&(i[a]=n.trim()),i}for(var a,s,u=e.document.createElement("div"),l=u,m=[];null!==(a=n());)if("<"!==a[0])l.appendChild(e.document.createTextNode((s=a,c.innerHTML=s,s=c.textContent,c.textContent="",s)));else{if("/"===a[1]){m.length&&m[m.length-1]===a.substr(2).replace(">","")&&(m.pop(),l=l.parentNode);continue}var v,g=o(a.substr(1,a.length-2));if(g){v=e.document.createProcessingInstruction("timestamp",g),l.appendChild(v);continue}var y=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(v=i(y[1],y[3])))continue;if(!r(l,v))continue;if(y[2]){var _=y[2].split(".");_.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(d.hasOwnProperty(n)){var r=t?"background-color":"color",i=d[n];v.style[r]=i}})),v.className=_.join(" ")}m.push(y[1]),l.appendChild(v),l=v}return u}var v=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function g(e){for(var t=0;t<v.length;t++){var n=v[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function y(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var a=n.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var a=0;a<n.length;a++)if(g(n.charCodeAt(a)))return"rtl";return"ltr"}function _(){}function b(e,t,n){_.call(this),this.cue=t,this.cueDiv=m(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:y(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function k(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function T(e,t,n,r){var i=new k(t),a=t.cue,o=function(e){if("number"===typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(a),s=[];if(a.snapToLines){var u;switch(a.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var l=i.lineHeight,c=l*Math.round(o),h=n[u]+l,d=s[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/l)*l),o<0&&(c+=""===a.vertical?n.height:n.width,s=s.reverse()),i.move(d,c)}else{var f=i.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=f/2;break;case"end":o-=f}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}s=["+y","-x","+x","-y"],i=new k(t)}var p=function(e,t){for(var i,a=new k(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var u=e.intersectPercentage(n);o>u&&(i=new k(e),o=u),e=new k(a)}return i||a}(i,s);t.move(p.toCSSCompatValues(n))}function w(){}_.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},_.prototype.formatStyle=function(e,t){return 0===e?0:e+t},b.prototype=i(_.prototype),b.prototype.constructor=b,k.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},k.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},k.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},k.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},k.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},k.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},k.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},k.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},w.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},w.convertCueToDOMTree=function(e,t){return e&&t?m(e,t):null};w.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],a=k.getSimpleBoxPosition(r),o={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var n,s,u=0;u<t.length;u++)s=t[u],n=new b(e,s,o),r.appendChild(n.div),T(0,n,a,i),s.displayState=n.div,i.push(k.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},w.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},w.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof a))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function r(e){e.match(/X-TIMESTAMP-MAP/)?u(e,(function(e,n){if("X-TIMESTAMP-MAP"===e)!function(e){var n=new s;u(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",o(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}),/=/):u(e,(function(e,n){if("Region"===e)!function(e){var n=new s;if(u(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new s;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var c=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new a(a.Errors.BadSignature);t.state="HEADER"}for(var h=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(h?h=!1:i=n(),t.state){case"HEADER":/:/.test(i)?r(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(f){t.cue.align="middle"}if(t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{l(i,t.cue,t.regionList)}catch(f){t.reportOrThrowError(f),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var d=-1!==i.indexOf("--\x3e");if(!i||d&&(h=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":i||(t.state="ID");continue}}}catch(f){t.reportOrThrowError(f),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new a(a.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=w},688:function(e){var t={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function r(e){return"string"===typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}function i(e,n,i){this.hasBeenReset=!1;var a="",o=!1,s=e,u=n,l=i,c=null,h="",d=!0,f="auto",p="start",m="auto",v="auto",g=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(e){a=""+e}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(e){o=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return l},set:function(e){l=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(e){c=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return h},set:function(e){var n=function(e){return"string"===typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");h=n,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(e){d=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=r(e);t?(p=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(e){var t=r(e);t?(v=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");g=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=r(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=i},24:function(e){var t={"":!0,up:!0};function n(e){return"number"===typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,r=3,i=0,a=100,o=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return r},set:function(e){if("number"!==typeof e)throw new TypeError("Lines must be set to a number.");r=e}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error("RegionAnchorX must be between 0 and 100.");a=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!n(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return u},set:function(e){var n=function(e){return"string"===typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);!1===n?console.warn("Scroll: an invalid or illegal string was specified."):u=n}}})}},893:function(){},434:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".389c16b4.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="finalport:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkfinalport=self.webpackChunkfinalport||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return o(e)}(e)||c(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if(t&&("object"===_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function T(e){var t=y();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function w(e,t,n){return w=y()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},w.apply(null,arguments)}function x(e){var t="function"===typeof Map?new Map:void 0;return x=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return w(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},x(e)}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var E,C="popstate";function I(e){return{usr:e.state,key:e.key}}function A(e,t,n,r){return void 0===n&&(n=null),S({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?O(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function O(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function L(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:P(e);return new URL(n,t)}function D(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,l=void 0!==u&&u,c=s.history,h=e.Pop,d=null;function f(){h=e.Pop,d&&d({action:h,location:p.location})}var p={get action(){return h},get location(){return t(s,c)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(C,f),d=e,function(){s.removeEventListener(C,f),d=null}},createHref:function(e){return n(s,e)},encodeLocation:function(e){var t=L(P(e));return S({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(t,n){h=e.Push;var i=A(p.location,t,n);r&&r(i,t);var a=I(i),o=p.createHref(i);try{c.pushState(a,"",o)}catch(u){s.location.assign(o)}l&&d&&d({action:h,location:p.location})},replace:function(t,n){h=e.Replace;var i=A(p.location,t,n);r&&r(i,t);var a=I(i),o=p.createHref(i);c.replaceState(a,"",o),l&&d&&d({action:h,location:p.location})},go:function(e){return c.go(e)}};return p}function N(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?O(t):t).pathname||"/",n);if(null==r)return null;var i=M(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=F(i[o],z(r));return a}function M(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(H(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=Q([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(H(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),M(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:j(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(E||(E={}));var R=/^:\w+$/,U=function(e){return"*"===e};function j(e,t){var n=e.split("/"),r=n.length;return n.some(U)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!U(e)})).reduce((function(e,t){return e+(R.test(t)?3:""===t?1:10)}),r)}function F(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=B({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var h=s.route;a.push({params:r,pathname:Q([i,c.pathname]),pathnameBase:X(Q([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=Q([i,c.pathnameBase]))}return a}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);q("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return q(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function z(e){try{return decodeURI(e)}catch(t){return q(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function q(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function W(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function G(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function K(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=O(e):(H(!(i=S({},e)).pathname||!i.pathname.includes("?"),W("?","pathname","search",i)),H(!i.pathname||!i.pathname.includes("#"),W("#","pathname","hash",i)),H(!i.search||!i.search.includes("#"),W("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?O(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Z(a),hash:Y(s)}}(i,a),h=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}var Q=function(e){return e.join("/").replace(/\/\/+/g,"/")},X=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Z=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Y=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},J=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n)}(x(Error));var $=p((function e(t,n,r){d(this,e),this.status=t,this.statusText=n||"",this.data=r}));function ee(e){return e instanceof $}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var te=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(h(te)));function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}var re="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ie=t.useState,ae=t.useEffect,oe=t.useLayoutEffect,se=t.useDebugValue;function ue(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!re(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var le=t.createContext(null);var ce=t.createContext(null);var he=t.createContext(null);var de=t.createContext(null);var fe=t.createContext(null);var pe=t.createContext(null);var me=t.createContext({outlet:null,matches:[]});var ve=t.createContext(null);function ge(){return null!=t.useContext(pe)}function ye(){return ge()||H(!1),t.useContext(pe).location}function _e(){ge()||H(!1);var e=t.useContext(fe),n=e.basename,r=e.navigator,i=t.useContext(me).matches,a=ye().pathname,o=JSON.stringify(G(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=K(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:Q([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}var be=t.createContext(null);function ke(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(me).matches,a=ye().pathname,o=JSON.stringify(G(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return K(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Te(){var e=function(){var e,n=t.useContext(ve),r=Ie(xe.UseRouteError),i=t.useContext(me),a=i.matches[i.matches.length-1];if(n)return n;return i||H(!1),!a.route.id&&H(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),n=ee(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var we,xe,Se=function(e){v(r,e);var n=T(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return p(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ve.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Ee(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(le);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(me.Provider,{value:n},i)}function Ce(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||H(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,l=r?o.route.errorElement||t.createElement(Te,null):null,c=function(){return t.createElement(Ee,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,s+1))}},u?l:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(Se,{location:r.location,component:l,error:u,children:c()}):c()}),null)}function Ie(e){var n=t.useContext(he);return n||H(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(we||(we={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(xe||(xe={}));var Ae;function Pe(e){return function(e){var n=t.useContext(me).outlet;return n?t.createElement(be.Provider,{value:e},n):n}(e.context)}function Oe(e){H(!1)}function Le(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,l=void 0===u?e.Pop:u,c=n.navigator,h=n.static,d=void 0!==h&&h;ge()&&H(!1);var f=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:f,navigator:c,static:d}}),[f,c,d]);"string"===typeof s&&(s=O(s));var m=s,v=m.pathname,g=void 0===v?"/":v,y=m.search,_=void 0===y?"":y,b=m.hash,k=void 0===b?"":b,T=m.state,w=void 0===T?null:T,x=m.key,S=void 0===x?"default":x,E=t.useMemo((function(){var e=V(g,f);return null==e?null:{pathname:e,search:_,hash:k,state:w,key:S}}),[f,g,_,k,w,S]);return null==E?null:t.createElement(fe.Provider,{value:p},t.createElement(pe.Provider,{children:o,value:{location:E,navigationType:l}}))}function De(n){var r=n.children,i=n.location,a=t.useContext(ce);return function(n,r){ge()||H(!1);var i,a=t.useContext(he),o=t.useContext(me).matches,s=o[o.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,ye());if(r){var h,d="string"===typeof r?O(r):r;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||H(!1),i=d}else i=c;var f=i.pathname||"/",p=N(n,{pathname:"/"===l?f:f.slice(l.length)||"/"}),m=Ce(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Q([l,e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Q([l,e.pathnameBase])})})),o,a||void 0);return r&&m?t.createElement(pe.Provider,{value:{location:ne({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},m):m}(a&&!r?a.router.routes:Me(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ae||(Ae={}));var Ne=new Promise((function(){}));t.Component;function Me(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Oe&&H(!1),e.props.index&&e.props.children&&H(!1);var a=[].concat(h(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Me(e.props.children,a)),r.push(o)}else r.push.apply(r,Me(e.props.children,n))})),r}function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}function Ue(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Fe=["aria-current","caseSensitive","className","end","style","to","children"];function Be(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),D((function(e,t){var n=e.location;return A("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:P(t)}),null,n)));var s=o.current,u=l(t.useState({action:s.action,location:s.location}),2),c=u[0],h=u[1];return t.useLayoutEffect((function(){return s.listen(h)}),[s]),t.createElement(Le,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}var ze=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,l=e.to,c=e.preventScrollReset,h=Ue(e,je),d=function(e,n){var r=(void 0===n?{}:n).relative;ge()||H(!1);var i=t.useContext(fe),a=i.basename,o=i.navigator,s=ke(e,{relative:r}),u=s.hash,l=s.pathname,c=s.search,h=l;return"/"!==a&&(h="/"===l?a:Q([a,l])),o.createHref({pathname:h,search:c,hash:u})}(l,{relative:i}),f=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=_e(),c=ye(),h=ke(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:P(c)===P(h);l(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[c,l,h,a,o,i,e,s,u])}(l,{replace:o,state:s,target:u,preventScrollReset:c,relative:i});return t.createElement("a",Re({},h,{href:d,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||f(e)},ref:n,target:u}))}));var Ve=t.forwardRef((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,l=e.end,c=void 0!==l&&l,h=e.style,d=e.to,f=e.children,p=Ue(e,Fe),m=ke(d,{relative:p.relative}),v=ye(),g=t.useContext(he),y=m.pathname,_=v.pathname,b=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(_=_.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase());var k,T=_===y||!c&&_.startsWith(y)&&"/"===_.charAt(y.length),w=null!=b&&(b===y||!c&&b.startsWith(y)&&"/"===b.charAt(y.length)),x=T?i:void 0;k="function"===typeof u?u({isActive:T,isPending:w}):[u,T?"active":null,w?"pending":null].filter(Boolean).join(" ");var S="function"===typeof h?h({isActive:T,isPending:w}):h;return t.createElement(ze,Re({},p,{"aria-current":x,className:k,ref:n,style:S,to:d}),"function"===typeof f?f({isActive:T,isPending:w}):f)}));var He,qe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(He||(He={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(qe||(qe={}));var We=n.p+"static/media/logo-s.bfc9f81846bda5218dab.png",Ge={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},Ke={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},Qe={prefix:"fas",iconName:"folder-open",icon:[576,512,[128194,128449,61717],"f07c","M88.7 223.8L0 375.8V96C0 60.7 28.7 32 64 32H181.5c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7H416c35.3 0 64 28.7 64 64v32H144c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224H544c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480H32c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z"]},Xe={prefix:"fas",iconName:"file-code",icon:[384,512,[],"f1c9","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM153 289l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L71 337c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM265 255l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},Ze={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},Ye={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},Je=Ye,$e={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},et={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},tt=et,nt={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.7 8.4 166.9 8 160 8s-13.7 .4-20.4 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM208 176c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 400c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]};function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||ct(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e){return function(e){if(Array.isArray(e))return ht(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){if(e){if("string"===typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(e,t):void 0}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dt=function(){},ft={},pt={},mt=null,vt={mark:dt,measure:dt};try{"undefined"!==typeof window&&(ft=window),"undefined"!==typeof document&&(pt=document),"undefined"!==typeof MutationObserver&&(mt=MutationObserver),"undefined"!==typeof performance&&(vt=performance)}catch(iV){}var gt,yt,_t,bt,kt,Tt=(ft.navigator||{}).userAgent,wt=void 0===Tt?"":Tt,xt=ft,St=pt,Et=mt,Ct=vt,It=(xt.document,!!St.documentElement&&!!St.head&&"function"===typeof St.addEventListener&&"function"===typeof St.createElement),At=~wt.indexOf("MSIE")||~wt.indexOf("Trident/"),Pt="svg-inline--fa",Ot="data-fa-i2svg",Lt="data-fa-pseudo-element",Dt="data-prefix",Nt="data-icon",Mt="fontawesome-i2svg",Rt=["HTML","HEAD","STYLE","SCRIPT"],Ut=function(){try{return!0}catch(iV){return!1}}(),jt="classic",Ft="sharp",Bt=[jt,Ft];function zt(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e.classic}})}var Vt=zt((st(gt={},jt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),st(gt,Ft,{fa:"solid",fass:"solid","fa-solid":"solid"}),gt)),Ht=zt((st(yt={},jt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),st(yt,Ft,{solid:"fass"}),yt)),qt=zt((st(_t={},jt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),st(_t,Ft,{fass:"fa-solid"}),_t)),Wt=zt((st(bt={},jt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),st(bt,Ft,{"fa-solid":"fass"}),bt)),Gt=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,Kt="fa-layers-text",Qt=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Xt=zt((st(kt={},jt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),st(kt,Ft,{900:"fass"}),kt)),Zt=[1,2,3,4,5,6,7,8,9,10],Yt=Zt.concat([11,12,13,14,15,16,17,18,19,20]),Jt=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],$t="duotone-group",en="swap-opacity",tn="primary",nn="secondary",rn=new Set;Object.keys(Ht.classic).map(rn.add.bind(rn)),Object.keys(Ht.sharp).map(rn.add.bind(rn));var an=[].concat(Bt,lt(rn),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",$t,en,tn,nn]).concat(Zt.map((function(e){return"".concat(e,"x")}))).concat(Yt.map((function(e){return"w-".concat(e)}))),on=xt.FontAwesomeConfig||{};if(St&&"function"===typeof St.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=ut(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=St.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(on[r]=i)}))}var sn={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:Pt,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};on.familyPrefix&&(on.cssPrefix=on.familyPrefix);var un=it(it({},sn),on);un.autoReplaceSvg||(un.observeMutations=!1);var ln={};Object.keys(sn).forEach((function(e){Object.defineProperty(ln,e,{enumerable:!0,set:function(t){un[e]=t,cn.forEach((function(e){return e(ln)}))},get:function(){return un[e]}})})),Object.defineProperty(ln,"familyPrefix",{enumerable:!0,set:function(e){un.cssPrefix=e,cn.forEach((function(e){return e(ln)}))},get:function(){return un.cssPrefix}}),xt.FontAwesomeConfig=ln;var cn=[];var hn=16,dn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function fn(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function pn(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function mn(e){return e.classList?pn(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function vn(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function gn(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function yn(e){return e.size!==dn.size||e.x!==dn.x||e.y!==dn.y||e.rotate!==dn.rotate||e.flipX||e.flipY}function _n(){var e="fa",t=Pt,n=ln.cssPrefix,r=ln.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var bn=!1;function kn(){ln.autoAddCss&&!bn&&(!function(e){if(e&&It){var t=St.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=St.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}St.head.insertBefore(t,r)}}(_n()),bn=!0)}var Tn={mixout:function(){return{dom:{css:_n,insertCss:kn}}},hooks:function(){return{beforeDOMElementCreation:function(){kn()},beforeI2svg:function(){kn()}}}},wn=xt||{};wn.___FONT_AWESOME___||(wn.___FONT_AWESOME___={}),wn.___FONT_AWESOME___.styles||(wn.___FONT_AWESOME___.styles={}),wn.___FONT_AWESOME___.hooks||(wn.___FONT_AWESOME___.hooks={}),wn.___FONT_AWESOME___.shims||(wn.___FONT_AWESOME___.shims=[]);var xn=wn.___FONT_AWESOME___,Sn=[],En=!1;function Cn(e){It&&(En?setTimeout(e,0):Sn.push(e))}function In(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?vn(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(vn(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(In).join(""),"</").concat(t,">")}function An(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}It&&((En=(St.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(St.readyState))||St.addEventListener("DOMContentLoaded",(function e(){St.removeEventListener("DOMContentLoaded",e),En=1,Sn.map((function(e){return e()}))})));var Pn=function(e,t,n,r){var i,a,o,s=Object.keys(e),u=s.length,l=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<u;i++)o=l(o,e[a=s[i]],a,e);return o};function On(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Ln(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Dn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Ln(t);"function"!==typeof xn.hooks.addPack||i?xn.styles[e]=it(it({},xn.styles[e]||{}),a):xn.hooks.addPack(e,Ln(t)),"fas"===e&&Dn("fa",t)}var Nn,Mn,Rn,Un=xn.styles,jn=xn.shims,Fn=(st(Nn={},jt,Object.values(qt.classic)),st(Nn,Ft,Object.values(qt.sharp)),Nn),Bn=null,zn={},Vn={},Hn={},qn={},Wn={},Gn=(st(Mn={},jt,Object.keys(Vt.classic)),st(Mn,Ft,Object.keys(Vt.sharp)),Mn);function Kn(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~an.indexOf(n))?null:a}var Qn=function(){var e=function(e){return Pn(Un,(function(t,n,r){return t[r]=Pn(n,e,{}),t}),{})};zn=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),Vn=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),Wn=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Un||ln.autoFetchSvg,n=Pn(jn,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Hn=n.names,qn=n.unicodes,Bn=$n(ln.styleDefault,{family:ln.familyDefault})};function Xn(e,t){return(zn[e]||{})[t]}function Zn(e,t){return(Wn[e]||{})[t]}function Yn(e){return Hn[e]||{prefix:null,iconName:null}}function Jn(){return Bn}!function(e){cn.push(e)}((function(e){Bn=$n(e.styleDefault,{family:ln.familyDefault})})),Qn();function $n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.family,r=void 0===n?jt:n,i=Vt[r][e],a=Ht[r][e]||Ht[r][i],o=e in xn.styles?e:null;return a||o||null}var er=(st(Rn={},jt,Object.keys(qt.classic)),st(Rn,Ft,Object.keys(qt.sharp)),Rn);function tr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.skipLookups,i=void 0!==r&&r,a=(st(t={},jt,"".concat(ln.cssPrefix,"-").concat(jt)),st(t,Ft,"".concat(ln.cssPrefix,"-").concat(Ft)),t),o=null,s=jt;(e.includes(a.classic)||e.some((function(e){return er.classic.includes(e)})))&&(s=jt),(e.includes(a.sharp)||e.some((function(e){return er.sharp.includes(e)})))&&(s=Ft);var u=e.reduce((function(e,t){var n=Kn(ln.cssPrefix,t);if(Un[t]?(t=Fn[s].includes(t)?Wt[s][t]:t,o=t,e.prefix=t):Gn[s].indexOf(t)>-1?(o=t,e.prefix=$n(t,{family:s})):n?e.iconName=n:t!==ln.replacementClass&&t!==a.classic&&t!==a.sharp&&e.rest.push(t),!i&&e.prefix&&e.iconName){var r="fa"===o?Yn(e.iconName):{},u=Zn(e.prefix,e.iconName);r.prefix&&(o=null),e.iconName=r.iconName||u||e.iconName,e.prefix=r.prefix||e.prefix,"far"!==e.prefix||Un.far||!Un.fas||ln.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return(e.includes("fa-brands")||e.includes("fab"))&&(u.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(u.prefix="fad"),u.prefix||s!==Ft||!Un.fass&&!ln.autoFetchSvg||(u.prefix="fass",u.iconName=Zn(u.prefix,u.iconName)||u.iconName),"fa"!==u.prefix&&"fa"!==o||(u.prefix=Jn()||"fas"),u}var nr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=it(it({},e.definitions[t]||{}),i[t]),Dn(t,i[t]);var n=qt.classic[t];n&&Dn(n,i[t]),Qn()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&ot(t.prototype,n),r&&ot(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),rr=[],ir={},ar={},or=Object.keys(ar);function sr(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=ir[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ir[e]||[];i.forEach((function(e){e.apply(null,n)}))}function lr(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return ar[e]?ar[e].apply(null,t):void 0}function cr(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Jn();if(t)return t=Zn(n,t)||t,An(hr.definitions,n,t)||An(xn.styles,n,t)}var hr=new nr,dr={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return It?(ur("beforeI2svg",e),lr("pseudoElements2svg",e),lr("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===ln.autoReplaceSvg&&(ln.autoReplaceSvg=!0),ln.observeMutations=!0,Cn((function(){mr({autoReplaceSvgRoot:t}),ur("watch",e)}))}},fr={icon:function(e){if(null===e)return null;if("object"===at(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Zn(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=$n(e[0]);return{prefix:n,iconName:Zn(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(ln.cssPrefix,"-"))>-1||e.match(Gt))){var r=tr(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Jn(),iconName:Zn(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Jn();return{prefix:i,iconName:Zn(i,e)||e}}}},pr={noAuto:function(){ln.autoReplaceSvg=!1,ln.observeMutations=!1,ur("noAuto")},config:ln,dom:dr,parse:fr,library:hr,findIconDefinition:cr,toHtml:In},mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?St:t;(Object.keys(xn.styles).length>0||ln.autoFetchSvg)&&It&&ln.autoReplaceSvg&&pr.dom.i2svg({node:n})};function vr(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return In(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(It){var t=St.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function gr(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,u=e.title,l=e.maskId,c=e.titleId,h=e.extra,d=e.watchable,f=void 0!==d&&d,p=r.found?r:n,m=p.width,v=p.height,g="fak"===i,y=[ln.replacementClass,a?"".concat(ln.cssPrefix,"-").concat(a):""].filter((function(e){return-1===h.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(h.classes).join(" "),_={children:[],attributes:it(it({},h.attributes),{},{"data-prefix":i,"data-icon":a,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(v)})},b=g&&!~h.classes.indexOf("fa-fw")?{width:"".concat(m/v*16*.0625,"em")}:{};f&&(_.attributes[Ot]=""),u&&(_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(c||fn())},children:[u]}),delete _.attributes.title);var k=it(it({},_),{},{prefix:i,iconName:a,main:n,mask:r,maskId:l,transform:o,symbol:s,styles:it(it({},b),h.styles)}),T=r.found&&n.found?lr("generateAbstractMask",k)||{children:[],attributes:{}}:lr("generateAbstractIcon",k)||{children:[],attributes:{}},w=T.children,x=T.attributes;return k.children=w,k.attributes=x,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(ln.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:it(it({},i),{},{id:o}),children:r}]}]}(k):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(yn(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=gn(it(it({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(k)}function yr(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,u=void 0!==s&&s,l=it(it(it({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});u&&(l[Ot]="");var c=it({},o.styles);yn(i)&&(c.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,s=void 0!==o&&o,u="";return u+=s&&At?"translate(".concat(t.x/hn-r/2,"em, ").concat(t.y/hn-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/hn,"em), calc(-50% + ").concat(t.y/hn,"em)) "):"translate(".concat(t.x/hn,"em, ").concat(t.y/hn,"em) "),u+="scale(".concat(t.size/hn*(t.flipX?-1:1),", ").concat(t.size/hn*(t.flipY?-1:1),") "),u+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);var h=gn(c);h.length>0&&(l.style=h);var d=[];return d.push({tag:"span",attributes:l,children:[t]}),a&&d.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),d}function _r(e){var t=e.content,n=e.title,r=e.extra,i=it(it(it({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=gn(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var br=xn.styles;function kr(e){var t=e[0],n=e[1],r=ut(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(ln.cssPrefix,"-").concat($t)},children:[{tag:"path",attributes:{class:"".concat(ln.cssPrefix,"-").concat(nn),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ln.cssPrefix,"-").concat(tn),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var Tr={found:!1,width:512,height:512};function wr(e,t){var n=t;return"fa"===t&&null!==ln.styleDefault&&(t=Jn()),new Promise((function(r,i){lr("missingIconAbstract");if("fa"===n){var a=Yn(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&br[t]&&br[t][e])return r(kr(br[t][e]));!function(e,t){Ut||ln.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(it(it({},Tr),{},{icon:ln.showMissingIcons&&e&&lr("missingIconAbstract")||{}}))}))}var xr=function(){},Sr=ln.measurePerformance&&Ct&&Ct.mark&&Ct.measure?Ct:{mark:xr,measure:xr},Er='FA "6.2.0"',Cr=function(e){Sr.mark("".concat(Er," ").concat(e," ends")),Sr.measure("".concat(Er," ").concat(e),"".concat(Er," ").concat(e," begins"),"".concat(Er," ").concat(e," ends"))},Ir=function(e){return Sr.mark("".concat(Er," ").concat(e," begins")),function(){return Cr(e)}},Ar=function(){};function Pr(e){return"string"===typeof(e.getAttribute?e.getAttribute(Ot):null)}function Or(e){return St.createElementNS("http://www.w3.org/2000/svg",e)}function Lr(e){return St.createElement(e)}function Dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?Or:Lr:n;if("string"===typeof e)return St.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(Dr(e,{ceFn:r}))})),i}var Nr={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(Dr(e),t)})),null===t.getAttribute(Ot)&&ln.keepOriginalSource){var n=St.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~mn(t).indexOf(ln.replacementClass))return Nr.replace(e);var r=new RegExp("".concat(ln.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===ln.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return In(e)})).join("\n");t.setAttribute(Ot,""),t.innerHTML=a}};function Mr(e){e()}function Rr(e,t){var n="function"===typeof t?t:Ar;if(0===e.length)n();else{var r=Mr;"async"===ln.mutateApproach&&(r=xt.requestAnimationFrame||Mr),r((function(){var t=!0===ln.autoReplaceSvg?Nr.replace:Nr[ln.autoReplaceSvg]||Nr.replace,r=Ir("mutate");e.map(t),r(),n()}))}}var Ur=!1;function jr(){Ur=!0}function Fr(){Ur=!1}var Br=null;function zr(e){if(Et&&ln.observeMutations){var t=e.treeCallback,n=void 0===t?Ar:t,r=e.nodeCallback,i=void 0===r?Ar:r,a=e.pseudoElementsCallback,o=void 0===a?Ar:a,s=e.observeMutationsRoot,u=void 0===s?St:s;Br=new Et((function(e){if(!Ur){var t=Jn();pn(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Pr(e.addedNodes[0])&&(ln.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&ln.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&Pr(e.target)&&~Jt.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Dt):null,n=e.getAttribute?e.getAttribute(Nt):null;return t&&n}(e.target)){var r=tr(mn(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(Dt,a||t),s&&e.target.setAttribute(Nt,s)}else(u=e.target)&&u.classList&&u.classList.contains&&u.classList.contains(ln.replacementClass)&&i(e.target);var u}))}})),It&&Br.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Vr(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function Hr(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=tr(mn(e));return i.prefix||(i.prefix=Jn()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(Vn[e]||{})[t]}(i.prefix,e.innerText)||Xn(i.prefix,On(e.innerText))),!i.iconName&&ln.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function qr(e){var t=pn(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return ln.autoA11y&&(n?t["aria-labelledby"]="".concat(ln.replacementClass,"-title-").concat(r||fn()):(t["aria-hidden"]="true",t.focusable="false")),t}function Wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Hr(e),r=n.iconName,i=n.prefix,a=n.rest,o=qr(e),s=sr("parseNodeAttributes",{},e),u=t.styleParser?Vr(e):[];return it({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:dn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:u,attributes:o}},s)}var Gr=xn.styles;function Kr(e){var t="nest"===ln.autoReplaceSvg?Wr(e,{styleParser:!1}):Wr(e);return~t.extra.classes.indexOf(Kt)?lr("generateLayersText",e,t):lr("generateSvgReplacementMutation",e,t)}var Qr=new Set;function Xr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!It)return Promise.resolve();var n=St.documentElement.classList,r=function(e){return n.add("".concat(Mt,"-").concat(e))},i=function(e){return n.remove("".concat(Mt,"-").concat(e))},a=ln.autoFetchSvg?Qr:Bt.map((function(e){return"fa-".concat(e)})).concat(Object.keys(Gr));a.includes("fa")||a.push("fa");var o=[".".concat(Kt,":not([").concat(Ot,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(Ot,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=pn(e.querySelectorAll(o))}catch(iV){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var u=Ir("onTree"),l=s.reduce((function(e,t){try{var n=Kr(t);n&&e.push(n)}catch(iV){Ut||"MissingIcon"===iV.name&&console.error(iV)}return e}),[]);return new Promise((function(e,n){Promise.all(l).then((function(n){Rr(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),u(),e()}))})).catch((function(e){u(),n(e)}))}))}function Zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Kr(e).then((function(e){e&&Rr([e],t)}))}Bt.map((function(e){Qr.add("fa-".concat(e))})),Object.keys(Vt.classic).map(Qr.add.bind(Qr)),Object.keys(Vt.sharp).map(Qr.add.bind(Qr)),Qr=lt(Qr);var Yr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?dn:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,u=t.maskId,l=void 0===u?null:u,c=t.title,h=void 0===c?null:c,d=t.titleId,f=void 0===d?null:d,p=t.classes,m=void 0===p?[]:p,v=t.attributes,g=void 0===v?{}:v,y=t.styles,_=void 0===y?{}:y;if(e){var b=e.prefix,k=e.iconName,T=e.icon;return vr(it({type:"icon"},e),(function(){return ur("beforeDOMElementCreation",{iconDefinition:e,params:t}),ln.autoA11y&&(h?g["aria-labelledby"]="".concat(ln.replacementClass,"-title-").concat(f||fn()):(g["aria-hidden"]="true",g.focusable="false")),gr({icons:{main:kr(T),mask:s?kr(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:k,transform:it(it({},dn),r),symbol:a,title:h,maskId:l,titleId:f,extra:{attributes:g,styles:_,classes:m}})}))}},Jr={mixout:function(){return{icon:(e=Yr,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:cr(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:cr(i||{})),e(r,it(it({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Xr,e.nodeCallback=Zr,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?St:t,r=e.callback;return Xr(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,s=t.symbol,u=t.mask,l=t.maskId,c=t.extra;return new Promise((function(t,h){Promise.all([wr(n,a),u.iconName?wr(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(u){var h=ut(u,2),d=h[0],f=h[1];t([e,gr({icons:{main:d,mask:f},prefix:a,iconName:n,transform:o,symbol:s,maskId:l,title:r,titleId:i,extra:c,watchable:!0})])})).catch(h)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=gn(e.styles);return o.length>0&&(r.style=o),yn(a)&&(t=lr("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},$r={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return vr({type:"layer"},(function(){ur("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(ln.cssPrefix,"-layers")].concat(lt(r)).join(" ")},children:n}]}))}}}},ei={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,u=t.styles,l=void 0===u?{}:u;return vr({type:"counter",content:e},(function(){return ur("beforeDOMElementCreation",{content:e,params:t}),_r({content:e.toString(),title:r,extra:{attributes:s,styles:l,classes:["".concat(ln.cssPrefix,"-layers-counter")].concat(lt(a))}})}))}}}},ti={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?dn:n,i=t.title,a=void 0===i?null:i,o=t.classes,s=void 0===o?[]:o,u=t.attributes,l=void 0===u?{}:u,c=t.styles,h=void 0===c?{}:c;return vr({type:"text",content:e},(function(){return ur("beforeDOMElementCreation",{content:e,params:t}),yr({content:e,transform:it(it({},dn),r),title:a,extra:{attributes:l,styles:h,classes:["".concat(ln.cssPrefix,"-layers-text")].concat(lt(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(At){var s=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/s,o=u.height/s}return ln.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,yr({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},ni=new RegExp('"',"ug"),ri=[1105920,1112319];function ii(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=pn(e.children).filter((function(e){return e.getAttribute(Lt)===t}))[0],o=xt.getComputedStyle(e,t),s=o.getPropertyValue("font-family").match(Qt),u=o.getPropertyValue("font-weight"),l=o.getPropertyValue("content");if(a&&!s)return e.removeChild(a),r();if(s&&"none"!==l&&""!==l){var c=o.getPropertyValue("content"),h=~["Sharp"].indexOf(s[2])?Ft:jt,d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?Ht[h][s[2].toLowerCase()]:Xt[h][u],f=function(e){var t=e.replace(ni,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=ri[0]&&n<=ri[1],i=2===t.length&&t[0]===t[1];return{value:On(i?t[0]:t),isSecondary:r||i}}(c),p=f.value,m=f.isSecondary,v=s[0].startsWith("FontAwesome"),g=Xn(d,p),y=g;if(v){var _=function(e){var t=qn[e],n=Xn("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);_.iconName&&_.prefix&&(g=_.iconName,d=_.prefix)}if(!g||m||a&&a.getAttribute(Dt)===d&&a.getAttribute(Nt)===y)r();else{e.setAttribute(n,y),a&&e.removeChild(a);var b={iconName:null,title:null,titleId:null,prefix:null,transform:dn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},k=b.extra;k.attributes[Lt]=t,wr(g,d).then((function(i){var a=gr(it(it({},b),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:d,iconName:y,extra:k,watchable:!0})),o=St.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return In(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function ai(e){return Promise.all([ii(e,"::before"),ii(e,"::after")])}function oi(e){return e.parentNode!==document.head&&!~Rt.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Lt)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function si(e){if(It)return new Promise((function(t,n){var r=pn(e.querySelectorAll("*")).filter(oi).map(ai),i=Ir("searchPseudoElements");jr(),Promise.all(r).then((function(){i(),Fr(),t()})).catch((function(){i(),Fr(),n()}))}))}var ui=!1,li=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},ci={mixout:function(){return{parse:{transform:function(e){return li(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=li(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),l={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(u)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:it({},l.outer),children:[{tag:"g",attributes:it({},l.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:it(it({},t.icon.attributes),l.path)}]}]}}}},hi={x:0,y:0,width:"100%",height:"100%"};function di(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var fi={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?tr(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Jn()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,u=i.width,l=i.icon,c=a.width,h=a.icon,d=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:c,iconWidth:u}),f={tag:"rect",attributes:it(it({},hi),{},{fill:"white"})},p=l.children?{children:l.children.map(di)}:{},m={tag:"g",attributes:it({},d.inner),children:[di(it({tag:l.tag,attributes:it(it({},l.attributes),d.path)},p))]},v={tag:"g",attributes:it({},d.outer),children:[m]},g="mask-".concat(o||fn()),y="clip-".concat(o||fn()),_={tag:"mask",attributes:it(it({},hi),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,v]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=h,"g"===t.tag?t.children:[t])},_]};return n.push(b,{tag:"rect",attributes:it({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},hi)}),{children:n,attributes:r}}}},pi={provides:function(e){var t=!1;xt.matchMedia&&(t=xt.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:it(it({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=it(it({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:it(it({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:it(it({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:it(it({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:it(it({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:it(it({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:it(it({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:it(it({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;rr=e,ir={},Object.keys(ar).forEach((function(e){-1===or.indexOf(e)&&delete ar[e]})),rr.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===at(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){ir[e]||(ir[e]=[]),ir[e].push(r[e])}))}e.provides&&e.provides(ar)}))}([Tn,Jr,$r,ei,ti,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=si,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?St:t;ln.searchPseudoElements&&si(n)}}},{mixout:function(){return{dom:{unwatch:function(){jr(),ui=!0}}}},hooks:function(){return{bootstrap:function(){zr(sr("mutationObserverCallbacks",{}))},noAuto:function(){Br&&Br.disconnect()},watch:function(e){var t=e.observeMutationsRoot;ui?Fr():zr(sr("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},ci,fi,pi,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:pr});var mi=pr.parse,vi=pr.icon,gi=n(7),yi=n.n(gi);function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){Ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ki(e){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ki(e)}function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xi(e){return function(e){if(Array.isArray(e))return Si(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Si(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ei(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Ci=["style"];function Ii(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Ei(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var Ai=!1;try{Ai=!0}catch(iV){}function Pi(e){return e&&"object"===ki(e)&&e.prefix&&e.iconName&&e.icon?e:mi.icon?mi.icon(e):null===e?null:e&&"object"===ki(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Oi(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ti({},e,t):{}}var Li=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,s=e.titleId,u=e.maskId,l=Pi(n),c=Oi("classes",[].concat(xi(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,s=e.flash,u=e.spin,l=e.spinPulse,c=e.spinReverse,h=e.pulse,d=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,v=e.flip,g=e.size,y=e.rotation,_=e.pull,b=(Ti(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":s,"fa-spin":u,"fa-spin-reverse":c,"fa-spin-pulse":l,"fa-pulse":h,"fa-fw":d,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===v,"fa-flip-horizontal":"horizontal"===v||"both"===v,"fa-flip-vertical":"vertical"===v||"both"===v},"fa-".concat(g),"undefined"!==typeof g&&null!==g),Ti(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),Ti(t,"fa-pull-".concat(_),"undefined"!==typeof _&&null!==_),Ti(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(e)),xi(a.split(" ")))),h=Oi("transform","string"===typeof e.transform?mi.transform(e.transform):e.transform),d=Oi("mask",Pi(r)),f=vi(l,bi(bi(bi(bi({},c),h),d),{},{symbol:i,title:o,titleId:s,maskId:u}));if(!f)return function(){var e;!Ai&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var p=f.abstract,m={ref:t};return Object.keys(e).forEach((function(t){Li.defaultProps.hasOwnProperty(t)||(m[t]=e[t])})),Di(p[0],m)}));Li.displayName="FontAwesomeIcon",Li.propTypes={beat:yi().bool,border:yi().bool,beatFade:yi().bool,bounce:yi().bool,className:yi().string,fade:yi().bool,flash:yi().bool,mask:yi().oneOfType([yi().object,yi().array,yi().string]),maskId:yi().string,fixedWidth:yi().bool,inverse:yi().bool,flip:yi().oneOf([!0,!1,"horizontal","vertical","both"]),icon:yi().oneOfType([yi().object,yi().array,yi().string]),listItem:yi().bool,pull:yi().oneOf(["right","left"]),pulse:yi().bool,rotation:yi().oneOf([0,90,180,270]),shake:yi().bool,size:yi().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:yi().bool,spinPulse:yi().bool,spinReverse:yi().bool,symbol:yi().oneOfType([yi().bool,yi().string]),title:yi().string,titleId:yi().string,transform:yi().oneOfType([yi().string,yi().object]),swapOpacity:yi().bool},Li.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Di=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=Ii(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Ei(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,u=wi(r,Ci);return a.attrs.style=bi(bi({},a.attrs.style),s),t.apply(void 0,[n.tag,bi(bi({},a.attrs),u)].concat(xi(i)))}.bind(null,t.createElement),Ni={prefix:"fab",iconName:"square-js",icon:[448,512,["js-square"],"f3b9","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM243.8 381.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1v143.7zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6z"]},Mi=Ni,Ri={prefix:"fab",iconName:"react",icon:[512,512,[],"f41b","M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"]},Ui={prefix:"fab",iconName:"gitlab",icon:[512,512,[],"f296","M503.5 204.6L502.8 202.8L433.1 21.02C431.7 17.45 429.2 14.43 425.9 12.38C423.5 10.83 420.8 9.865 417.9 9.57C415 9.275 412.2 9.653 409.5 10.68C406.8 11.7 404.4 13.34 402.4 15.46C400.5 17.58 399.1 20.13 398.3 22.9L351.3 166.9H160.8L113.7 22.9C112.9 20.13 111.5 17.59 109.6 15.47C107.6 13.35 105.2 11.72 102.5 10.7C99.86 9.675 96.98 9.295 94.12 9.587C91.26 9.878 88.51 10.83 86.08 12.38C82.84 14.43 80.33 17.45 78.92 21.02L9.267 202.8L8.543 204.6C-1.484 230.8-2.72 259.6 5.023 286.6C12.77 313.5 29.07 337.3 51.47 354.2L51.74 354.4L52.33 354.8L158.3 434.3L210.9 474L242.9 498.2C246.6 500.1 251.2 502.5 255.9 502.5C260.6 502.5 265.2 500.1 268.9 498.2L300.9 474L353.5 434.3L460.2 354.4L460.5 354.1C482.9 337.2 499.2 313.5 506.1 286.6C514.7 259.6 513.5 230.8 503.5 204.6z"]},ji={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]},Fi={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},Bi={prefix:"fab",iconName:"html5",icon:[384,512,[],"f13b","M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"]},zi={prefix:"fab",iconName:"python",icon:[448,512,[],"f3e2","M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"]},Vi={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},Hi=n(184),qi=function(){var e=l((0,t.useState)(!1),2),n=e[0],r=e[1];return(0,Hi.jsxs)("div",{className:"nav-bar",children:[(0,Hi.jsxs)(ze,{className:"logo",to:"/",children:[(0,Hi.jsx)("img",{src:We,alt:"logo"}),(0,Hi.jsx)("img",{className:"sub-logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfAAAAB/CAYAAAAQPZBfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAe/0lEQVR4Xu2df3Bc1XXHV2YFK1gpyNQeWUGArB+2TIQlGReStFaGyK5ZNU46TCH+CRYEe5KGxlllSIbmn3YoQ2JjAiVdTxh3mh9tIZ3OYCzheJfQFSVMW0AC09jWSisHU62Q6KrVrlmZXaye+3bXXkv7471773v73uq7MzsC6/4453Of3rnn3HvPtdnwAQEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQUEugb7xuidqyKAcCIAACICCfQJn8JtFiqRIgo32lzda62mlvWVvlaFpbU96wymZv6HLabB/Y7PU30s/sn8RYIGqzXW1LjL4btY2enogF3phJPP8vncvPnitVVtALBEAABEAABIpCgIy1MrnrG3d9xh/2eEKx4P9G5uR/InFvX2DGfU9RlESnIAACIAACIFBKBMh4lytGOx48J99k52kx7u0PhF1rSokldAEBEAABEAAB3QmQ4a7zh71Tenja2iYCwdOhGfcO3RVGByAAAiAAAiBgZQJkuK/om/S8FIprM7P6lw4Oh8KudiuzhewgAAIgAAIgoAsBWuNuHYwF9bfFIj3EvUcHJ+vsugBAoyAAAiAAAiBgNQJkvNsCpvO6c1l6FlZ3dViNMeQFARAAARAAAakE+sbdD5svZF7YTY/E3F/zj8Mbl/owoDEQAAEQAAFrECDj3WtF433RvMc9T5IRRw4DazxukBIEQAAEQEAGAQqb11knbJ7vyJnnCTLiyAYn46FAGyAAAiAAAuYnMBgrHKa2TImY+0HzE4eEIAACIAACICBIoC/s/cQyxlmloKFw3fWCWFAdBEAABCxJACFISw6bdqFp3XtnR3VXyY13TfXhvxnEerj2BwI1QAAEQAAErEHAP2Pys94qPe6sxRBKt8ZDCClBAARAAAS0ESDve2tIxEBmqxsPBkIznv2DYdcq/6TrplwS0e+a/WH3rsEZ7xDlVo/KFiPZXjAUmKzLeRmaNlooDQIgAAIgAAImIMDSpMrzvoMjlKN8F49amfeH+yfdu2QfY4vMuD7LIxfqgAAIgAAIgIApCdCxsetkHBujBCr3y1SQ3S3eN0mRAWmZ4LwvypQPbYEACIAACIBA0QiwO73pkpIfid4uRheK6Obd0gRjPeViFxVRCaTTjvTqosFGxyAAAiAAAiAgiwAZcDsdHfsfkXVnCk1/QZY8udph3riM8+kka5vesqJ9EAABEAABEDCEgJBhjHueNirbGXni7cKh/rjngCFQ0QkIgAAImIAArmg0wSDoJQIZxeVOgRGeiDz6/c7asxf0ku/ydk+8OxzxjTdWd9Vy92dvWMtdV7AiiyJQExe6a88mMjfsZTTLcrczluwnGxU7lf1IsNuiVE/pdwV1/gnpcIFFeui/51LCpH+y/03rzPIPlLN/oPKzRRGaOk3LTTLE9ZaBbR6lfj7J1w+VYUzKqNzHesuD9kEABCxGgI6P/Sn/8TGv12h1acLRIeaFByfoOJlhyWrYS5ox6pt0rR4Me34QiHn/NULH6yI5N+ax3wXPRGLeY3QE73E6gtes1B83/xG49KSEdG2kY4E7AjPeV0KxYDi/vrR4o/AIngnFvH2BGffOwUlXU0rnq6hNh5HPGNsTwtNfytCqrkqnLL5KfHx0bHIi17OgcCMmdKpjBzFZmWLCJZ9qwVAQBEDAOgTIgG8XMOAvFUNT0SNvtJHtOj3lVjYGkrdNL+ltgdjF5DgXRPYZ0Dl2djxvp58mHzm8dz1Vyts2yXM16bp1nq6C+ipn90dpEvODwcm6q1PGS9eJF00OW1KTwwR1zr4srTD7Ml2yfZmQKT2VPAMVuUApe00m3XcTo48z2tL8SERinh+SMV/DO9Eo2kOCjkEABOQTIAO+Q8CA98mXqHCLtOnu/zS/+ZIVlJctGfBrC/eivYTykqZ1ekpI83pqy7wEI5ZF0zh5qmHX2lRIXrugEmqwyALp2kqnA+Z01fWi+sHTzBOl/RZsGUKXD+lzA390JzhKBnzBYlTKcN9DhnuK85nNXi3uPUrPQJsuINAoCICANQiQAd8lYMCLcq6ajr0dFjlTRjvRb5I9OvSirvCHvW+JyKX5BR/3HqOXeKtsXQq1l5qkvGKorhlwKN9AD0UiWHhdWZ6Q9SG96gUM+Nh8OVj4n56J1/TkxDxyWfqjHRAAAYsRIAN+H78Bn8vcjGQJzWWHnxVPdNK9nf/Fr9lsL6hAL/H9enqm6YFl7EjXbfIS64joHhwmj/x+0jtn2FrrAylowM9k9sdC3KJLPerpBE9r1RXlQQAESoAAGfDdIgZ8LubeXgIYuFRQjHfY+46eHpaWlziFcKV6pPMMEtP1lDl0zaAS9/bTTXNSNrqRAW/gn4gFL/PAyXiztW4DP8HhbCF8rgcblUAABKxBQCyEnnw/UUj6c9bQVp6USnjUdLe3BU/R+r40jzTD82bG+4TpjPdF8+h9kTa6CRtxQQM+epFX2PtTAy13RleXTyLkPe1oCQRAwJQE6KXVyO91XHp3RGbcu41K6FJskGS8rzKf8U6PBYWWw3XXyGREew4Omtd4p/X29one+S5owAPseCJNiP9QKKIlavnjnv0yxx5tgQAImJyAUCa2zBdOnBkPV4fszUVmwsd2FZvXeF804iNkTK6SwU3slIKoNdJYX/DOd0EDTiFsV7OMybBGrRfuiZhx3S5j7NEGCICABQjoYZBoY9VBdl6VqZ/KwmUBEoVFpFDyf4m+YI2pr6wNC5+b1uPZ0FN/keiDoAF/nxKzPEe66XN0UBM03LpX+C8ZJUCgBAgkd1F7ntUzRBqhjUaUYWtbxpqqkjLTah+xrHWa3sByCsfcD4gwpufiMT2fCzlKzmslzn+sStZyki56aWyU9qWsEhl71AUBELAIAXpxrTEy9EfpIX8VCLt3saxiKQ+93OxeOjsWJG2pQePLWKS4yPWpVtSXsrf9jpYPuJK9lJIBnxOYyFjktQUxQQAE0gSKGSpVPPTwpeNoRue/VvMUUOg8IGJIVdZNp+tUWVxNMe8LavSbX8bAaIP0kDN5n7fx6exqMnIimxq9zBStagZUZZng+zwMUKf0CAivo5UektLSiCXoiM4e90SLpJbT3nVnY/X+n6ffTBuWHT5CIfddGSF3Stup3MpUlA/Lkd1c2dUop/Ox0YnIoQNDU92ry+Z9+kPdLQNTvbtHIr5jqbGQkCinawsZtD/QIruSZ9uxeX+Nlkq5yibGRiYivT3Z9GXq908pOu8aIiYTCaURYZ2dFVvuoRMRRXtesqJI+H41Mt17/8DCcV9C/7ZmaPrQ47L0T/Zf/2kZw4c2QAAELELApCHTC6k19B0ZBl34zK+WISHve0yl25OnWDBAO/RvUZsJju1N8Ic9j8nJeuY9ShvaNBk08WchGGC5urWcSEjlDd8m7gV7j5O+msPoNFGTvos8eflI8oazQheQsN9Tprt75Iy5kp9BuckOHxAAgUVAQEZSF3FDV7gFMugsB/gt5GWxW780GSatw0gv9dXCBiXuOai130uTFdc6ujAkWphK/hL0Mu9QKwM9B18WO8usnMnmjtwxQy42gQgGaR1c87WbNNarhMc6Yxh4ExyRHOukyBFz71Y75igHAiBgcQJKruuw931RY2FofWX93PUZMuYszC49laj4Dn2v8JWrLHGMmEGjEYl7niRGyrWc+T7JfOciiVuC7Az6glu5CvU7//eiKX5p855mGWQacN51+EsTN/dOsUmUMuZPsUmuVvYoDwIgYFECxl7CINfUU7jyAIUrNYdO8w2V2OY+JT81tyeaKRe7AUzMKwu+R7IsLfRYKmHcsJf/6suY+/5Cfaj5fcbd3FwPCRlwzZM5aQY85v66Gh0LlRF79hg2r69QH/g9CIBAiRFIhjCNvoyB6z2dtRK7nYsMeUFvs9CwiR4rIi9sfaE+tPxe9Fw2yfMFNf2JGA417astIxJ14DTg4sslc0oEQvPkIRsTGu+nxc7he19WyxrlSpeAFA+idPGUnmbdtWcT7RUrrxyILLji2BLKOh173G3L3jtH90az6yY1h1IvKmnf8q0a7tq+l0eiJ96SCax7+d7vjczyt0i7s/+EeBTMk15VXs/TCe0e9/XzVNSpTnFCx7PP7G9afvYTKToljjyT2pnO21xxGPBKi3q6EIAB1wWr+RvtrFpZNjB96IliHS8TJeR07H+WjqS9QN44X15we8NXnbxCzB77eXutpBd5Sga2Pj0e84V4RbLZG9ZU2Wx5/54p6tDk5Ju0lNkSoyM0QeBjPU8pFs7mlIMbj3jFsTNlFQc84u0kW+iu7T8VTR6twwcEuAnAgHOjs37FzqV73QOh7vahiO9VSxpye5erbZn/BIU1K7WORm1F13Va66TLT8Se/2feunnqVZOR/CX/ODQ0kFE8n08uMhqB4akblsw/o67m//unHu3trD2bt301TGiiUmlz7HuhkW8ike6iCN7naFBk9302NjNxoShYERioGWGUMZIADLiRtE3YF73Uh9qrNm4gQ95Ghvw3/AakWMrVNzUu8w+p2cSVlpCtf/N7gL7jE7P5DSUnibgtceQwf1i1vp50Krg3gJZQuJKpUL04p15KNeUc+HhdldNx+JUN1V3Wy+U9e+zouAiALHWjidELkptEc4uMgNg8eJHBKmV1yZC/bbP1f55esk6n45G/aq7ctKPGXv971tC5fmXjssM/GxzvuYtC23lXkpNny1s6uQ14YvTUjM22wPtJJfJgG5wyv+ly7EXN1k7ZN/3SZr9jXxZIZUaV/RR6oTvtrQ0229k3izlmWVLlEo/WRqdjy87myj1u/n0HwloJeazR+Mm3aBIjND5ZNIADJTysi7sBGPDFPf4LtKeXFDnhe/fRi9hNL95WevHeR8Z8FxnzgseUiouShdMfedw//uh3KNT7cR5ZrrLZm+7gXv+273low4o9D81x+bEFCQm16ixvaadJmCEGnHnUbENkWiPlwhp7azNxvabK3tLmtG/e5SxvoOen/lP0b0wvIQM6j5zMtgoOCisQTZw4o6qgcYUMZ2CcauhJLQEYcLWkFlm5pLdxlnnl+0h19rX5J907ax2b76up6LqD24PVkyMZ1w7nkSN947aBPCFf5gUXDDXrKWaetkVfyleSIa0g3WMy5WfRBRZ6V1LF2ltpI1xLe5V9c08oZks4afOczV5/YwEjLaqXTHV428KWM15yqKcbARhw3dCWXsOdyw/8zGZj3+THT9eG1lZsJu+864tmMejOyn3fqo32DOShP0c7tr/C7YGbeVjtTS2kF0s/K82A0xhvozHeEYl33UljnBkhmG+UzW6kBaIbY2dox/g5Mw89ZFucBGDAF+e4S9G6c+mBn5JBp2/KoE+6t1Y5mtbVVGzqoZB7tZRONDfS9cc1DlstVftdjqr5wuuaezNZBbamym1IU+v4DtoD8X1ar/4erVen13zTa7XcbZuMk1ZxmN5Yr9ZKDeV1J4CHUnfEi6cD8tD/sb1qb++K8pVLU9dJ3kJXKR4YmR2zGbm7vabykW/myg3OlgYo7Fuqg8IMruaNVkqKVbpko9Z5+PUNK977aEP1nu+mNpux9wPeEclJkdk4LNbJVKn+7XLpZbaHkksJVDInge7l/Sfal+7tbapYWVbJ7ocOdd9MyWOeYgZd14990/Zau61gVjJdZShe45oMONs1Tke73t2wou+Ntsqu21JLC6VoHEpRp+I9ZejZFARgwE0xDItDCDqq9ltKHvPnzKAnPfTeXWTM51LeucAa5Xx+9TW0Xrv4DLi9YTVlY1PNkbzuW2ur/TE6l73GwD0BTD42yVAtpwn+OvSSVa92TYAMIhhBAAbcCMroIyuBbtoUR8Z8yUDoBvvAtO+0zNSSNRV3d7PEIYsQvSpPk92A1rys7z/bHFy50fmxJnwvjkx3bxia5V+r5+8cNUGgtAhgE1tpjacltaF1aTratbGF3Y3tdB5+raOya52wR2hvaqI2pNwcZSGo7IhcQQNOxruDjPebgulMVWOJktGOxo49t6LqwC/SlQbF9skXw3PVo0/Z5+NVjwkKlgYBeOClMY4loQUZ8vPRaM9tA1OHHpew6Y0ZsgU3R6V2WpcErwVKJLPE5TWNpP+VtdX6GO9oYux0dJY87EjvzqGp7oZ0jvXK8o1bMo13acI3XivKzV5wsma8VOjRSALwwI2kjb4KEkh643u/65/Z9PCGSoHwrr1hVY74+RWUg5rk4Gs7GuneWFnV7yuoiMEFlExodAY8yS/PhzastTnkCBedPfTEROzIT5qW9p+S06JpW9HD+zatshDMOgTggVtnrHSXlIzA1SwXOvvq3lmBDqLRZ7ZPiAmRyzsRMl+UrvRm4vMpMdHk12ZpTQtlYKPQ+c3NlV1NQr0nfEdpDXsV864rK/a6F4HxFsKlY2V43zrCtUrTMOBWGSkNcrKUl31h70dzyc+F1Df1v7l/uFa8d46+EfYNhetu0tCl9KLdtQf+gW79Evkwrymb57SEru18kTtEb29qTKUNFZGtOHUd+46LrHtT9GF9WfnGL5HRHi6OAiXXK4xwyQ2psQrBgBvL25DeUrcmpUOp7CWh+UVBN1t92hBhje9ENNWoGZN6qKJId6CzDHVcHzLenbR08AZXZXNU0vw3YA6xc0qBsL7JB8gI8WDAjaBcjD4So33cXibJy262MmOoWCPKbC/tC7ZEwM/Nxr7py5QkRiw2oFEJGcX7xt0uSjHL+fG9PBI98Spn5QXVKJTfbJbc+bJ0QjsgUAwCMODFoG5MnxGhbhyb7yR3rWh5w4Vf8onRYdqRne35Jtt98t/4z5zXX0/Gh3nx1vrYmzZwb2yYPfYc3bMuxeNjt6XRfeyfL4IBF5G/1Lx3az27kDYnAexCL9WHIxH4NVmqB7hf2rYuV6Oz9Xa6UvSVoiCyb9mXysfN130icJr0X5BWNHnN6Nl3lHPInE8/5Vr/S7p3/C/o3nHdb6hSrvC8PBe3kskstUyimo3Tselh3mdhIvb836vuqHDB8zbH5h/WFC63GEpgYrAYRllHHTlfYTpKhKYlETj5H4qXKTDCdDXntwfHT7xG3pfhnnht5Z69vAaHAYzGT75NRo6c8Oyf8Zgv1OboWsEF277pK7X2Rx+jutINOMtNTu2yBDTZXu7s3xQDTuXSHiWbpLDyS0hf7pWBAhzyH03TAJFNPAZjXddpqFLKRZHIpZRHF7qBgAgB/0yw4M7zggXinv10s9dVInJoqavcjBX2jhWUq0AB2kWfc8OW0sek56mISCdxz5PERWB6tJCK2Hh5f02JPXKO02CMX9nIjOsWLWOYryxx3y/EndSgsdW8hEFLMqsDcV4GwTOByTrpkw56ztkJEc6P1y9rTNCOdQlgDdy6Y5dXcmakKGHJh8Lq2fe4Nyx75DEyVro/KyRzuc3+yNN0ucZNYnL7vHQE7YNcbZAXOGdLHPnJBItQ8H7sex7qcLZ+lrf6/Hpk2J7pEElck8zCpktIljY03qaMjeCHjOgtzdV73CKRFUERRKqLrKHn6lePNkV0RF2LEdD9pWwxHiUjrmKkZo99RzAZSpKHfc++DSv8JwNh11qWilM2JGrzCnq5t9U6/R+7lu35hvALPrnpqkDY98TweEzoWtMyZ2Wfn7zBG0TTs5Luv0+G7etCeicCv6X4+XnZY6O059h8F4UzNF1TumCCwoz3sr63Rc6hC+pmRmMpIpMukzVBxqgOAiAgk4BYWDZLdC/ufYkM+cWQKkvhyQywFplTaT9tzKvrm3S1DcaCc6Jh1UuSBoMU7iw4yVD6Hnd/M8QZwMyodoFCzHfwTmyY8eYP7V6SgiYSN+YbA5EQOksERDp2aRnjdFk21v6w57EQd/h64QCRrpqXLtipBn7OSgi9mkf/fHUohJ7gf/y8A7LlQXsgAAImI0BG6j4JRir7eyYeDIRinqcHw+57/ZOulrwvq0nXKirT5g+7vzY44zkUigXPpYy2wDpgtgmG50cU7lflnbDrRgUNW1qAC3Nx79HBSVpbV993mT/sDUqZuMQ9TxV67CRM5C5EYu77tCyl+CfdW2Ua7jTsEjLgAtMaGPBCzzx+DwKWJ6B4QDI2s/G7CprSuYp1ExxR431nDiqtPf9YihFNCx4PDodm3LsHJ11rsoSRm8iobQ/MeH0y+ySDtqzQgyrvGQiORWKeg6TfzfP7pAlaM3nbfx2IBT/SZXKWYkz6al76Iw+8SdADv7YQY62/Jw8cBlwrNJQHgcVGgLzw3bp54WIWV27tmPtBrWNLE5xrJHnh2XRJ56Gf/1Oe3nHPQTU6k7H4d3md5mxJbjQlRzecu9AbYcDVPCkoYyUCmmeyVlIOsiYJ0MUgf/fWtO+/S5uHr39o+vlntepIm/3OjU/39kjZ7Lew83Qe+vk/tYqZo/xYYGT60e+pamz22H6ddMzsXtXShSp58xSiPP2rONoQ2TDGuhOtn01kPdrkQIMqViUAA27VkdMq92zPTQMRoV3XWns0sPzYcFnZxm7aec61Uzo1wQkZKLCUrqKRP9vdtPysqrzspOMvBW93kyKzpEY0bZpM9WlGYykik0hdScOAZopNAAa82CNgUP/svuhotHPJkKrXvUFCSepmYrpzvXBTsz31lprgzPZ+g24He02L3pR9ziQzON/xkciYyCl8njPpogZPtH62oeKacGoZc5QtbQIw4KU9vpdpx86Gj093ryslI07XXH5uxdLcKVPVDi+xOU8TnGsswSZx6GBZxYEfq9XtYrnZg3eNiJhNzR1mqzA2MjLVs3c4Mfo2b3OUWKYjlXKWtwmeemYz4HrIw8MFdYpIAAa8iPCL0XV3bf9b49M3LLGUt5kV1NjpienuW8kLfV0WRzLiHxEbx9DsGLvqxJyfhO9oWfneb/MIR2M/OBzxneKpK6fO2EhZ2comCvuzSAD/koW9aQ0lveEJo8tRQ14rMMLyWC7KlmDAF+GwM0+cvM0rBqZ9Q3rdfqEvVtq8NdV584ql/W/K7od54uPTndeacoKTOPRkWfnGLwnpPNtTpAjMWIAZ74uyJ0ZfzXZbnCrd7A2rq7RnnRM1lnqEu0XaFKmrCjMKmZ8ADLj5x0gXCdmtUJ1LN7YPTPXeOzI7Nq1LJzo0Gp099ORAqHMVeXHSbsiaLyax+bizamVZ/9Shp4XypUvUPzrb+yB53vtEm0xGGbrXG7tUoHjezZfJngi8Swac8/3T9Udt1Xc/oJGFiAFnxpKuoZX+Edm1r9vzL11LNAgCIKAfAZYGlBJwHEhlzTLkLK/mM8ks61vYtU4/CtlbpgQga1mq1+J9gqdJ71tl6016rSe9BO4oU0kk7nkim+zU/w3857KVvllmuK3qs+656vj7CwZk82ft0dn8cyopZinm7dNDJrQJAiBgYQJkyB/XI/0l/4tKMdwdxUbaN+neFooHz/Drob0mZTx7gtKz6rbWy3LY+2e8b8jMCpepZWTGnddLFsgO9wn1w75zczH3DtKjoCdPE4brOQx4KgGPbgZ8WvtTMZeaYHuPFPtvAv2DAAiYlAAZrK2UEjN9yYjhXnkkeWlKq9nwpAz5ROrFqwsXvQ33fKak03aanLAwgxx94t4X1YwbeaBRDgN2eRXKz67SgLekDDgz/Br1DH6gNUWvSv0/5Nffe1RNHygDAiCwyAnQC/6ewRnvb+glP8n/wilUMzjKDBcZ7QYr4CaPbjVdypK+ZSudKrWQkrl/H/f2k+48Gcak4UpN2s5rN3BJtWjSdSRbDnhpApZgQ1pv8itBBFBJgIDIJgqBblHVygToCtDVTnvL7VX2prU15Q0tNntDJx3r+cBmq7/Rme+ix8TYKG1cusZmG30nSueRo7Fj/xRNnHytfXn/sJV5MNnZJSVVjs0PEY9mYvChzV7fmPV+78TYCDFwRBOjJ6LxY89HZxX9dVljFWFK+uysdWy+11nR0OG01VcvHFcay4StIpo4/ouJ2JG/bV/ab5IkMSJaoy4IgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAIgAAICBL4f53OGDYHTMLOAAAAAElFTkSuQmCC",alt:"sean"})]}),(0,Hi.jsxs)("nav",{className:n?"mobile-show":"",children:[(0,Hi.jsx)(Ve,{onClick:function(){return r(!1)},exact:"true",activeclassname:"active",to:"/",children:(0,Hi.jsx)(Li,{icon:Je,color:"#4d4d4e"})}),(0,Hi.jsx)(Ve,{onClick:function(){return r(!1)},activeclassname:"active",className:"about-link",to:"/about",children:(0,Hi.jsx)(Li,{icon:Ke,color:"#4d4d4e"})}),(0,Hi.jsx)(Ve,{onClick:function(){return r(!1)},activeclassname:"active",className:"contact-link",to:"/contact",children:(0,Hi.jsx)(Li,{icon:Ze,color:"#4d4d4e"})}),(0,Hi.jsx)(Ve,{onClick:function(){return r(!1)},activeclassname:"active",className:"portfolio-link",to:"/portfolio",children:(0,Hi.jsx)(Li,{icon:Qe,color:"#4d4d4e"})}),(0,Hi.jsx)(Ve,{onClick:function(){return r(!1)},activeclassname:"active",className:"skills-link",to:"/skills",children:(0,Hi.jsx)(Li,{icon:nt,color:"#4d4d4e"})}),(0,Hi.jsx)(Li,{onClick:function(){return r(!1)},icon:tt,color:"#4d4d4e",size:"3x",className:"close-nav"})]}),(0,Hi.jsxs)("ul",{children:[(0,Hi.jsx)("li",{children:(0,Hi.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.linkedin.com/in/seansainz/",children:(0,Hi.jsx)(Li,{icon:ji,color:"#4d4d4e"})})}),(0,Hi.jsx)("li",{children:(0,Hi.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://gitlab.com/Seanii86",children:(0,Hi.jsx)(Li,{icon:Ui,color:"#4d4d4e"})})}),(0,Hi.jsx)("li",{children:(0,Hi.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.instagram.com/seeanii/",children:(0,Hi.jsx)(Li,{icon:Fi,color:"#4d4d4e"})})})]}),(0,Hi.jsx)(Li,{onClick:function(){return r(!0)},icon:Ge,color:"#ffd700",size:"3x",className:"nav-icon"})]})},Wi=function(){return(0,Hi.jsxs)("div",{className:"App",children:[(0,Hi.jsx)(qi,{}),(0,Hi.jsxs)("div",{className:"page",children:[(0,Hi.jsx)("span",{className:"tags top-tags",children:"<body>"}),(0,Hi.jsx)(Pe,{}),(0,Hi.jsxs)("span",{className:"tags bottom-tags",children:[(0,Hi.jsx)("div",{className:"stars"}),(0,Hi.jsx)("div",{className:"stars2"}),(0,Hi.jsx)("div",{className:"stars3"}),"</body>",(0,Hi.jsx)("br",{}),(0,Hi.jsx)("span",{className:"bottom-tag-html",children:"</html>"})]})]}),(0,Hi.jsx)("div",{className:"footer",children:(0,Hi.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/Seanii86/seansportfolio",children:(0,Hi.jsx)(Li,{icon:Vi,color:"#4d4d4e"})})})]})},Gi=function(e){var t=e.letterClass,n=e.strArray,r=e.idx;return(0,Hi.jsx)("span",{children:n.map((function(e,n){return(0,Hi.jsx)("span",{className:"".concat(t," _").concat(n+r),children:e},e+n)}))})};function Ki(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Xi,Zi,Yi,Ji,$i,ea,ta,na,ra,ia,aa,oa={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},sa={duration:.5,overwrite:!1,delay:0},ua=1e8,la=1e-8,ca=2*Math.PI,ha=ca/4,da=0,fa=Math.sqrt,pa=Math.cos,ma=Math.sin,va=function(e){return"string"===typeof e},ga=function(e){return"function"===typeof e},ya=function(e){return"number"===typeof e},_a=function(e){return"undefined"===typeof e},ba=function(e){return"object"===typeof e},ka=function(e){return!1!==e},Ta=function(){return"undefined"!==typeof window},wa=function(e){return ga(e)||va(e)},xa="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Sa=Array.isArray,Ea=/(?:-?\.?\d|\.)+/gi,Ca=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ia=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Aa=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Pa=/[+-]=-?[.\d]+/,Oa=/[^,'"\[\]\s]+/gi,La=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Da={},Na={},Ma=function(e){return(Na=co(e,Da))&&cu},Ra=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Ua=function(e,t){return!t&&console.warn(e)},ja=function(e,t){return e&&(Da[e]=t)&&Na&&(Na[e]=t)||Da},Fa=function(){return 0},Ba={suppressEvents:!0,isStart:!0,kill:!1},za={suppressEvents:!0,kill:!1},Va={suppressEvents:!0},Ha={},qa=[],Wa={},Ga={},Ka={},Qa=30,Xa=[],Za="",Ya=function(e){var t,n,r=e[0];if(ba(r)||ga(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=Xa.length;n--&&!Xa[n].targetTest(r););t=Xa[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Ss(e[n],t)))||e.splice(n,1);return e},Ja=function(e){return e._gsap||Ya(Ho(e))[0]._gsap},$a=function(e,t,n){return(n=e[t])&&ga(n)?e[t]():_a(n)&&e.getAttribute&&e.getAttribute(t)||n},eo=function(e,t){return(e=e.split(",")).forEach(t)||e},to=function(e){return Math.round(1e5*e)/1e5||0},no=function(e){return Math.round(1e7*e)/1e7||0},ro=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},io=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},ao=function(){var e,t,n=qa.length,r=qa.slice(0);for(Wa={},qa.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},oo=function(e,t,n,r){qa.length&&ao(),e.render(t,n,r||Zi&&t<0&&(e._initted||e._startAt)),qa.length&&ao()},so=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Oa).length<2?t:va(e)?e.trim():e},uo=function(e){return e},lo=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},co=function(e,t){for(var n in t)e[n]=t[n];return e},ho=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=ba(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},fo=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},po=function(e){var t,n=e.parent||Ji,r=e.keyframes?(t=Sa(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):lo;if(ka(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},mo=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},vo=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},go=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},yo=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},_o=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},bo=function(e,t,n,r){return e._startAt&&(Zi?e._startAt.revert(za):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},ko=function e(t){return!t||t._ts&&e(t.parent)},To=function(e){return e._repeat?wo(e._tTime,e=e.duration()+e._rDelay)*e:0},wo=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},xo=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},So=function(e){return e._end=no(e._start+(e._tDur/Math.abs(e._ts||e._rts||la)||0))},Eo=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=no(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),So(e),n._dirty||yo(n,e)),e},Co=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=xo(e.rawTime(),t),(!t._dur||Fo(0,t.totalDuration(),n)-t._tTime>la)&&t.render(n,!0)),yo(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Io=function(e,t,n,r){return t.parent&&go(t),t._start=no((ya(n)?n:n||e!==Ji?Ro(e,n,t):e._time)+t._delay),t._end=no(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),mo(e,t,"_first","_last",e._sort?"_start":0),Lo(t)||(e._recent=t),r||Co(e,t),e._ts<0&&Eo(e,e._tTime),e},Ao=function(e,t){return(Da.ScrollTrigger||Ra("scrollTrigger",t))&&Da.ScrollTrigger.create(t,e)},Po=function(e,t,n,r,i){return Ds(e,t,i),e._initted?!n&&e._pt&&!Zi&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&ra!==ds.frame?(qa.push(e),e._lazy=[i,r],1):void 0:1},Oo=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Lo=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Do=function(e,t,n,r){var i=e._repeat,a=no(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:no(a*(i+1)+e._rDelay*i):a,o>0&&!r&&Eo(e,e._tTime=e._tDur*o),e.parent&&So(e),n||yo(e.parent,e),e},No=function(e){return e instanceof Cs?yo(e):Do(e,e._dur)},Mo={_start:0,endTime:Fa,totalDuration:Fa},Ro=function e(t,n,r){var i,a,o,s=t.labels,u=t._recent||Mo,l=t.duration()>=ua?u.endTime(!1):t._dur;return va(n)&&(isNaN(n)||n in s)?(a=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===a||">"===a?(i>=0&&(n=n.replace(/=/,"")),("<"===a?u._start:u.endTime(u._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?u:r).totalDuration()/100:1)):i<0?(n in s||(s[n]=l),s[n]):(a=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(a=a/100*(Sa(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+a:l+a)):null==n?l:+n},Uo=function(e,t,n){var r,i,a=ya(t[1]),o=(a?2:1)+(e<2?0:1),s=t[o];if(a&&(s.duration=t[1]),s.parent=n,e){for(r=s,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=ka(i.vars.inherit)&&i.parent;s.immediateRender=ka(r.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return new js(t[0],s,t[o+1])},jo=function(e,t){return e||0===e?t(e):t},Fo=function(e,t,n){return n<e?e:n>t?t:n},Bo=function(e,t){return va(e)&&(t=La.exec(e))?t[1]:""},zo=[].slice,Vo=function(e,t){return e&&ba(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ba(e[0]))&&!e.nodeType&&e!==$i},Ho=function(e,t,n){return Yi&&!t&&Yi.selector?Yi.selector(e):!va(e)||n||!ea&&fs()?Sa(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return va(e)&&!t||Vo(e,1)?(r=n).push.apply(r,Ho(e)):n.push(e)}))||n}(e,n):Vo(e)?zo.call(e,0):e?[e]:[]:zo.call((t||ta).querySelectorAll(e),0)},qo=function(e){return e=Ho(e)[0]||Ua("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Ho(t,n.querySelectorAll?n:n===e?Ua("Invalid scope")||ta.createElement("div"):e)}},Wo=function(e){return e.sort((function(){return.5-Math.random()}))},Go=function(e){if(ga(e))return e;var t=ba(e)?e:{each:e},n=bs(t.ease),r=t.from||0,i=parseFloat(t.base)||0,a={},o=r>0&&r<1,s=isNaN(r)||o,u=t.axis,l=r,c=r;return va(r)?l=c={center:.5,edges:.5,end:1}[r]||0:!o&&s&&(l=r[0],c=r[1]),function(e,o,h){var d,f,p,m,v,g,y,_,b,k=(h||t).length,T=a[k];if(!T){if(!(b="auto"===t.grid?0:(t.grid||[1,ua])[1])){for(y=-ua;y<(y=h[b++].getBoundingClientRect().left)&&b<k;);b--}for(T=a[k]=[],d=s?Math.min(b,k)*l-.5:r%b,f=b===ua?0:s?k*c/b-.5:r/b|0,y=0,_=ua,g=0;g<k;g++)p=g%b-d,m=f-(g/b|0),T[g]=v=u?Math.abs("y"===u?m:p):fa(p*p+m*m),v>y&&(y=v),v<_&&(_=v);"random"===r&&Wo(T),T.max=y-_,T.min=_,T.v=k=(parseFloat(t.amount)||parseFloat(t.each)*(b>k?k-1:u?"y"===u?k/b:b:Math.max(b,k/b))||0)*("edges"===r?-1:1),T.b=k<0?i-k:i,T.u=Bo(t.amount||t.each)||0,n=n&&k<0?ys(n):n}return k=(T[e]-T.min)/T.max||0,no(T.b+(n?n(k):k)*T.v)+T.u}},Ko=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=no(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(ya(n)?0:Bo(n))}},Qo=function(e,t){var n,r,i=Sa(e);return!i&&ba(e)&&(n=i=e.radius||ua,e.values?(e=Ho(e.values),(r=!ya(e[0]))&&(n*=n)):e=Ko(e.increment)),jo(t,i?ga(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,a,o=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),u=ua,l=0,c=e.length;c--;)(i=r?(i=e[c].x-o)*i+(a=e[c].y-s)*a:Math.abs(e[c]-o))<u&&(u=i,l=c);return l=!n||u<=n?e[l]:t,r||l===t||ya(t)?l:l+Bo(t)}:Ko(e))},Xo=function(e,t,n,r){return jo(Sa(e)?!t:!0===n?!!(n=0):!r,(function(){return Sa(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},Zo=function(e,t,n){return jo(n,(function(n){return e[~~t(n)]}))},Yo=function(e){for(var t,n,r,i,a=0,o="";~(t=e.indexOf("random(",a));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?Oa:Ea),o+=e.substr(a,t-a)+Xo(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),a=r+1;return o+e.substr(a,e.length-a)},Jo=function(e,t,n,r,i){var a=t-e,o=r-n;return jo(i,(function(t){return n+((t-e)/a*o||0)}))},$o=function(e,t,n){var r,i,a,o=e.labels,s=ua;for(r in o)(i=o[r]-t)<0===!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a},es=function(e,t,n){var r,i,a,o=e.vars,s=o[t],u=Yi,l=e._ctx;if(s)return r=o[t+"Params"],i=o.callbackScope||e,n&&qa.length&&ao(),l&&(Yi=l),a=r?s.apply(i,r):s.call(i),Yi=u,a},ts=function(e){return go(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Zi),e.progress()<1&&es(e,"onInterrupt"),e},ns=function(e){var t=(e=!e.name&&e.default||e).name,n=ga(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:Fa,render:Ks,add:Os,kill:Xs,modifier:Qs,rawVars:0},a={targetTest:0,get:0,getSetter:Hs,aliases:{},register:0};if(fs(),e!==r){if(Ga[t])return;lo(r,lo(fo(e,i),a)),co(r.prototype,co(i,fo(e,a))),Ga[r.prop=t]=r,e.targetTest&&(Xa.push(r),Ha[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}ja(t,r),e.register&&e.register(cu,r,Js)},rs=255,is={aqua:[0,rs,rs],lime:[0,rs,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,rs],navy:[0,0,128],white:[rs,rs,rs],olive:[128,128,0],yellow:[rs,rs,0],orange:[rs,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[rs,0,0],pink:[rs,192,203],cyan:[0,rs,rs],transparent:[rs,rs,rs,0]},as=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*rs+.5|0},os=function(e,t,n){var r,i,a,o,s,u,l,c,h,d,f=e?ya(e)?[e>>16,e>>8&rs,e&rs]:0:is.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),is[e])f=is[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+r+r+i+i+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&rs,f&rs,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&rs,e&rs]}else if("hsl"===e.substr(0,3))if(f=d=e.match(Ea),t){if(~e.indexOf("="))return f=e.match(Ca),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,s=+f[1]/100,r=2*(u=+f[2]/100)-(i=u<=.5?u*(s+1):u+s-u*s),f.length>3&&(f[3]*=1),f[0]=as(o+1/3,r,i),f[1]=as(o,r,i),f[2]=as(o-1/3,r,i);else f=e.match(Ea)||is.transparent;f=f.map(Number)}return t&&!d&&(r=f[0]/rs,i=f[1]/rs,a=f[2]/rs,u=((l=Math.max(r,i,a))+(c=Math.min(r,i,a)))/2,l===c?o=s=0:(h=l-c,s=u>.5?h/(2-l-c):h/(l+c),o=l===r?(i-a)/h+(i<a?6:0):l===i?(a-r)/h+2:(r-i)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*s+.5),f[2]=~~(100*u+.5)),n&&f.length<4&&(f[3]=1),f},ss=function(e){var t=[],n=[],r=-1;return e.split(ls).forEach((function(e){var i=e.match(Ia)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},us=function(e,t,n){var r,i,a,o,s="",u=(e+s).match(ls),l=t?"hsla(":"rgba(",c=0;if(!u)return e;if(u=u.map((function(e){return(e=os(e,t,1))&&l+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=ss(e),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(ls,"1").split(Ia)).length-1;c<o;c++)s+=i[c]+(~r.indexOf(c)?u.shift()||l+"0,0,0,0)":(a.length?a:u.length?u:n).shift());if(!i)for(o=(i=e.split(ls)).length-1;c<o;c++)s+=i[c]+u[c];return s+i[o]},ls=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in is)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),cs=/hsl[a]?\(/,hs=function(e){var t,n=e.join(" ");if(ls.lastIndex=0,ls.test(n))return t=cs.test(n),e[1]=us(e[1],t),e[0]=us(e[0],t,ss(e[1])),!0},ds=function(){var e,t,n,r,i,a,o=Date.now,s=500,u=33,l=o(),c=l,h=1e3/240,d=h,f=[],p=function n(p){var m,v,g,y,_=o()-c,b=!0===p;if(_>s&&(l+=_-u),((m=(g=(c+=_)-l)-d)>0||b)&&(y=++r.frame,i=g-1e3*r.time,r.time=g/=1e3,d+=m+(m>=h?4:h-m),v=1),b||(e=t(n)),v)for(a=0;a<f.length;a++)f[a](g,i,y,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){na&&(!ea&&Ta()&&($i=ea=window,ta=$i.document||{},Da.gsap=cu,($i.gsapVersions||($i.gsapVersions=[])).push(cu.version),Ma(Na||$i.GreenSockGlobals||!$i.gsap&&$i||{}),n=$i.requestAnimationFrame),e&&r.sleep(),t=n||function(e){return setTimeout(e,d-1e3*r.time+1|0)},aa=1,p(2))},sleep:function(){(n?$i.cancelAnimationFrame:clearTimeout)(e),aa=0,t=Fa},lagSmoothing:function(e,t){s=e||1e8,u=Math.min(t,s,0)},fps:function(e){h=1e3/(e||240),d=1e3*r.time+h},add:function(e,t,n){var i=t?function(t,n,a,o){e(t,n,a,o),r.remove(i)}:e;return r.remove(e),f[n?"unshift":"push"](i),fs(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&a>=t&&a--},_listeners:f},r}(),fs=function(){return!aa&&ds.wake()},ps={},ms=/^[\d.\-M][\d.\-,\s]/,vs=/["']/g,gs=function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,u=a.length;s<u;s++)n=a[s],t=s!==u-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(vs,"").trim():+r,o=n.substr(t+1).trim();return i},ys=function(e){return function(t){return 1-e(1-t)}},_s=function e(t,n){for(var r,i=t._first;i;)i instanceof Cs?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},bs=function(e,t){return e&&(ga(e)?e:ps[e]||function(e){var t=(e+"").split("("),n=ps[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[gs(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(so)):ps._CE&&ms.test(e)?ps._CE("",e):n}(e))||t},ks=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return eo(e,(function(e){for(var t in ps[e]=Da[e]=a,ps[i=e.toLowerCase()]=n,a)ps[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=ps[e+"."+t]=a[t]})),a},Ts=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},ws=function e(t,n,r){var i=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),o=a/ca*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*ma((e-o)*a)+1},u="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:Ts(s);return a=ca/a,u.config=function(n,r){return e(t,n,r)},u},xs=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Ts(r);return i.config=function(n){return e(t,n)},i};eo("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;ks(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),ps.Linear.easeNone=ps.none=ps.Linear.easeIn,ks("Elastic",ws("in"),ws("out"),ws()),function(e,t){var n=1/t,r=function(r){return r<n?e*r*r:r<.7272727272727273?e*Math.pow(r-1.5/t,2)+.75:r<.9090909090909092?e*(r-=2.25/t)*r+.9375:e*Math.pow(r-2.625/t,2)+.984375};ks("Bounce",(function(e){return 1-r(1-e)}),r)}(7.5625,2.75),ks("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),ks("Circ",(function(e){return-(fa(1-e*e)-1)})),ks("Sine",(function(e){return 1===e?1:1-pa(e*ha)})),ks("Back",xs("in"),xs("out"),xs()),ps.SteppedEase=ps.steps=Da.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*Fo(0,.99999999,e)|0)+i)*n}}},sa.ease=ps["quad.out"],eo("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return Za+=e+","+e+"Params,"}));var Ss=function(e,t){this.id=da++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:$a,this.set=t?t.getSetter:Hs},Es=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Do(this,+e.duration,1,1),this.data=e.data,Yi&&(this._ctx=Yi,Yi.data.push(this)),aa||ds.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Do(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(fs(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Eo(this,e),!n._dp||n.parent||Co(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Io(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===la||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),oo(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+To(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+To(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?wo(this._tTime,n)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?xo(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(Fo(-this._delay,this._tDur,t),!0),So(this),_o(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(fs(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==la&&(this._tTime-=la)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Io(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(ka(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?xo(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=Va);var t=Zi;return Zi=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),Zi=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(t._ts||1),t=t._dp;return!this.parent&&this.vars.immediateRender?-1:n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,No(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,No(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Ro(this,e),ka(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,ka(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-la))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=ga(e)?e:uo,i=function(){var e=t.then;t.then=null,ga(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){ts(this)},e}();lo(Es.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Cs=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=ka(t.sortChildren),Ji&&Io(t.parent||Ji,Ki(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&Ao(Ki(r),t.scrollTrigger),r}Qi(t,e);var n=t.prototype;return n.to=function(e,t,n){return Uo(0,arguments,this),this},n.from=function(e,t,n){return Uo(1,arguments,this),this},n.fromTo=function(e,t,n,r){return Uo(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,po(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new js(e,t,Ro(this,n),1),this},n.call=function(e,t,n){return Io(this,js.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,a,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new js(e,n,Ro(this,i)),this},n.staggerFrom=function(e,t,n,r,i,a,o){return n.runBackwards=1,po(n).immediateRender=ka(n.immediateRender),this.staggerTo(e,t,n,r,i,a,o)},n.staggerFromTo=function(e,t,n,r,i,a,o,s){return r.startAt=n,po(r).immediateRender=ka(r.immediateRender),this.staggerTo(e,t,r,i,a,o,s)},n.render=function(e,t,n){var r,i,a,o,s,u,l,c,h,d,f,p,m=this._time,v=this._dirty?this.totalDuration():this._tDur,g=this._dur,y=e<=0?0:no(e),_=this._zTime<0!==e<0&&(this._initted||!g);if(this!==Ji&&y>v&&e>=0&&(y=v),y!==this._tTime||n||_){if(m!==this._time&&g&&(y+=this._time-m,e+=this._time-m),r=y,h=this._start,u=!(c=this._ts),_&&(g||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,s=g+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*s+e,t,n);if(r=no(y%s),y===v?(o=this._repeat,r=g):((o=~~(y/s))&&o===y/s&&(r=g,o--),r>g&&(r=g)),d=wo(this._tTime,s),!m&&this._tTime&&d!==o&&(d=o),f&&1&o&&(r=g-r,p=1),o!==d&&!this._lock){var b=f&&1&d,k=b===(f&&1&o);if(o<d&&(b=!b),m=b?0:g,this._lock=1,this.render(m||(p?0:no(o*s)),t,!g)._lock=0,this._tTime=y,!t&&this.parent&&es(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),m&&m!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(g=this._dur,v=this._tDur,k&&(this._lock=2,m=b?g:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;_s(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,no(m),no(r)),l&&(y-=r-(r=l._start))),this._tTime=y,this._time=r,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&r&&!t&&(es(this,"onStart"),this._tTime!==y))return this;if(r>=m&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!u){l=0,a&&(y+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var T=e<0?e:r;i;){if(a=i._prev,(i._act||T<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(T-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(T-i._start)*i._ts,t,n||Zi&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!u){l=0,a&&(y+=this._zTime=T?-1e-8:la);break}}i=a}}if(l&&!t&&(this.pause(),l.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=h,So(this),this.render(e,t,n);this._onUpdate&&!t&&es(this,"onUpdate",!0),(y===v&&this._tTime>=this.totalDuration()||!y&&m)&&(h!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((e||!g)&&(y===v&&this._ts>0||!y&&this._ts<0)&&go(this,1),t||e<0&&!m||!y&&!m&&v||(es(this,y===v&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<v&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(ya(t)||(t=Ro(this,t,e)),!(e instanceof Es)){if(Sa(e))return e.forEach((function(e){return n.add(e,t)})),this;if(va(e))return this.addLabel(e,t);if(!ga(e))return this;e=js.delayedCall(0,e)}return this!==e?Io(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-ua);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof js?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return va(e)?this.removeLabel(e):ga(e)?this.killTweensOf(e):(vo(this,e),e===this._recent&&(this._recent=this._last),yo(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=no(ds.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=Ro(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=js.delayedCall(0,t||Fa,n);return r.data="isPause",this._hasPause=1,Io(this,r,Ro(this,e))},n.removePause=function(e){var t=this._first;for(e=Ro(this,e);t;)t._start===e&&"isPause"===t.data&&go(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Is!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=Ho(e),a=this._first,o=ya(t);a;)a instanceof js?io(a._targets,i)&&(o?(!Is||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=Ro(r,e),a=t,o=a.startAt,s=a.onStart,u=a.onStartParams,l=a.immediateRender,c=js.to(r,lo({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||la,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());c._dur!==e&&Do(c,e,0,1).render(c._time,!0,!0),n=1}s&&s.apply(c,u||[])}},t));return l?c.render(0):c},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,lo({startAt:{time:Ro(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),$o(this,Ro(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),$o(this,Ro(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+la)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return yo(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),yo(this)},n.totalDuration=function(e){var t,n,r,i=0,a=this,o=a._last,s=ua;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(r=a.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>s&&a._sort&&o._ts&&!a._lock?(a._lock=1,Io(a,o,n-o._delay,1)._lock=0):s=n,n<0&&o._ts&&(i-=n,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),s=0),o._end>i&&o._ts&&(i=o._end),o=t;Do(a,a===Ji&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(e){if(Ji._ts&&(oo(Ji,xo(e,Ji)),ra=ds.frame),ds.frame>=Qa){Qa+=oa.autoSleep||120;var t=Ji._first;if((!t||!t._ts)&&oa.autoSleep&&ds._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||ds.sleep()}}},t}(Es);lo(Cs.prototype,{_lock:0,_hasPause:0,_forcing:0});var Is,As,Ps=function(e,t,n,r,i,a,o){var s,u,l,c,h,d,f,p,m=new Js(this._pt,e,t,0,1,Gs,null,i),v=0,g=0;for(m.b=n,m.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=Yo(r)),a&&(a(p=[n,r],e,t),n=p[0],r=p[1]),u=n.match(Aa)||[];s=Aa.exec(r);)c=s[0],h=r.substring(v,s.index),l?l=(l+1)%5:"rgba("===h.substr(-5)&&(l=1),c!==u[g++]&&(d=parseFloat(u[g-1])||0,m._pt={_next:m._pt,p:h||1===g?h:",",s:d,c:"="===c.charAt(1)?ro(d,c)-d:parseFloat(c)-d,m:l&&l<4?Math.round:0},v=Aa.lastIndex);return m.c=v<r.length?r.substring(v,r.length):"",m.fp=o,(Pa.test(r)||f)&&(m.e=0),this._pt=m,m},Os=function(e,t,n,r,i,a,o,s,u,l){ga(r)&&(r=r(i||0,e,a));var c,h=e[t],d="get"!==n?n:ga(h)?u?e[t.indexOf("set")||!ga(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():h,f=ga(h)?u?zs:Bs:Fs;if(va(r)&&(~r.indexOf("random(")&&(r=Yo(r)),"="===r.charAt(1)&&((c=ro(d,r)+(Bo(d)||0))||0===c)&&(r=c)),!l||d!==r||As)return isNaN(d*r)||""===r?(!h&&!(t in e)&&Ra(t,r),Ps.call(this,e,t,d,r,f,s||oa.stringFilter,u)):(c=new Js(this._pt,e,t,+d||0,r-(d||0),"boolean"===typeof h?Ws:qs,0,f),u&&(c.fp=u),o&&c.modifier(o,this,e),this._pt=c)},Ls=function(e,t,n,r,i,a){var o,s,u,l;if(Ga[e]&&!1!==(o=new Ga[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(ga(e)&&(e=Ms(e,i,t,n,r)),!ba(e)||e.style&&e.nodeType||Sa(e)||xa(e))return va(e)?Ms(e,i,t,n,r):e;var a,o={};for(a in e)o[a]=Ms(e[a],i,t,n,r);return o}(t[e],r,i,a,n),n,r,a)&&(n._pt=s=new Js(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==ia))for(u=n._ptLookup[n._targets.indexOf(i)],l=o._props.length;l--;)u[o._props[l]]=s;return o},Ds=function e(t,n,r){var i,a,o,s,u,l,c,h,d,f,p,m,v,g=t.vars,y=g.ease,_=g.startAt,b=g.immediateRender,k=g.lazy,T=g.onUpdate,w=g.onUpdateParams,x=g.callbackScope,S=g.runBackwards,E=g.yoyoEase,C=g.keyframes,I=g.autoRevert,A=t._dur,P=t._startAt,O=t._targets,L=t.parent,D=L&&"nested"===L.data?L.vars.targets:O,N="auto"===t._overwrite&&!Xi,M=t.timeline;if(M&&(!C||!y)&&(y="none"),t._ease=bs(y,sa.ease),t._yEase=E?ys(bs(!0===E?y:E,sa.ease)):0,E&&t._yoyo&&!t._repeat&&(E=t._yEase,t._yEase=t._ease,t._ease=E),t._from=!M&&!!g.runBackwards,!M||C&&!g.stagger){if(m=(h=O[0]?Ja(O[0]).harness:0)&&g[h.prop],i=fo(g,Ha),P&&(P._zTime<0&&P.progress(1),n<0&&S&&b&&!I?P.render(-1,!0):P.revert(S&&A?za:Ba),P._lazy=0),_){if(go(t._startAt=js.set(O,lo({data:"isStart",overwrite:!1,parent:L,immediateRender:!0,lazy:ka(k),startAt:null,delay:0,onUpdate:T,onUpdateParams:w,callbackScope:x,stagger:0},_))),t._startAt._dp=0,n<0&&(Zi||!b&&!I)&&t._startAt.revert(za),b&&A&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(S&&A&&!P)if(n&&(b=!1),o=lo({overwrite:!1,data:"isFromStart",lazy:b&&ka(k),immediateRender:b,stagger:0,parent:L},i),m&&(o[h.prop]=m),go(t._startAt=js.set(O,o)),t._startAt._dp=0,n<0&&(Zi?t._startAt.revert(za):t._startAt.render(-1,!0)),t._zTime=n,b){if(!n)return}else e(t._startAt,la,la);for(t._pt=t._ptCache=0,k=A&&ka(k)||k&&!A,a=0;a<O.length;a++){if(c=(u=O[a])._gsap||Ya(O)[a]._gsap,t._ptLookup[a]=f={},Wa[c.id]&&qa.length&&ao(),p=D===O?a:D.indexOf(u),h&&!1!==(d=new h).init(u,m||i,t,p,D)&&(t._pt=s=new Js(t._pt,u,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){f[e]=s})),d.priority&&(l=1)),!h||m)for(o in i)Ga[o]&&(d=Ls(o,i,t,p,u,D))?d.priority&&(l=1):f[o]=s=Os.call(t,u,o,"get",i[o],p,D,0,g.stringFilter);t._op&&t._op[a]&&t.kill(u,t._op[a]),N&&t._pt&&(Is=t,Ji.killTweensOf(u,f,t.globalTime(n)),v=!t.parent,Is=0),t._pt&&k&&(Wa[c.id]=1)}l&&Ys(t),t._onInit&&t._onInit(t)}t._onUpdate=T,t._initted=(!t._op||t._pt)&&!v,C&&n<=0&&M.render(ua,!0,!0)},Ns=function(e,t,n,r){var i,a,o=t.ease||r||"power1.inOut";if(Sa(t))a=n[e]||(n[e]=[]),t.forEach((function(e,n){return a.push({t:n/(t.length-1)*100,v:e,e:o})}));else for(i in t)a=n[i]||(n[i]=[]),"ease"===i||a.push({t:parseFloat(e),v:t[i],e:o})},Ms=function(e,t,n,r,i){return ga(e)?e.call(t,n,r,i):va(e)&&~e.indexOf("random(")?Yo(e):e},Rs=Za+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Us={};eo(Rs+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return Us[e]=1}));var js=function(e){function t(t,n,r,i){var a;"number"===typeof n&&(r.duration=n,n=r,r=null);var o,s,u,l,c,h,d,f,p=(a=e.call(this,i?n:po(n))||this).vars,m=p.duration,v=p.delay,g=p.immediateRender,y=p.stagger,_=p.overwrite,b=p.keyframes,k=p.defaults,T=p.scrollTrigger,w=p.yoyoEase,x=n.parent||Ji,S=(Sa(t)||xa(t)?ya(t[0]):"length"in n)?[t]:Ho(t);if(a._targets=S.length?Ya(S):Ua("GSAP target "+t+" not found. https://greensock.com",!oa.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=_,b||y||wa(m)||wa(v)){if(n=a.vars,(o=a.timeline=new Cs({data:"nested",defaults:k||{},targets:x&&"nested"===x.data?x.vars.targets:S})).kill(),o.parent=o._dp=Ki(a),o._start=0,y||wa(m)||wa(v)){if(l=S.length,d=y&&Go(y),ba(y))for(c in y)~Rs.indexOf(c)&&(f||(f={}),f[c]=y[c]);for(s=0;s<l;s++)(u=fo(n,Us)).stagger=0,w&&(u.yoyoEase=w),f&&co(u,f),h=S[s],u.duration=+Ms(m,Ki(a),s,h,S),u.delay=(+Ms(v,Ki(a),s,h,S)||0)-a._delay,!y&&1===l&&u.delay&&(a._delay=v=u.delay,a._start+=v,u.delay=0),o.to(h,u,d?d(s,h,S):0),o._ease=ps.none;o.duration()?m=v=0:a.timeline=0}else if(b){po(lo(o.vars.defaults,{ease:"none"})),o._ease=bs(b.ease||n.ease||"none");var E,C,I,A=0;if(Sa(b))b.forEach((function(e){return o.to(S,e,">")})),o.duration();else{for(c in u={},b)"ease"===c||"easeEach"===c||Ns(c,b[c],u,b.easeEach);for(c in u)for(E=u[c].sort((function(e,t){return e.t-t.t})),A=0,s=0;s<E.length;s++)(I={ease:(C=E[s]).e,duration:(C.t-(s?E[s-1].t:0))/100*m})[c]=C.v,o.to(S,I,A),A+=I.duration;o.duration()<m&&o.to({},{duration:m-o.duration()})}}m||a.duration(m=o.duration())}else a.timeline=0;return!0!==_||Xi||(Is=Ki(a),Ji.killTweensOf(S),Is=0),Io(x,Ki(a),r),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(g||!m&&!b&&a._start===no(x._time)&&ka(g)&&ko(Ki(a))&&"nested"!==x.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-v)||0)),T&&Ao(Ki(a),T),a}Qi(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,a,o,s,u,l,c,h,d=this._time,f=this._tDur,p=this._dur,m=e<0,v=e>f-la&&!m?f:e<la?0:e;if(p){if(v!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=v,c=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*o+e,t,n);if(r=no(v%o),v===f?(a=this._repeat,r=p):((a=~~(v/o))&&a===v/o&&(r=p,a--),r>p&&(r=p)),(u=this._yoyo&&1&a)&&(h=this._yEase,r=p-r),s=wo(this._tTime,o),r===d&&!n&&this._initted)return this._tTime=v,this;a!==s&&(c&&this._yEase&&_s(c,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=n=1,this.render(no(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(Po(this,m?e:r,n,t,v))return this._tTime=0,this;if(d!==this._time)return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(h||this._ease)(r/p),this._from&&(this.ratio=l=1-l),r&&!d&&!t&&(es(this,"onStart"),this._tTime!==v))return this;for(i=this._pt;i;)i.r(l,i.d),i=i._next;c&&c.render(e<0?e:!r&&u?-1e-8:c._dur*c._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&bo(this,e,0,n),es(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&es(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(m&&!this._onUpdate&&bo(this,e,0,!0),(e||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&go(this,1),t||m&&!d||!(v||d||u)||(es(this,v===f?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,a,o,s=e.ratio,u=t<0||!t&&(!e._start&&Oo(e)&&(e._initted||!Lo(e))||(e._ts<0||e._dp._ts<0)&&!Lo(e))?0:1,l=e._rDelay,c=0;if(l&&e._repeat&&(c=Fo(0,e._tDur,t),a=wo(c,l),e._yoyo&&1&a&&(u=1-u),a!==wo(e._tTime,l)&&(s=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==s||Zi||r||e._zTime===la||!t&&e._zTime){if(!e._initted&&Po(e,t,r,n,c))return;for(o=e._zTime,e._zTime=t||(n?la:0),n||(n=t&&!o),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=c,i=e._pt;i;)i.r(u,i.d),i=i._next;t<0&&bo(e,t,0,!0),e._onUpdate&&!n&&es(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&es(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&go(e,1),n||Zi||(es(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r){aa||ds.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Ds(this,i),function(e,t,n,r,i,a,o){var s,u,l,c,h=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!h)for(h=e._ptCache[t]=[],l=e._ptLookup,c=e._targets.length;c--;){if((s=l[c][t])&&s.d&&s.d._pt)for(s=s.d._pt;s&&s.p!==t&&s.fp!==t;)s=s._next;if(!s)return As=1,e.vars[t]="+=0",Ds(e,o),As=0,1;h.push(s)}for(c=h.length;c--;)(s=(u=h[c])._pt||u).s=!r&&0!==r||i?s.s+(r||0)+a*s.c:r,s.c=n-s.s,u.e&&(u.e=to(n)+Bo(u.e)),u.b&&(u.b=s.s+Bo(u.b))}(this,e,t,n,r,this._ease(i/this._dur),i)?this.resetTo(e,t,n,r):(Eo(this,0),this.parent||mo(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?ts(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Is&&!0!==Is.vars.overwrite)._first||ts(this),this.parent&&n!==this.timeline.totalDuration()&&Do(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,a,o,s,u,l,c=this._targets,h=e?Ho(e):c,d=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(c,h))return"all"===t&&(this._pt=0),ts(this);for(r=this._op=this._op||[],"all"!==t&&(va(t)&&(s={},eo(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var n,r,i,a,o=e[0]?Ja(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(r in n=co({},t),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(c,t)),l=c.length;l--;)if(~h.indexOf(c[l]))for(s in i=d[l],"all"===t?(r[l]=t,o=i,a={}):(a=r[l]=r[l]||{},o=t),o)(u=i&&i[s])&&("kill"in u.d&&!0!==u.d.kill(s)||vo(this,u,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&f&&ts(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return Uo(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return Uo(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return Ji.killTweensOf(e,t,n)},t}(Es);lo(js.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),eo("staggerTo,staggerFrom,staggerFromTo",(function(e){js[e]=function(){var t=new Cs,n=zo.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var Fs=function(e,t,n){return e[t]=n},Bs=function(e,t,n){return e[t](n)},zs=function(e,t,n,r){return e[t](r.fp,n)},Vs=function(e,t,n){return e.setAttribute(t,n)},Hs=function(e,t){return ga(e[t])?Bs:_a(e[t])&&e.setAttribute?Vs:Fs},qs=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},Ws=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Gs=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Ks=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Qs=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},Xs=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?vo(this,r,"_pt"):r.dep||(t=1),r=n;return!t},Zs=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},Ys=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},Js=function(){function e(e,t,n,r,i,a,o,s,u){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||qs,this.d=o||this,this.set=s||Fs,this.pr=u||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=Zs,this.m=e,this.mt=n,this.tween=t},e}();eo(Za+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return Ha[e]=1})),Da.TweenMax=Da.TweenLite=js,Da.TimelineLite=Da.TimelineMax=Cs,Ji=new Cs({sortChildren:!1,defaults:sa,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),oa.stringFilter=hs;var $s=[],eu={},tu=[],nu=0,ru=function(e){return(eu[e]||tu).map((function(e){return e()}))},iu=function(){var e=Date.now(),t=[];e-nu>2&&(ru("matchMediaInit"),$s.forEach((function(e){var n,r,i,a,o=e.queries,s=e.conditions;for(r in o)(n=$i.matchMedia(o[r]).matches)&&(i=1),n!==s[r]&&(s[r]=n,a=1);a&&(e.revert(),i&&t.push(e))})),ru("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e)})),nu=e,ru("matchMedia"))},au=function(){function e(e,t){this.selector=t&&qo(t),this.data=[],this._r=[],this.isReverted=!1,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){ga(e)&&(n=t,t=e,e=ga);var r=this,i=function(){var e,i=Yi,a=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=qo(n)),Yi=r,e=t.apply(r,arguments),ga(e)&&r._r.push(e),Yi=i,r.selector=a,r.isReverted=!1,e};return r.last=i,e===ga?i(r):e?r[e]=i:i},t.ignore=function(e){var t=Yi;Yi=null,e(this),Yi=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof js&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e){var r=this.getTweens();this.data.forEach((function(e){"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})))})),r.map((function(e){return{g:e.globalTime(0),t:e}})).sort((function(e,t){return t.g-e.g||-1})).forEach((function(t){return t.t.revert(e)})),this.data.forEach((function(t){return!(t instanceof Es)&&t.revert&&t.revert(e)})),this._r.forEach((function(t){return t(e,n)})),this.isReverted=!0}else this.data.forEach((function(e){return e.kill&&e.kill()}));if(this.clear(),t){var i=$s.indexOf(this);~i&&$s.splice(i,1)}},t.revert=function(e){this.kill(e||{})},e}(),ou=function(){function e(e){this.contexts=[],this.scope=e}var t=e.prototype;return t.add=function(e,t,n){ba(e)||(e={matches:e});var r,i,a,o=new au(0,n||this.scope),s=o.conditions={};for(i in this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?a=1:(r=$i.matchMedia(e[i]))&&($s.indexOf(o)<0&&$s.push(o),(s[i]=r.matches)&&(a=1),r.addListener?r.addListener(iu):r.addEventListener("change",iu));return a&&t(o),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),su={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return ns(e)}))},timeline:function(e){return new Cs(e)},getTweensOf:function(e,t){return Ji.getTweensOf(e,t)},getProperty:function(e,t,n,r){va(e)&&(e=Ho(e)[0]);var i=Ja(e||{}).get,a=n?uo:so;return"native"===n&&(n=""),e?t?a((Ga[t]&&Ga[t].get||i)(e,t,n,r)):function(t,n,r){return a((Ga[t]&&Ga[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=Ho(e)).length>1){var r=e.map((function(e){return cu.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=Ga[t],o=Ja(e),s=o.harness&&(o.harness.aliases||{})[t]||t,u=a?function(t){var r=new a;ia._pt=0,r.init(e,n?t+n:t,ia,0,[e]),r.render(1,r),ia._pt&&Ks(1,ia)}:o.set(e,s);return a?u:function(t){return u(e,s,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=cu.to(e,co(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),a=function(e,n,r){return i.resetTo(t,e,n,r)};return a.tween=i,a},isTweening:function(e){return Ji.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=bs(e.ease,sa.ease)),ho(sa,e||{})},config:function(e){return ho(oa,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!Ga[e]&&!Da[e]&&Ua(t+" effect requires "+e+" plugin.")})),Ka[t]=function(e,t,r){return n(Ho(e),lo(t||{},i),r)},a&&(Cs.prototype[t]=function(e,n,r){return this.add(Ka[t](e,ba(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){ps[e]=bs(t)},parseEase:function(e,t){return arguments.length?bs(e,t):ps},getById:function(e){return Ji.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new Cs(e);for(i.smoothChildTiming=ka(e.smoothChildTiming),Ji.remove(i),i._dp=0,i._time=i._tTime=Ji._time,n=Ji._first;n;)r=n._next,!t&&!n._dur&&n instanceof js&&n.vars.onComplete===n._targets[0]||Io(i,n,n._start-n._delay),n=r;return Io(Ji,i,0),i},context:function(e,t){return e?new au(e,t):Yi},matchMedia:function(e){return new ou(e)},matchMediaRefresh:function(){return $s.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||iu()},addEventListener:function(e,t){var n=eu[e]||(eu[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=eu[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return Sa(t)?Zo(t,e(0,t.length),n):jo(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return Sa(t)?Zo(t,e(0,t.length-1),n):jo(r,(function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)}))},distribute:Go,random:Xo,snap:Qo,normalize:function(e,t,n){return Jo(e,t,0,1,n)},getUnit:Bo,clamp:function(e,t,n){return jo(n,(function(n){return Fo(e,t,n)}))},splitColor:os,toArray:Ho,selector:qo,mapRange:Jo,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Bo(n))}},interpolate:function e(t,n,r,i){var a=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!a){var o,s,u,l,c,h=va(t),d={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(Sa(t)&&!Sa(n)){for(u=[],l=t.length,c=l-2,s=1;s<l;s++)u.push(e(t[s-1],t[s]));l--,a=function(e){e*=l;var t=Math.min(c,~~e);return u[t](e-t)},r=n}else i||(t=co(Sa(t)?[]:{},t));if(!u){for(o in n)Os.call(d,t,o,"get",n[o]);a=function(e){return Ks(e,d)||(h?t.p:t)}}}return jo(r,a)},shuffle:Wo},install:Ma,effects:Ka,ticker:ds,updateRoot:Cs.updateRoot,plugins:Ga,globalTimeline:Ji,core:{PropTween:Js,globals:ja,Tween:js,Timeline:Cs,Animation:Es,getCache:Ja,_removeLinkedListItem:vo,reverting:function(){return Zi},context:function(e){return e&&Yi&&(Yi.data.push(e),e._ctx=Yi),Yi},suppressOverwrites:function(e){return Xi=e}}};eo("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return su[e]=js[e]})),ds.add(Cs.updateRoot),ia=su.to({},{duration:0});var uu=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},lu=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(va(n)&&(r={},eo(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=uu(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}},cu=su.registerPlugin({name:"attr",init:function(e,t,n,r,i){var a,o,s;for(a in this.tween=n,t)s=e.getAttribute(a)||"",(o=this.add(e,"setAttribute",(s||0)+"",t[a],r,i,0,0,a)).op=a,o.b=s,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)Zi?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},lu("roundProps",Ko),lu("modifiers"),lu("snap",Qo))||su;js.version=Cs.version=cu.version="3.11.3",na=1,Ta()&&fs();ps.Power0,ps.Power1,ps.Power2,ps.Power3,ps.Power4,ps.Linear,ps.Quad,ps.Cubic,ps.Quart,ps.Quint,ps.Strong,ps.Elastic,ps.Back,ps.SteppedEase,ps.Bounce,ps.Sine,ps.Expo,ps.Circ;var hu,du,fu,pu,mu,vu,gu,yu,_u={},bu=180/Math.PI,ku=Math.PI/180,Tu=Math.atan2,wu=/([A-Z])/g,xu=/(left|right|width|margin|padding|x)/i,Su=/[\s,\(]\S/,Eu={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Cu=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Iu=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Au=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Pu=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Ou=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Lu=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Du=function(e,t,n){return e.style[t]=n},Nu=function(e,t,n){return e.style.setProperty(t,n)},Mu=function(e,t,n){return e._gsap[t]=n},Ru=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},Uu=function(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},ju=function(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)},Fu="transform",Bu=Fu+"Origin",zu=function(e,t){var n=this,r=this.target,i=r.style;if(e in _u){if(this.tfm=this.tfm||{},"transform"!==e&&(~(e=Eu[e]||e).indexOf(",")?e.split(",").forEach((function(e){return n.tfm[e]=al(r,e)})):this.tfm[e]=r._gsap.x?r._gsap[e]:al(r,e)),this.props.indexOf(Fu)>=0)return;r._gsap.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Bu,t,"")),e=Fu}(i||t)&&this.props.push(e,t,i[e])},Vu=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Hu=function(){var e,t,n=this.props,r=this.target,i=r.style,a=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty(n[e].replace(wu,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)a[t]=this.tfm[t];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),!(e=gu())||e.isStart||i[Fu]||(Vu(i),a.uncache=1)}},qu=function(e,t){var n={target:e,props:[],revert:Hu,save:zu};return t&&t.split(",").forEach((function(e){return n.save(e)})),n},Wu=function(e,t){var n=du.createElementNS?du.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):du.createElement(e);return n.style?n:du.createElement(e)},Gu=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(wu,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,Qu(n)||n,1)||""},Ku="O,Moz,ms,Ms,Webkit".split(","),Qu=function(e,t,n){var r=(t||mu).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(Ku[i]+e in r););return i<0?null:(3===i?"ms":i>=0?Ku[i]:"")+e},Xu=function(){"undefined"!==typeof window&&window.document&&(hu=window,du=hu.document,fu=du.documentElement,mu=Wu("div")||{style:{}},Wu("div"),Fu=Qu(Fu),Bu=Fu+"Origin",mu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",yu=!!Qu("perspective"),gu=cu.core.reverting,pu=1)},Zu=function e(t){var n,r=Wu("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(fu.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(iV){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),fu.removeChild(r),this.style.cssText=o,n},Yu=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},Ju=function(e){var t;try{t=e.getBBox()}catch(n){t=Zu.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Zu||(t=Zu.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+Yu(e,["x","cx","x1"])||0,y:+Yu(e,["y","cy","y1"])||0,width:0,height:0}},$u=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Ju(e))},el=function(e,t){if(t){var n=e.style;t in _u&&t!==Bu&&(t=Fu),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(wu,"-$1").toLowerCase())):n.removeAttribute(t)}},tl=function(e,t,n,r,i,a){var o=new Js(e._pt,t,n,0,1,a?Lu:Ou);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},nl={deg:1,rad:1,turn:1},rl={grid:1,flex:1},il=function e(t,n,r,i){var a,o,s,u,l=parseFloat(r)||0,c=(r+"").trim().substr((l+"").length)||"px",h=mu.style,d=xu.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),m=100,v="px"===i,g="%"===i;return i===c||!l||nl[i]||nl[c]?l:("px"!==c&&!v&&(l=e(t,n,r,"px")),u=t.getCTM&&$u(t),!g&&"%"!==c||!_u[n]&&!~n.indexOf("adius")?(h[d?"width":"height"]=m+(v?c:i),o=~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,u&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==du&&o.appendChild||(o=du.body),(s=o._gsap)&&g&&s.width&&d&&s.time===ds.time&&!s.uncache?to(l/s.width*m):((g||"%"===c)&&!rl[Gu(o,"display")]&&(h.position=Gu(t,"position")),o===t&&(h.position="static"),o.appendChild(mu),a=mu[p],o.removeChild(mu),h.position="absolute",d&&g&&((s=Ja(o)).time=ds.time,s.width=o[p]),to(v?a*l/m:a&&l?m/a*l:0))):(a=u?t.getBBox()[d?"width":"height"]:t[p],to(g?l/a*m:l/100*a)))},al=function(e,t,n,r){var i;return pu||Xu(),t in Eu&&"transform"!==t&&~(t=Eu[t]).indexOf(",")&&(t=t.split(",")[0]),_u[t]&&"transform"!==t?(i=gl(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:yl(Gu(e,Bu))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=cl[t]&&cl[t](e,t,n)||Gu(e,t)||$a(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?il(e,t,i,n)+n:i},ol=function(e,t,n,r){if(!n||"none"===n){var i=Qu(t,e,1),a=i&&Gu(e,i,1);a&&a!==n?(t=i,n=a):"borderColor"===t&&(n=Gu(e,"borderTopColor"))}var o,s,u,l,c,h,d,f,p,m,v,g=new Js(this._pt,e.style,t,0,1,Gs),y=0,_=0;if(g.b=n,g.e=r,n+="","auto"===(r+="")&&(e.style[t]=r,r=Gu(e,t)||r,e.style[t]=n),hs(o=[n,r]),r=o[1],u=(n=o[0]).match(Ia)||[],(r.match(Ia)||[]).length){for(;s=Ia.exec(r);)d=s[0],p=r.substring(y,s.index),c?c=(c+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(c=1),d!==(h=u[_++]||"")&&(l=parseFloat(h)||0,v=h.substr((l+"").length),"="===d.charAt(1)&&(d=ro(l,d)+v),f=parseFloat(d),m=d.substr((f+"").length),y=Ia.lastIndex-m.length,m||(m=m||oa.units[t]||v,y===r.length&&(r+=m,g.e+=m)),v!==m&&(l=il(e,t,h,m)||0),g._pt={_next:g._pt,p:p||1===_?p:",",s:l,c:f-l,m:c&&c<4||"zIndex"===t?Math.round:0});g.c=y<r.length?r.substring(y,r.length):""}else g.r="display"===t&&"none"===r?Lu:Ou;return Pa.test(r)&&(g.e=0),this._pt=g,g},sl={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ul=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=sl[n]||n,t[1]=sl[r]||r,t.join(" ")},ll=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,o=a.style,s=t.u,u=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],_u[n]&&(r=1,n="transformOrigin"===n?Bu:Fu),el(a,n);r&&(el(a,Fu),u&&(u.svg&&a.removeAttribute("transform"),gl(a,1),u.uncache=1,Vu(o)))}},cl={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new Js(e._pt,t,n,0,0,ll);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},hl=[1,0,0,1,0,0],dl={},fl=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},pl=function(e){var t=Gu(e,Fu);return fl(t)?hl:t.substr(7).match(Ca).map(to)},ml=function(e,t){var n,r,i,a,o=e._gsap||Ja(e),s=e.style,u=pl(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?hl:u:(u!==hl||e.offsetParent||e===fu||o.svg||(i=s.display,s.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextElementSibling,fu.appendChild(e)),u=pl(e),i?s.display=i:el(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):fu.removeChild(e))),t&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},vl=function(e,t,n,r,i,a){var o,s,u,l=e._gsap,c=i||ml(e,!0),h=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,m=c[0],v=c[1],g=c[2],y=c[3],_=c[4],b=c[5],k=t.split(" "),T=parseFloat(k[0])||0,w=parseFloat(k[1])||0;n?c!==hl&&(s=m*y-v*g)&&(u=T*(-v/s)+w*(m/s)-(m*b-v*_)/s,T=T*(y/s)+w*(-g/s)+(g*b-y*_)/s,w=u):(T=(o=Ju(e)).x+(~k[0].indexOf("%")?T/100*o.width:T),w=o.y+(~(k[1]||k[0]).indexOf("%")?w/100*o.height:w)),r||!1!==r&&l.smooth?(_=T-h,b=w-d,l.xOffset=f+(_*m+b*g)-_,l.yOffset=p+(_*v+b*y)-b):l.xOffset=l.yOffset=0,l.xOrigin=T,l.yOrigin=w,l.smooth=!!r,l.origin=t,l.originIsAbsolute=!!n,e.style[Bu]="0px 0px",a&&(tl(a,l,"xOrigin",h,T),tl(a,l,"yOrigin",d,w),tl(a,l,"xOffset",f,l.xOffset),tl(a,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",T+" "+w)},gl=function(e,t){var n=e._gsap||new Ss(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,o,s,u,l,c,h,d,f,p,m,v,g,y,_,b,k,T,w,x,S,E,C,I,A,P,O,L,D,N,M=e.style,R=n.scaleX<0,U="px",j="deg",F=getComputedStyle(e),B=Gu(e,Bu)||"0";return r=i=a=u=l=c=h=d=f=0,o=s=1,n.svg=!(!e.getCTM||!$u(e)),F.translate&&("none"===F.translate&&"none"===F.scale&&"none"===F.rotate||(M[Fu]=("none"!==F.translate?"translate3d("+(F.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==F.rotate?"rotate("+F.rotate+") ":"")+("none"!==F.scale?"scale("+F.scale.split(" ").join(",")+") ":"")+("none"!==F[Fu]?F[Fu]:"")),M.scale=M.rotate=M.translate="none"),v=ml(e,n.svg),n.svg&&(n.uncache?(C=e.getBBox(),B=n.xOrigin-C.x+"px "+(n.yOrigin-C.y)+"px",E=""):E=!t&&e.getAttribute("data-svg-origin"),vl(e,E||B,!!E||n.originIsAbsolute,!1!==n.smooth,v)),p=n.xOrigin||0,m=n.yOrigin||0,v!==hl&&(b=v[0],k=v[1],T=v[2],w=v[3],r=x=v[4],i=S=v[5],6===v.length?(o=Math.sqrt(b*b+k*k),s=Math.sqrt(w*w+T*T),u=b||k?Tu(k,b)*bu:0,(h=T||w?Tu(T,w)*bu+u:0)&&(s*=Math.abs(Math.cos(h*ku))),n.svg&&(r-=p-(p*b+m*T),i-=m-(p*k+m*w))):(N=v[6],L=v[7],A=v[8],P=v[9],O=v[10],D=v[11],r=v[12],i=v[13],a=v[14],l=(g=Tu(N,O))*bu,g&&(E=x*(y=Math.cos(-g))+A*(_=Math.sin(-g)),C=S*y+P*_,I=N*y+O*_,A=x*-_+A*y,P=S*-_+P*y,O=N*-_+O*y,D=L*-_+D*y,x=E,S=C,N=I),c=(g=Tu(-T,O))*bu,g&&(y=Math.cos(-g),D=w*(_=Math.sin(-g))+D*y,b=E=b*y-A*_,k=C=k*y-P*_,T=I=T*y-O*_),u=(g=Tu(k,b))*bu,g&&(E=b*(y=Math.cos(g))+k*(_=Math.sin(g)),C=x*y+S*_,k=k*y-b*_,S=S*y-x*_,b=E,x=C),l&&Math.abs(l)+Math.abs(u)>359.9&&(l=u=0,c=180-c),o=to(Math.sqrt(b*b+k*k+T*T)),s=to(Math.sqrt(S*S+N*N)),g=Tu(x,S),h=Math.abs(g)>2e-4?g*bu:0,f=D?1/(D<0?-D:D):0),n.svg&&(E=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!fl(Gu(e,Fu)),E&&e.setAttribute("transform",E))),Math.abs(h)>90&&Math.abs(h)<270&&(R?(o*=-1,h+=u<=0?180:-180,u+=u<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+U,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+U,n.z=a+U,n.scaleX=to(o),n.scaleY=to(s),n.rotation=to(u)+j,n.rotationX=to(l)+j,n.rotationY=to(c)+j,n.skewX=h+j,n.skewY=d+j,n.transformPerspective=f+U,(n.zOrigin=parseFloat(B.split(" ")[2])||0)&&(M[Bu]=yl(B)),n.xOffset=n.yOffset=0,n.force3D=oa.force3D,n.renderTransform=n.svg?Sl:yu?xl:bl,n.uncache=0,n},yl=function(e){return(e=e.split(" "))[0]+" "+e[1]},_l=function(e,t,n){var r=Bo(t);return to(parseFloat(t)+parseFloat(il(e,"x",n+"px",r)))+r},bl=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,xl(e,t)},kl="0deg",Tl="0px",wl=") ",xl=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,u=n.rotation,l=n.rotationY,c=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,m=n.transformPerspective,v=n.force3D,g=n.target,y=n.zOrigin,_="",b="auto"===v&&e&&1!==e||!0===v;if(y&&(c!==kl||l!==kl)){var k,T=parseFloat(l)*ku,w=Math.sin(T),x=Math.cos(T);T=parseFloat(c)*ku,k=Math.cos(T),a=_l(g,a,w*k*-y),o=_l(g,o,-Math.sin(T)*-y),s=_l(g,s,x*k*-y+y)}m!==Tl&&(_+="perspective("+m+wl),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(b||a!==Tl||o!==Tl||s!==Tl)&&(_+=s!==Tl||b?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+wl),u!==kl&&(_+="rotate("+u+wl),l!==kl&&(_+="rotateY("+l+wl),c!==kl&&(_+="rotateX("+c+wl),h===kl&&d===kl||(_+="skew("+h+", "+d+wl),1===f&&1===p||(_+="scale("+f+", "+p+wl),g.style[Fu]=_||"translate(0, 0)"},Sl=function(e,t){var n,r,i,a,o,s=t||this,u=s.xPercent,l=s.yPercent,c=s.x,h=s.y,d=s.rotation,f=s.skewX,p=s.skewY,m=s.scaleX,v=s.scaleY,g=s.target,y=s.xOrigin,_=s.yOrigin,b=s.xOffset,k=s.yOffset,T=s.forceCSS,w=parseFloat(c),x=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=ku,f*=ku,n=Math.cos(d)*m,r=Math.sin(d)*m,i=Math.sin(d-f)*-v,a=Math.cos(d-f)*v,f&&(p*=ku,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),a*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=to(n),r=to(r),i=to(i),a=to(a)):(n=m,a=v,r=i=0),(w&&!~(c+"").indexOf("px")||x&&!~(h+"").indexOf("px"))&&(w=il(g,"x",c,"px"),x=il(g,"y",h,"px")),(y||_||b||k)&&(w=to(w+y-(y*n+_*i)+b),x=to(x+_-(y*r+_*a)+k)),(u||l)&&(o=g.getBBox(),w=to(w+u/100*o.width),x=to(x+l/100*o.height)),o="matrix("+n+","+r+","+i+","+a+","+w+","+x+")",g.setAttribute("transform",o),T&&(g.style[Fu]=o)},El=function(e,t,n,r,i){var a,o,s=360,u=va(i),l=parseFloat(i)*(u&&~i.indexOf("rad")?bu:1)-r,c=r+l+"deg";return u&&("short"===(a=i.split("_")[1])&&(l%=s)!==l%180&&(l+=l<0?s:-360),"cw"===a&&l<0?l=(l+36e9)%s-~~(l/s)*s:"ccw"===a&&l>0&&(l=(l-36e9)%s-~~(l/s)*s)),e._pt=o=new Js(e._pt,t,n,r,l,Iu),o.e=c,o.u="deg",e._props.push(n),o},Cl=function(e,t){for(var n in t)e[n]=t[n];return e},Il=function(e,t,n){var r,i,a,o,s,u,l,c=Cl({},n._gsap),h=n.style;for(i in c.svg?(a=n.getAttribute("transform"),n.setAttribute("transform",""),h[Fu]=t,r=gl(n,1),el(n,Fu),n.setAttribute("transform",a)):(a=getComputedStyle(n)[Fu],h[Fu]=t,r=gl(n,1),h[Fu]=a),_u)(a=c[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=Bo(a)!==(l=Bo(o))?il(n,i,a,l):parseFloat(a),u=parseFloat(o),e._pt=new Js(e._pt,r,i,s,u-s,Cu),e._pt.u=l||0,e._props.push(i));Cl(r,c)};eo("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",a="Left",o=(t<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map((function(n){return t<2?e+n:"border"+n+e}));cl[t>1?"border"+e:e]=function(e,t,n,r,i){var a,s;if(arguments.length<4)return a=o.map((function(t){return al(e,t,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(r+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,i)}}));var Al={name:"css",register:Xu,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,o,s,u,l,c,h,d,f,p,m,v,g,y,_,b,k=this._props,T=e.style,w=n.vars.startAt;for(h in pu||Xu(),this.styles=this.styles||qu(e),b=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(o=t[h],!Ga[h]||!Ls(h,t,n,r,e,i)))if(l=typeof o,c=cl[h],"function"===l&&(l=typeof(o=o.call(n,r,e,i))),"string"===l&&~o.indexOf("random(")&&(o=Yo(o)),c)c(this,e,h,o,n)&&(_=1);else if("--"===h.substr(0,2))a=(getComputedStyle(e).getPropertyValue(h)+"").trim(),o+="",ls.lastIndex=0,ls.test(a)||(d=Bo(a),f=Bo(o)),f?d!==f&&(a=il(e,h,a,f)+f):d&&(o+=d),this.add(T,"setProperty",a,o,r,i,0,0,h),k.push(h),b.push(h,0,T[h]);else if("undefined"!==l){if(w&&h in w?(a="function"===typeof w[h]?w[h].call(n,r,e,i):w[h],va(a)&&~a.indexOf("random(")&&(a=Yo(a)),Bo(a+"")||(a+=oa.units[h]||Bo(al(e,h))||""),"="===(a+"").charAt(1)&&(a=al(e,h))):a=al(e,h),u=parseFloat(a),(p="string"===l&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),s=parseFloat(o),h in Eu&&("autoAlpha"===h&&(1===u&&"hidden"===al(e,"visibility")&&s&&(u=0),b.push("visibility",0,T.visibility),tl(this,T,"visibility",u?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==h&&"transform"!==h&&~(h=Eu[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in _u)if(this.styles.save(h),v||((g=e._gsap).renderTransform&&!t.parseTransform||gl(e,t.parseTransform),y=!1!==t.smoothOrigin&&g.smooth,(v=this._pt=new Js(this._pt,T,Fu,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===h)this._pt=new Js(this._pt,g,"scaleY",u,(p?ro(u,p+s):s)-u||0,Cu),this._pt.u=0,k.push("scaleY",h),h+="X";else{if("transformOrigin"===h){b.push(Bu,0,T[Bu]),o=ul(o),g.svg?vl(e,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==g.zOrigin&&tl(this,g,"zOrigin",g.zOrigin,f),tl(this,T,h,yl(a),yl(o)));continue}if("svgOrigin"===h){vl(e,o,1,y,0,this);continue}if(h in dl){El(this,g,h,u,p?ro(u,p+o):o);continue}if("smoothOrigin"===h){tl(this,g,"smooth",g.smooth,o);continue}if("force3D"===h){g[h]=o;continue}if("transform"===h){Il(this,o,e);continue}}else h in T||(h=Qu(h)||h);if(m||(s||0===s)&&(u||0===u)&&!Su.test(o)&&h in T)s||(s=0),(d=(a+"").substr((u+"").length))!==(f=Bo(o)||(h in oa.units?oa.units[h]:d))&&(u=il(e,h,a,f)),this._pt=new Js(this._pt,m?g:T,h,u,(p?ro(u,p+s):s)-u,m||"px"!==f&&"zIndex"!==h||!1===t.autoRound?Cu:Pu),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=a,this._pt.r=Au);else if(h in T)ol.call(this,e,h,a,p?p+o:o);else{if(!(h in e)){Ra(h,o);continue}this.add(e,h,a||e[h],p?p+o:o,r,i)}m||(h in T?b.push(h,0,T[h]):b.push(h,1,a||e[h])),k.push(h)}_&&Ys(this)},render:function(e,t){if(t.tween._time||!gu())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:al,aliases:Eu,getSetter:function(e,t,n){var r=Eu[t];return r&&r.indexOf(",")<0&&(t=r),t in _u&&t!==Bu&&(e._gsap.x||al(e,"x"))?n&&vu===n?"scale"===t?Ru:Mu:(vu=n||{})&&("scale"===t?Uu:ju):e.style&&!_a(e.style[t])?Du:~t.indexOf("-")?Nu:Hs(e,t)},core:{_removeProperty:el,_getMatrix:ml}};cu.utils.checkPrefix=Qu,cu.core.getStyleSaver=qu,function(e,t,n,r){var i=eo(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){_u[e]=1}));eo(t,(function(e){oa.units[e]="deg",dl[e]=1})),Eu[i[13]]=e+","+t,eo("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");Eu[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),eo("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){oa.units[e]="px"})),cu.registerPlugin(Al);var Pl,Ol,Ll,Dl,Nl,Ml,Rl,Ul,jl=cu.registerPlugin(Al)||cu,Fl=(jl.core.Tween,function(){return"undefined"!==typeof window}),Bl=function(){return Pl||Fl()&&(Pl=window.gsap)&&Pl.registerPlugin&&Pl},zl=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,Vl={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},Hl=function(e){return Math.round(1e4*e)/1e4},ql=function(e){return parseFloat(e)||0},Wl=function(e,t){var n=ql(e);return~e.indexOf("%")?n/100*t:n},Gl=function(e,t){return ql(e.getAttribute(t))},Kl=Math.sqrt,Ql=function(e,t,n,r,i,a){return Kl(Math.pow((ql(n)-ql(e))*i,2)+Math.pow((ql(r)-ql(t))*a,2))},Xl=function(e){return console.warn(e)},Zl=function(e){return"non-scaling-stroke"===e.getAttribute("vector-effect")},Yl=function(e){if(!(e=Ol(e)[0]))return 0;var t,n,r,i,a,o,s,u=e.tagName.toLowerCase(),l=e.style,c=1,h=1;Zl(e)&&(h=e.getScreenCTM(),c=Kl(h.a*h.a+h.b*h.b),h=Kl(h.d*h.d+h.c*h.c));try{n=e.getBBox()}catch(iV){Xl("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var d=n||{x:0,y:0,width:0,height:0},f=d.x,p=d.y,m=d.width,v=d.height;if(n&&(m||v)||!Vl[u]||(m=Gl(e,Vl[u][0]),v=Gl(e,Vl[u][1]),"rect"!==u&&"line"!==u&&(m*=2,v*=2),"line"===u&&(f=Gl(e,"x1"),p=Gl(e,"y1"),m=Math.abs(m-f),v=Math.abs(v-p))),"path"===u)i=l.strokeDasharray,l.strokeDasharray="none",t=e.getTotalLength()||0,Hl(c)!==Hl(h)&&!Ml&&(Ml=1)&&Xl("Warning: <path> length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),t*=(c+h)/2,l.strokeDasharray=i;else if("rect"===u)t=2*m*c+2*v*h;else if("line"===u)t=Ql(f,p,f+m,p+v,c,h);else if("polyline"===u||"polygon"===u)for(r=e.getAttribute("points").match(zl)||[],"polygon"===u&&r.push(r[0],r[1]),t=0,a=2;a<r.length;a+=2)t+=Ql(r[a-2],r[a-1],r[a],r[a+1],c,h)||0;else"circle"!==u&&"ellipse"!==u||(o=m/2*c,s=v/2*h,t=Math.PI*(3*(o+s)-Kl((3*o+s)*(o+3*s))));return t||0},Jl=function(e,t){if(!(e=Ol(e)[0]))return[0,0];t||(t=Yl(e)+1);var n=Ll.getComputedStyle(e),r=n.strokeDasharray||"",i=ql(n.strokeDashoffset),a=r.indexOf(",");return a<0&&(a=r.indexOf(" ")),(r=a<0?t:ql(r.substr(0,a)))>t&&(r=t),[-i||0,r-i||0]},$l=function(){Fl()&&(document,Ll=window,Nl=Pl=Bl(),Ol=Pl.utils.toArray,Rl=Pl.core.getStyleSaver,Ul=Pl.core.reverting||function(){},Dl=-1!==((Ll.navigator||{}).userAgent||"").indexOf("Edge"))},ec={version:"3.11.3",name:"drawSVG",register:function(e){Pl=e,$l()},init:function(e,t,n,r,i){if(!e.getBBox)return!1;Nl||$l();var a,o,s,u=Yl(e);return this.styles=Rl&&Rl(e,"strokeDashoffset,strokeDasharray,strokeMiterlimit"),this.tween=n,this._style=e.style,this._target=e,t+""==="true"?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",o=function(e,t,n){var r,i,a=e.indexOf(" ");return a<0?(r=void 0!==n?n+"":e,i=e):(r=e.substr(0,a),i=e.substr(a+1)),(r=Wl(r,t))>(i=Wl(i,t))?[i,r]:[r,i]}(t,u,(a=Jl(e,u))[0]),this._length=Hl(u),this._dash=Hl(a[1]-a[0]),this._offset=Hl(-a[0]),this._dashPT=this.add(this,"_dash",this._dash,Hl(o[1]-o[0]),0,0,0,0,0,1),this._offsetPT=this.add(this,"_offset",this._offset,Hl(-o[0]),0,0,0,0,0,1),Dl&&(s=Ll.getComputedStyle(e)).strokeLinecap!==s.strokeLinejoin&&(o=ql(s.strokeMiterlimit),this.add(e.style,"strokeMiterlimit",o,o+.01)),this._live=Zl(e)||~(t+"").indexOf("live"),this._nowrap=~(t+"").indexOf("nowrap"),this._props.push("drawSVG"),1},render:function(e,t){if(t.tween._time||!Ul()){var n,r,i,a,o=t._pt,s=t._style;if(o){for(t._live&&(n=Yl(t._target))!==t._length&&(r=n/t._length,t._length=n,t._offsetPT&&(t._offsetPT.s*=r,t._offsetPT.c*=r),t._dashPT?(t._dashPT.s*=r,t._dashPT.c*=r):t._dash*=r);o;)o.r(e,o.d),o=o._next;i=t._dash||e&&1!==e&&1e-4||0,n=t._length-i+.1,a=t._offset,i&&a&&i+Math.abs(a%t._length)>t._length-.2&&(a+=a<0?.1:-.1)&&(n+=.1),s.strokeDashoffset=i?a:a+.001,s.strokeDasharray=n<.2?"none":i?i+"px,"+(t._nowrap?999999:n)+"px":"0px, 999999px"}}else t.styles.revert()},getLength:Yl,getPosition:Jl};Bl()&&Pl.registerPlugin(ec);var tc=function(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=(0,t.useRef)(!1);return(0,t.useEffect)((function(){jl.registerPlugin(ec),i.current||(i.current=!0,jl.timeline().to(e.current,{duration:1,opacity:1}).from(n.current,{drawSVG:0,duration:20}),jl.fromTo(r.current,{opacity:0},{opacity:1,delay:4,duration:2}))}),[]),(0,Hi.jsxs)("div",{id:"main",className:"logo-container",ref:e,children:[(0,Hi.jsx)("img",{ref:r,className:"solid-logo",src:We,alt:"S"}),(0,Hi.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"559.000000pt",height:"897.000000pt",viewBox:"0 0 559.000000 897.000000",preserveAspectRatio:"xMidYMid meet",children:(0,Hi.jsx)("g",{transform:"translate(0.000000,897.000000) scale(0.100000,-0.100000)",className:"svg-container",fill:"none",children:(0,Hi.jsx)("path",{ref:n,d:"M2930 8959 c-344 -16 -623 -85 -915 -228 -231 -114 -406 -241 -600\r\n-436 -61 -60 -145 -137 -188 -169 -432 -325 -715 -757 -806 -1230 -109 -564\r\n21 -1117 384 -1641 250 -360 780 -877 1547 -1511 451 -373 600 -505 803 -708\r\n215 -216 275 -293 350 -448 55 -114 75 -188 82 -298 6 -96 -6 -173 -39 -257\r\n-21 -53 -27 -59 -73 -76 -136 -51 -374 -73 -521 -46 -401 71 -763 376 -1088\r\n916 -21 35 -43 63 -50 63 -7 0 -32 -13 -57 -29 -74 -48 -229 -141 -233 -141\r\n-3 0 -54 -31 -113 -68 -59 -37 -135 -84 -168 -102 -33 -19 -67 -39 -77 -45 -9\r\n-5 -56 -34 -105 -63 -48 -29 -153 -94 -233 -143 -80 -49 -152 -92 -160 -96\r\n-26 -12 -144 -86 -180 -114 -19 -15 -137 -88 -262 -164 -130 -78 -228 -143\r\n-228 -151 0 -8 30 -70 66 -137 207 -379 396 -640 644 -887 219 -218 401 -350\r\n665 -480 247 -122 484 -196 775 -241 172 -27 628 -38 819 -19 636 61 1161 302\r\n1561 716 47 48 128 120 181 160 402 304 684 722 804 1189 61 240 70 318 70\r\n640 0 259 -3 304 -23 418 -84 467 -268 823 -647 1257 -192 218 -401 409 -1095\r\n995 -637 539 -1034 894 -1208 1081 -152 163 -223 311 -223 465 0 43 2 83 5 88\r\n20 32 266 41 394 15 322 -65 649 -312 972 -731 39 -51 70 -83 82 -83 10 0 283\r\n234 615 528 328 290 684 605 792 700 108 95 197 181 199 191 2 10 -38 62 -100\r\n131 -399 446 -754 740 -1106 918 -314 159 -659 255 -962 268 -63 2 -135 6\r\n-160 7 -25 2 -110 0 -190 -4z m570 -58 c671 -123 1188 -450 1813 -1144 53 -60\r\n97 -112 96 -115 0 -9 -409 -367 -418 -367 -3 0 -49 47 -101 105 -610 676\r\n-1113 1004 -1737 1135 -313 65 -761 62 -1082 -6 -152 -32 -362 -107 -510 -180\r\nl-136 -67 65 60 c361 334 772 528 1256 592 167 23 601 15 754 -13z m-450 -400\r\nc639 -117 1145 -424 1723 -1047 82 -87 157 -171 168 -186 l19 -26 -333 -295\r\n-332 -295 -18 24 c-110 143 -202 250 -307 355 -191 192 -351 304 -540 380\r\n-131 52 -224 69 -377 69 -191 0 -324 -38 -456 -129 -74 -51 -172 -164 -203\r\n-236 -16 -36 -34 -65 -42 -65 -23 0 -114 -42 -179 -82 -84 -53 -188 -166 -225\r\n-244 -74 -158 -49 -356 65 -532 112 -170 494 -524 1337 -1237 693 -585 897\r\n-771 1085 -985 379 -434 563 -790 647 -1257 20 -113 23 -161 23 -398 0 -300\r\n-10 -384 -70 -620 -57 -223 -150 -434 -275 -625 -109 -166 -161 -223 -252\r\n-278 -328 -197 -690 -312 -1109 -352 -188 -18 -606 -8 -779 19 -290 45 -528\r\n119 -775 241 -385 190 -680 444 -972 836 -118 159 -345 527 -332 538 22 17\r\n759 456 766 456 5 0 29 -34 52 -76 232 -407 527 -721 817 -869 163 -83 300\r\n-115 500 -115 252 0 451 62 623 194 74 57 192 182 221 235 19 32 40 50 98 81\r\n197 107 356 281 424 466 18 49 21 82 22 199 1 165 -11 222 -79 363 -75 156\r\n-135 232 -355 453 -208 208 -355 338 -808 713 -766 633 -1288 1142 -1537 1501\r\n-305 440 -449 908 -415 1355 29 396 150 717 387 1032 64 85 84 103 158 148\r\n259 157 565 262 881 304 167 23 601 15 754 -13z m-1907 -538 c-321 -485 -398\r\n-1123 -203 -1693 70 -208 178 -417 315 -615 250 -360 780 -877 1547 -1511 451\r\n-373 600 -505 803 -708 215 -216 275 -292 350 -448 65 -136 80 -200 79 -343\r\n-1 -134 -15 -186 -80 -302 -60 -108 -201 -244 -326 -317 -53 -31 -55 -28 -31\r\n35 12 33 17 79 17 184 1 165 -12 222 -79 363 -75 156 -135 232 -355 453 -208\r\n208 -355 338 -808 713 -766 633 -1288 1142 -1537 1501 -305 440 -449 908 -415\r\n1355 34 454 190 817 504 1174 58 66 264 256 277 256 4 0 -23 -44 -58 -97z\r\nm2095 -529 c212 -43 445 -176 659 -378 129 -121 368 -406 360 -429 -2 -6 -95\r\n-93 -208 -193 l-204 -182 -18 24 c-105 137 -202 250 -307 355 -191 192 -351\r\n304 -540 380 -145 58 -234 72 -415 67 l-153 -4 24 47 c28 57 121 159 181 200\r\n71 49 158 88 240 108 99 25 274 27 381 5z m-881 -507 c2 -172 69 -314 230\r\n-486 182 -195 573 -545 1213 -1086 693 -585 897 -771 1085 -985 379 -434 563\r\n-790 647 -1257 20 -113 23 -161 23 -398 0 -300 -10 -384 -70 -620 -112 -436\r\n-362 -824 -724 -1124 l-53 -45 72 110 c134 203 226 409 285 639 61 240 70 318\r\n70 640 0 259 -3 304 -23 418 -84 467 -268 823 -647 1257 -192 218 -401 409\r\n-1095 995 -860 727 -1228 1069 -1335 1240 -86 138 -120 313 -82 421 54 149\r\n181 277 351 351 28 12 51 22 52 23 0 0 1 -42 1 -93z m-438 -4247 c300 -462\r\n644 -733 1015 -799 100 -18 319 -13 421 9 50 10 101 22 114 26 21 6 22 5 12\r\n-15 -19 -35 -141 -160 -202 -206 -116 -90 -253 -150 -412 -180 -92 -17 -277\r\n-20 -363 -4 -410 73 -777 388 -1108 952 -32 54 -56 100 -54 101 9 8 200 126\r\n203 126 5 0 204 121 235 143 30 21 15 38 139 -153z m-1353 -732 c233 -416 511\r\n-757 812 -997 275 -219 616 -385 967 -472 225 -55 364 -71 669 -76 307 -6 445\r\n3 666 43 255 46 474 119 698 233 l117 60 -75 -71 c-377 -356 -881 -572 -1471\r\n-628 -188 -18 -606 -8 -779 19 -465 72 -868 244 -1222 521 -180 141 -402 382\r\n-575 625 -130 183 -342 550 -326 566 11 11 446 277 454 278 4 1 33 -45 65\r\n-101z"})})})]})},nc=n(683),rc=n.n(nc);function ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(n),!0).forEach((function(t){ic(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var uc=n(694),lc=n.n(uc),cc=["as","disabled"];function hc(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,l=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var h={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},h];var d=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:d,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),d(e))}},h]}var dc=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,cc),a=l(hc(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,Hi.jsx)(s,Object.assign({},i,o,{ref:t}))}));dc.displayName="Button";var fc=["xxl","xl","lg","md","sm","xs"],pc=t.createContext({prefixes:{},breakpoints:fc,minBreakpoint:"xs"});pc.Consumer,pc.Provider;function mc(e,n){var r=(0,t.useContext)(pc).prefixes;return e||r[n]||n}var vc=["as","bsPrefix","variant","size","active","className"],gc=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,u=sc(e,vc),c=mc(r,"btn"),h=l(hc(oc({tagName:n},u)),2),d=h[0],f=h[1].tagName;return(0,Hi.jsx)(f,oc(oc(oc({},d),u),{},{ref:t,className:lc()(s,c,o&&"active",i&&"".concat(c,"-").concat(i),a&&"".concat(c,"-").concat(a),u.href&&u.disabled&&"disabled")}))}));gc.displayName="Button",gc.defaultProps={variant:"primary",active:!1,disabled:!1};var yc=gc,_c=function(){var e=l((0,t.useState)("text-animate"),2),n=e[0],r=e[1],i=l((0,t.useState)(!1),2),a=i[0],o=i[1],s="ean".split(""),u="Software Engineer".split("");(0,t.useEffect)((function(){var e=setTimeout((function(){return r("text-animate-hover")}),4050);return function(){return clearTimeout(e)}}),[]);var c=function(e){return(0,Hi.jsx)("div",{children:(0,Hi.jsx)("iframe",{src:e.src,className:"pdf-modal",title:"resume"})})},h=function(e){return(0,Hi.jsx)("div",{children:(0,Hi.jsx)("iframe",{src:e.src,className:"cert-modal",title:"certificate"})})};return(0,Hi.jsxs)(Hi.Fragment,{children:[(0,Hi.jsxs)("div",{className:"container home-page",children:[(0,Hi.jsxs)("div",{className:"text-zone",children:[(0,Hi.jsxs)("h1",{children:[(0,Hi.jsx)("span",{className:n,children:"H"}),(0,Hi.jsx)("span",{className:"".concat(n," _12"),children:"i,"}),(0,Hi.jsx)("br",{}),(0,Hi.jsx)("span",{className:"".concat(n," _13"),children:"I"}),(0,Hi.jsx)("span",{className:"".concat(n," _14"),children:"'m"}),(0,Hi.jsx)("img",{src:We,alt:"developer"}),(0,Hi.jsx)(Gi,{letterClass:n,strArray:s,idx:15}),(0,Hi.jsx)("br",{}),(0,Hi.jsx)(Gi,{letterClass:n,strArray:u,idx:22})]}),(0,Hi.jsx)("h2",{children:"Full stack developer / Software Engineering student"}),(0,Hi.jsx)(ze,{to:"/portfolio",className:"flat-button",children:"MY PROJECTS"}),a?(0,Hi.jsxs)(Hi.Fragment,{children:[(0,Hi.jsx)(c,{src:"assets/resume.pdf"}),(0,Hi.jsx)(h,{src:"assets/HR-Cert.pdf"}),(0,Hi.jsx)(yc,{className:"close-resume-btn",onClick:function(){return o(!a)},children:"CLOSE RESUME"})]}):(0,Hi.jsx)(yc,{className:"resume-btn",onClick:function(){return o(!a)},children:"MY RESUME"})]}),(0,Hi.jsx)(tc,{})]}),"\\",(0,Hi.jsx)(rc(),{type:"line-scale-pulse-out"})]})},bc=function(){var e=l((0,t.useState)("text-animate"),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){var e=setTimeout((function(){return r("text-animate-hover")}),3e3);return function(){return clearTimeout(e)}}),[]),(0,Hi.jsxs)(Hi.Fragment,{children:[(0,Hi.jsxs)("div",{className:"container about-page",children:[(0,Hi.jsxs)("div",{className:"text-area",children:[(0,Hi.jsx)("h1",{children:(0,Hi.jsx)(Gi,{letterClass:n,strArray:"About me".split(""),idx:15})}),(0,Hi.jsx)("p",{children:"Although I am quiet by nature, I love meeting new people and working on teams to solve complex problems or algorithms. I am very interested in business app modeling and development. This was my primary focus during my education. I would love the opportunity to demonstrate my skills."}),(0,Hi.jsx)("p",{children:"I am quite confident in my ability to problem solve, I am able to invest all my time to work on perpetual projects."}),(0,Hi.jsx)("p",{children:"In my spare time I enjoy cooking, car modification, and obsessing in tech."})]}),(0,Hi.jsx)("div",{className:"stage-cube-cont",children:(0,Hi.jsxs)("div",{className:"cube-spinner",children:[(0,Hi.jsx)("div",{className:"face1",children:(0,Hi.jsx)(Li,{icon:Xe,color:"#DD0031"})}),(0,Hi.jsx)("div",{className:"face2",children:(0,Hi.jsx)(Li,{icon:Bi,color:"#F06529"})}),(0,Hi.jsx)("div",{className:"face3",children:(0,Hi.jsx)(Li,{icon:zi,color:"#28A4D9"})}),(0,Hi.jsx)("div",{className:"face4",children:(0,Hi.jsx)(Li,{icon:Ri,color:"#5EDEF4"})}),(0,Hi.jsx)("div",{className:"face5",children:(0,Hi.jsx)(Li,{icon:Mi,color:"#EFD81D"})}),(0,Hi.jsx)("div",{className:"face6",children:(0,Hi.jsx)(Li,{icon:Ui,color:"#EC4D28"})})]})})]}),(0,Hi.jsx)(rc(),{type:"line-scale-pulse-out"})]})},kc={_origin:"https://api.emailjs.com"},Tc=function(e,t,n){if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},wc=p((function e(t){d(this,e),this.status=t?t.status:0,this.text=t?t.responseText:"Network Error"})),xc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){var a=new XMLHttpRequest;a.addEventListener("load",(function(e){var t=e.target,n=new wc(t);200===n.status||"OK"===n.text?r(n):i(n)})),a.addEventListener("error",(function(e){var t=e.target;i(new wc(t))})),a.open("POST",kc._origin+e,!0),Object.keys(n).forEach((function(e){a.setRequestHeader(e,n[e])})),a.send(t)}))},Sc=function(e,t,n,r){var i=r||kc._userID,a=function(e){var t;if(!(t="string"===typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t}(n);Tc(i,e,t);var o=new FormData(a);return o.append("lib_version","3.9.1"),o.append("service_id",e),o.append("template_id",t),o.append("user_id",i),xc("/api/v1.0/email/send-form",o)};var Ec=(0,t.createContext)(null),Cc=Ec.Provider;function Ic(){var e=(0,t.useContext)(Ec);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var Ac=n(559),Pc=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function Oc(){return Oc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oc.apply(this,arguments)}function Lc(e,n){var r=e.bounds,i=e.boundsOptions,a=e.center,o=e.children,s=e.className,u=e.id,c=e.placeholder,h=e.style,d=e.whenReady,f=e.zoom,p=sc(e,Pc),m=l((0,t.useState)({className:s,id:u,style:h}),1)[0],v=l((0,t.useState)(null),2),g=v[0],y=v[1];(0,t.useImperativeHandle)(n,(function(){var e;return null!==(e=null===g||void 0===g?void 0:g.map)&&void 0!==e?e:null}),[g]);var _=(0,t.useCallback)((function(e){if(null!==e&&null===g){var t=new Ac.Map(e,p);null!=a&&null!=f?t.setView(a,f):null!=r&&t.fitBounds(r,i),null!=d&&t.whenReady(d),y(function(e){return Object.freeze({__version:1,map:e})}(t))}}),[]);(0,t.useEffect)((function(){return function(){null===g||void 0===g||g.map.remove()}}),[g]);var b=g?t.createElement(Cc,{value:g},o):null!==c&&void 0!==c?c:null;return t.createElement("div",Oc({},m,{ref:_}),b)}var Dc=(0,t.forwardRef)(Lc),Nc=n(164);function Mc(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Rc(e,n){return null==n?function(n,r){var i=(0,t.useRef)();return i.current||(i.current=e(n,r)),i}:function(r,i){var a=(0,t.useRef)();a.current||(a.current=e(r,i));var o=(0,t.useRef)(r),s=a.current.instance;return(0,t.useEffect)((function(){o.current!==r&&(n(s,r,o.current),o.current=r)}),[s,r,i]),a}}function Uc(e,n){var r=(0,t.useRef)(n);(0,t.useEffect)((function(){n!==r.current&&null!=e.attributionControl&&(null!=r.current&&e.attributionControl.removeAttribution(r.current),null!=n&&e.attributionControl.addAttribution(n)),r.current=n}),[e,n])}function jc(e,n){var r=(0,t.useRef)();(0,t.useEffect)((function(){return null!=n&&e.instance.on(n),r.current=n,function(){null!=r.current&&e.instance.off(r.current),r.current=null}}),[e,n])}function Fc(e,t){var n,r=null!==(n=e.pane)&&void 0!==n?n:t.pane;return r?oc(oc({},e),{},{pane:r}):e}function Bc(e){return function(n){var r=Ic(),i=e(Fc(n,r),r);return Uc(r.map,n.attribution),jc(i.current,n.eventHandlers),function(e,n){(0,t.useEffect)((function(){var t;return(null!==(t=n.layerContainer)&&void 0!==t?t:n.map).addLayer(e.instance),function(){var t;null===(t=n.layerContainer)||void 0===t||t.removeLayer(e.instance),n.map.removeLayer(e.instance)}}),[n,e])}(i.current,r),i}}var zc=["url"],Vc=function(e,n){return function(e){function n(n,r){var i=e(n).current.instance;return(0,t.useImperativeHandle)(r,(function(){return i})),null}return(0,t.forwardRef)(n)}(Bc(Rc(e,n)))}((function(e,t){var n=e.url,r=sc(e,zc);return Mc(new Ac.TileLayer(n,Fc(r,t)),t)}),(function(e,t,n){var r=t.opacity,i=t.zIndex;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)})),Hc=["position"],qc=function(e,n){return function(e){function n(n,r){var i=e(n).current,a=i.instance,o=i.context;return(0,t.useImperativeHandle)(r,(function(){return a})),null==n.children?null:t.createElement(Cc,{value:o},n.children)}return(0,t.forwardRef)(n)}(Bc(Rc(e,n)))}((function(e,t){var n,r,i=e.position,a=sc(e,Hc),o=new Ac.Marker(i,a);return Mc(o,(n=t,r={overlayContainer:o},Object.freeze(oc(oc({},n),r))))}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})),Wc=function(e,n){var r=function(e,t){return function(n,r){var i=Ic(),a=e(Fc(n,i),i);return Uc(i.map,n.attribution),jc(a.current,n.eventHandlers),t(a.current,i,n,r),a}}(Rc(e),n);return function(e){function n(n,r){var i=l((0,t.useState)(!1),2),a=i[0],o=i[1],s=e(n,o).current.instance;(0,t.useImperativeHandle)(r,(function(){return s})),(0,t.useEffect)((function(){a&&s.update()}),[s,a,n.children]);var u=s._contentNode;return u?(0,Nc.createPortal)(n.children,u):null}return(0,t.forwardRef)(n)}(r)}((function(e,t){return Mc(new Ac.Popup(e,t.overlayContainer),t)}),(function(e,n,r,i){var a=r.position;(0,t.useEffect)((function(){var t=e.instance;function r(e){e.popup===t&&(t.update(),i(!0))}function o(e){e.popup===t&&i(!1)}return n.map.on({popupopen:r,popupclose:o}),null==n.overlayContainer?(null!=a&&t.setLatLng(a),t.openOn(n.map)):n.overlayContainer.bindPopup(t),function(){var e;n.map.off({popupopen:r,popupclose:o}),null===(e=n.overlayContainer)||void 0===e||e.unbindPopup(),n.map.removeLayer(t)}}),[e,n,i,a])})),Gc=function(){var e=l((0,t.useState)("text-animate"),2),n=e[0],r=e[1],i=(0,t.useRef)();return(0,t.useEffect)((function(){var e=setTimeout((function(){return r("text-animate-hover")}),3e3);return function(){return clearTimeout(e)}}),[]),(0,Hi.jsxs)(Hi.Fragment,{children:[(0,Hi.jsxs)("div",{className:"container contact-page",children:[(0,Hi.jsxs)("div",{className:"text-area",children:[(0,Hi.jsx)("h1",{children:(0,Hi.jsx)(Gi,{letterClass:n,strArray:"Contact me".split(""),idx:15})}),(0,Hi.jsx)("p",{className:"p-style",children:"I am interested in freelance opportunities - especially in creating your business website. However, if you have any other questions or requests, don't hesitate to fill out this simple form and I will get back to you within 72 hours."}),(0,Hi.jsx)("div",{className:"contact-form",children:(0,Hi.jsx)("form",{ref:i,onSubmit:function(e){e.preventDefault(),Sc("service_nltni66","template_v2zl8j1",i.current,"qyrqqAoOcgvAPho8t").then((function(){alert("Message has been sent!"),window.location.reload(!1)}),(function(){alert("Failed to send message, please try again")}))},children:(0,Hi.jsxs)("ul",{children:[(0,Hi.jsx)("li",{className:"half",children:(0,Hi.jsx)("input",{type:"text",name:"name",placeholder:"Your Name",required:!0})}),(0,Hi.jsx)("li",{className:"half",children:(0,Hi.jsx)("input",{type:"email",name:"email",placeholder:"Your email",required:!0})}),(0,Hi.jsx)("li",{children:(0,Hi.jsx)("input",{type:"text",name:"subject",placeholder:"Subject",required:!0})}),(0,Hi.jsx)("li",{children:(0,Hi.jsx)("textarea",{placeholder:"Message",name:"message",required:!0})}),(0,Hi.jsx)("li",{children:(0,Hi.jsx)("input",{type:"submit",className:"flat-button",value:"SEND"})})]})})})]}),(0,Hi.jsxs)("div",{className:"info-map",children:["Sean Sainz,",(0,Hi.jsx)("br",{}),"United States,",(0,Hi.jsx)("br",{}),"San Diego, CA ",(0,Hi.jsx)("br",{}),"Carlsbad 92008 ",(0,Hi.jsx)("br",{}),(0,Hi.jsx)("span",{children:"jconnect7@gmail.com"})]}),(0,Hi.jsx)("div",{className:"map-wrap",children:(0,Hi.jsxs)(Dc,{center:[33.1581,-117.3506],zoom:13,children:[(0,Hi.jsx)(Vc,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,Hi.jsx)(qc,{position:[33.1581,-117.3506],children:(0,Hi.jsx)(Wc,{children:"Sean lives here, let me know if you want to get a coffee \u2615 "})})]})})]}),(0,Hi.jsx)(rc(),{type:"line-scale-pulse-out"})]})};function Kc(){Kc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:T(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var h={};function d(){}function f(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==t&&n.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,a,o,s){var u=c(e[r],e,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==_(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function T(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),u(y,s,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Qc(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function Xc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Qc(a,r,i,o,s,"next",e)}function s(e){Qc(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Zc(e){return a(e)||c(e)||s(e)||u()}function Yc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function Jc(){return Jc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Yc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jc.apply(this,arguments)}var $c=n(851),eh=n.n($c),th=n(203),nh=n.n(th),rh=n(943),ih=n.n(rh),ah=n(947),oh=n.n(ah),sh=n(656),uh=n.n(sh),lh=n(755),ch=n.n(lh),hh=n(556),dh=n.n(hh),fh="http://example.com",ph=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=eh().location&&eh().location.href||"");var n="function"===typeof eh().URL,r=/^\/\//.test(e),i=!eh().location&&!/\/\//i.test(e);if(n?e=new(eh().URL)(e,eh().location||fh):/\/\//i.test(e)||(e=dh().buildAbsoluteURL(eh().location&&eh().location.href||"",e)),n){var a=new URL(t,e);return i?a.href.slice(fh.length):r?a.href.slice(a.protocol.length):a.href}return dh().buildAbsoluteURL(e,t)};function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mh.apply(this,arguments)}var vh=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),a=t.length,o=0;o<a;++o)t[o].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();function gh(e){for(var t,n=(t=e,eh().atob?eh().atob(t):Buffer.from(t,"base64").toString("binary")),r=new Uint8Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var yh=function(e){v(n,e);var t=T(n);function n(){var e;return d(this,n),(e=t.call(this)).buffer="",e}return p(n,[{key:"push",value:function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),n}(vh),_h=String.fromCharCode(9),bh=function(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},kh=function(e){var t={};if(!e)return t;for(var n,r=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i=r.length;i--;)""!==r[i]&&((n=/([^=]*)=(.*)/.exec(r[i]).slice(1))[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),t[n[0]]=n[1]);return t},Th=function(e){v(n,e);var t=T(n);function n(){var e;return d(this,n),(e=t.call(this)).customParsers=[],e.tagMappers=[],e}return p(n,[{key:"push",value:function(e){var t,n,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var r=n(e);return r===e?t:t.concat([r])}),[e]).forEach((function(e){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void r.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void r.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(e))return n=mh(bh(t[1]),{type:"tag",tagType:"byterange"}),void r.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-MAP:(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var a=kh(t[1]);a.URI&&(n.uri=a.URI),a.BYTERANGE&&(n.byterange=bh(a.BYTERANGE))}r.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=kh(t[1]),n.attributes.RESOLUTION){var o=n.attributes.RESOLUTION.split("x"),s={};o[0]&&(s.width=parseInt(o[0],10)),o[1]&&(s.height=parseInt(o[1],10)),n.attributes.RESOLUTION=s}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=kh(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-KEY:(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=kh(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(t=/^#EXT-X-START:(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=kh(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-IN:(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if((t=/^#EXT-X-SKIP:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"skip"}).attributes=kh(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(_h)),void r.trigger("data",n);if((t=/^#EXT-X-PART:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part"}).attributes=kh(t[1]),["DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=bh(n.attributes.BYTERANGE)),void r.trigger("data",n);if((t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"server-control"}).attributes=kh(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),void r.trigger("data",n);if((t=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part-inf"}).attributes=kh(t[1]),["PART-TARGET"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),void r.trigger("data",n);if((t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"preload-hint"}).attributes=kh(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(n.attributes.hasOwnProperty(e)){n.attributes[e]=parseInt(n.attributes[e],10);var t="BYTERANGE-LENGTH"===e?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[t]=n.attributes[e],delete n.attributes[e]}})),void r.trigger("data",n);if((t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"rendition-report"}).attributes=kh(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseInt(n.attributes[e],10))})),void r.trigger("data",n);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))}},{key:"addParser",value:function(e){var t=this,n=e.expression,r=e.customType,i=e.dataParser,a=e.segment;"function"!==typeof i&&(i=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:i(e),customType:r,segment:a}),!0}))}},{key:"addTagMapper",value:function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))}}]),n}(vh),wh=function(e){var t={};return Object.keys(e).forEach((function(n){var r;t[(r=n,r.toLowerCase().replace(/-(\w)/g,(function(e){return e[1].toUpperCase()})))]=e[n]})),t},xh=function(e){var t=e.serverControl,n=e.targetDuration,r=e.partTargetDuration;if(t){var i="#EXT-X-SERVER-CONTROL",a="holdBack",o="partHoldBack",s=n&&3*n,u=r&&2*r;n&&!t.hasOwnProperty(a)&&(t[a]=s,this.trigger("info",{message:"".concat(i," defaulting HOLD-BACK to targetDuration * 3 (").concat(s,").")})),s&&t[a]<s&&(this.trigger("warn",{message:"".concat(i," clamping HOLD-BACK (").concat(t[a],") to targetDuration * 3 (").concat(s,")")}),t[a]=s),r&&!t.hasOwnProperty(o)&&(t[o]=3*r,this.trigger("info",{message:"".concat(i," defaulting PART-HOLD-BACK to partTargetDuration * 3 (").concat(t[o],").")})),r&&t[o]<u&&(this.trigger("warn",{message:"".concat(i," clamping PART-HOLD-BACK (").concat(t[o],") to partTargetDuration * 2 (").concat(u,").")}),t[o]=u)}},Sh=function(e){v(n,e);var t=T(n);function n(){var e;d(this,n),(e=t.call(this)).lineStream=new yh,e.parseStream=new Th,e.lineStream.pipe(e.parseStream);var r,i,a=b(e),o=[],s={},u=!1,l=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var f=0,p=0;return e.on("end",(function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&r&&(s.map=r),!s.key&&i&&(s.key=i),s.timeline||"number"!==typeof h||(s.timeline=h),e.manifest.preloadSegment=s)})),e.parseStream.on("data",(function(e){var t,n;({tag:function(){({version:function(){e.version&&(this.manifest.version=e.version)},"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(s.byterange=t,t.length=e.length,"offset"in e||(e.offset=f)),"offset"in e&&(s.byterange=t,t.offset=e.offset),f=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(s.duration=e.duration),0===e.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("com.microsoft.playready"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:e.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:gh(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},"undefined"!==typeof e.attributes.IV&&(i.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,h=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){r={},e.uri&&(r.uri=e.uri),e.byterange&&(r.byterange=e.byterange),i&&(r.key=i)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||c,e.attributes?(s.attributes||(s.attributes={}),mh(s.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var r=this.manifest.mediaGroups[e.attributes.TYPE];r[e.attributes["GROUP-ID"]]=r[e.attributes["GROUP-ID"]]||{},t=r[e.attributes["GROUP-ID"]],(n={default:/yes/i.test(e.attributes.DEFAULT)}).default?n.autoselect=!0:n.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(n.language=e.attributes.LANGUAGE),e.attributes.URI&&(n.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(n.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(n.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(n.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=n}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){h+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){"undefined"===typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),s.dateTimeString=e.dateTimeString,s.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,xh.call(this,this.manifest))},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){s.cueOut=e.data},"cue-out-cont":function(){s.cueOutCont=e.data},"cue-in":function(){s.cueIn=e.data},skip:function(){this.manifest.skip=wh(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part:function(){var t=this;u=!0;var n=this.manifest.segments.length,r=wh(e.attributes);s.parts=s.parts||[],s.parts.push(r),r.byterange&&(r.byterange.hasOwnProperty("offset")||(r.byterange.offset=p),p=r.byterange.offset+r.byterange.length);var i=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #".concat(i," for segment #").concat(n),e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((function(e,n){e.hasOwnProperty("lastPart")||t.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #".concat(n," lacks required attribute(s): LAST-PART")})}))},"server-control":function(){var t=this.manifest.serverControl=wh(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),xh.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var t=this.manifest.segments.length,n=wh(e.attributes),r=n.type&&"PART"===n.type;s.preloadHints=s.preloadHints||[],s.preloadHints.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=r?p:0,r&&(p=n.byterange.offset+n.byterange.length)));var i=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #".concat(i," for segment #").concat(t),e.attributes,["TYPE","URI"]),n.type)for(var a=0;a<s.preloadHints.length-1;a++){var o=s.preloadHints[a];o.type&&(o.type===n.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #".concat(i," for segment #").concat(t," has the same TYPE ").concat(n.type," as preload hint #").concat(a)}))}},"rendition-report":function(){var t=wh(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);var n=this.manifest.renditionReports.length-1,r=["LAST-MSN","URI"];u&&r.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #".concat(n),e.attributes,r)},"part-inf":function(){this.manifest.partInf=wh(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),xh.call(this,this.manifest)}}[e.tagType]||l).call(a)},uri:function(){s.uri=e.uri,o.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),i&&(s.key=i),s.timeline=h,r&&(s.map=r),p=0,s={}},comment:function(){},custom:function(){e.segment?(s.custom=s.custom||{},s.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(a)})),e}return p(n,[{key:"warnOnMissingAttributes_",value:function(e,t,n){var r=[];n.forEach((function(e){t.hasOwnProperty(e)||r.push(e)})),r.length&&this.trigger("warn",{message:"".concat(e," lacks required attribute(s): ").concat(r.join(", "))})}},{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n"),this.trigger("end")}},{key:"addParser",value:function(e){this.parseStream.addParser(e)}},{key:"addTagMapper",value:function(e){this.parseStream.addTagMapper(e)}}]),n}(vh),Eh={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Ch=["video","audio","text"],Ih=["Video","Audio","Text"],Ah=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},Ph=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach((function(e){var t;e=e.trim(),Ch.forEach((function(r){var i=Eh[r].exec(e.toLowerCase());if(i&&!(i.length<=1)){t=r;var a=e.substring(0,i[1].length),o=e.replace(a,"");n.push({type:a,details:o,mediaType:r})}})),t||n.push({type:e,details:"",mediaType:"unknown"})})),n},Oh=function(e){return void 0===e&&(e=""),Eh.audio.test(e.trim().toLowerCase())},Lh=function(e){if(e&&"string"===typeof e){var t,n=e.toLowerCase().split(",").map((function(e){return Ah(e.trim())})),r="video";1===n.length&&Oh(n[0])?r="audio":1===n.length&&(void 0===(t=n[0])&&(t=""),Eh.text.test(t.trim().toLowerCase()))&&(r="application");var i="mp4";return n.every((function(e){return Eh.mp4.test(e)}))?i="mp4":n.every((function(e){return Eh.webm.test(e)}))?i="webm":n.every((function(e){return Eh.ogg.test(e)}))&&(i="ogg"),r+"/"+i+';codecs="'+e+'"'}},Dh=function(e){return void 0===e&&(e=""),eh().MediaSource&&eh().MediaSource.isTypeSupported&&eh().MediaSource.isTypeSupported(Lh(e))||!1},Nh=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<Ih.length;t++){if(Eh["muxer"+Ih[t]].test(e))return!0}return!1}))},Mh="mp4a.40.2",Rh=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Uh=/^application\/dash\+xml/i,jh=function(e){return Rh.test(e)?"hls":Uh.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},Fh=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},Bh=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||Fh(e)||e instanceof ArrayBuffer||(e="number"!==typeof e||"number"===typeof e&&e!==e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},zh=eh().BigInt||Number,Vh=[zh("0x1"),zh("0x100"),zh("0x10000"),zh("0x1000000"),zh("0x100000000"),zh("0x10000000000"),zh("0x1000000000000"),zh("0x100000000000000"),zh("0x10000000000000000")],Hh=(function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}(),function(e,t){var n=void 0===t?{}:t,r=n.signed,i=void 0!==r&&r,a=n.le,o=void 0!==a&&a;e=Bh(e);var s=o?"reduce":"reduceRight",u=(e[s]?e[s]:Array.prototype[s]).call(e,(function(t,n,r){var i=o?r:Math.abs(r+1-e.length);return t+zh(n)*Vh[i]}),zh(0));if(i){var l=Vh[e.length]/zh(2)-zh(1);(u=zh(u))>l&&(u-=l,u-=l,u-=zh(2))}return Number(u)}),qh=function(e,t){var n=(void 0===t?{}:t).le,r=void 0!==n&&n;("bigint"!==typeof e&&"number"!==typeof e||"number"===typeof e&&e!==e)&&(e=0);for(var i=function(e){return Math.ceil(function(e){return e.toString(2).length}(e)/8)}(e=zh(e)),a=new Uint8Array(new ArrayBuffer(i)),o=0;o<i;o++){var s=r?o:Math.abs(o+1-a.length);a[s]=Number(e/Vh[o]&zh(255)),e<0&&(a[s]=Math.abs(~a[s]),a[s]-=0===o?1:2)}return a},Wh=function(e,t){if("string"!==typeof e&&e&&"function"===typeof e.toString&&(e=e.toString()),"string"!==typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},Gh=function(e,t,n){var r=void 0===n?{}:n,i=r.offset,a=void 0===i?0:i,o=r.mask,s=void 0===o?[]:o;e=Bh(e);var u=(t=Bh(t)).every?t.every:Array.prototype.every;return t.length&&e.length-a>=t.length&&u.call(t,(function(t,n){return t===(s[n]?s[n]&e[a+n]:e[a+n])}))},Kh="http://example.com",Qh=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=eh().location&&eh().location.href||"");var n="function"===typeof eh().URL,r=/^\/\//.test(e),i=!eh().location&&!/\/\//i.test(e);if(n?e=new(eh().URL)(e,eh().location||Kh):/\/\//i.test(e)||(e=dh().buildAbsoluteURL(eh().location&&eh().location.href||"",e)),n){var a=new URL(t,e);return i?a.href.slice(Kh.length):r?a.href.slice(a.protocol.length):a.href}return dh().buildAbsoluteURL(e,t)};function Xh(e){for(var t,n=(t=e,eh().atob?eh().atob(t):Buffer.from(t,"base64").toString("binary")),r=new Uint8Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Zh,Yh=n(542),Jh=function(e){return!!e&&"object"===typeof e},$h=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return"object"!==typeof n||Object.keys(n).forEach((function(r){Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):Jh(t[r])&&Jh(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r]})),t}),{})},ed=function(e){return Object.keys(e).map((function(t){return e[t]}))},td=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},nd=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},rd="INVALID_NUMBER_OF_PERIOD",id="DASH_EMPTY_MANIFEST",ad="DASH_INVALID_XML",od="NO_BASE_URL",sd="SEGMENT_TIME_UNSPECIFIED",ud="UNSUPPORTED_UTC_TIMING_SCHEME",ld=function(e){var t=e.baseUrl,n=void 0===t?"":t,r=e.source,i=void 0===r?"":r,a=e.range,o=void 0===a?"":a,s=e.indexRange,u=void 0===s?"":s,l={uri:i,resolvedUri:Qh(n||"",i)};if(o||u){var c,h=(o||u).split("-"),d=eh().BigInt?eh().BigInt(h[0]):parseInt(h[0],10),f=eh().BigInt?eh().BigInt(h[1]):parseInt(h[1],10);d<Number.MAX_SAFE_INTEGER&&"bigint"===typeof d&&(d=Number(d)),f<Number.MAX_SAFE_INTEGER&&"bigint"===typeof f&&(f=Number(f)),"bigint"===typeof(c="bigint"===typeof f||"bigint"===typeof d?eh().BigInt(f)-eh().BigInt(d)+eh().BigInt(1):f-d+1)&&c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),l.byterange={length:c,offset:d}}return l},cd=function(e){return e&&"number"!==typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e},hd={static:function(e){var t=e.duration,n=e.timescale,r=void 0===n?1:n,i=e.sourceDuration,a=e.periodDuration,o=cd(e.endNumber),s=t/r;return"number"===typeof o?{start:0,end:o}:"number"===typeof a?{start:0,end:a/s}:{start:0,end:i/s}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,i=e.timescale,a=void 0===i?1:i,o=e.duration,s=e.periodStart,u=void 0===s?0:s,l=e.minimumUpdatePeriod,c=void 0===l?0:l,h=e.timeShiftBufferDepth,d=void 0===h?1/0:h,f=cd(e.endNumber),p=(t+n)/1e3,m=r+u,v=p+c-m,g=Math.ceil(v*a/o),y=Math.floor((p-m-d)*a/o),_=Math.floor((p-m)*a/o);return{start:Math.max(0,y),end:"number"===typeof f?f:Math.min(g,_)}}},dd=function(e){var t=e.type,n=e.duration,r=e.timescale,i=void 0===r?1:r,a=e.periodDuration,o=e.sourceDuration,s=hd[t](e),u=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(s.start,s.end).map(function(e){return function(t){var n=e.duration,r=e.timescale,i=void 0===r?1:r,a=e.periodStart,o=e.startNumber;return{number:(void 0===o?1:o)+t,duration:n/i,timeline:a,time:t*n}}}(e));if("static"===t){var l=u.length-1,c="number"===typeof a?a:o;u[l].duration=c-n/i*l}return u},fd=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,i=e.sourceDuration,a=e.indexRange,o=void 0===a?"":a,s=e.periodStart,u=e.presentationTime,l=e.number,c=void 0===l?0:l,h=e.duration;if(!t)throw new Error(od);var d=ld({baseUrl:t,source:r.sourceURL,range:r.range}),f=ld({baseUrl:t,source:t,indexRange:o});if(f.map=d,h){var p=dd(e);p.length&&(f.duration=p[0].duration,f.timeline=p[0].timeline)}else i&&(f.duration=i,f.timeline=s);return f.presentationTime=u||s,f.number=c,[f]},pd=function(e,t,n){var r,i=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,o=e.timeline||0,s=e.sidx.byterange,u=s.offset+s.length,l=t.timescale,c=t.references.filter((function(e){return 1!==e.referenceType})),h=[],d=e.endList?"static":"dynamic",f=e.sidx.timeline,p=f,m=e.mediaSequence||0;r="bigint"===typeof t.firstOffset?eh().BigInt(u)+t.firstOffset:u+t.firstOffset;for(var v=0;v<c.length;v++){var g=t.references[v],y=g.referencedSize,_=g.subsegmentDuration,b=void 0;b="bigint"===typeof r?r+eh().BigInt(y)-eh().BigInt(1):r+y-1;var k="".concat(r,"-").concat(b),T=fd({baseUrl:n,timescale:l,timeline:o,periodStart:f,presentationTime:p,number:m,duration:_,sourceDuration:a,indexRange:k,type:d})[0];i&&(T.map=i),h.push(T),r+="bigint"===typeof r?eh().BigInt(y):y,p+=_/l,m++}return e.segments=h,e},md=["AUDIO","SUBTITLES"],vd=function(e){return(t=e,n=function(e){return e.timeline},ed(t.reduce((function(e,t){return t.forEach((function(t){e[n(t)]=t})),e}),{}))).sort((function(e,t){return e.timeline>t.timeline?1:-1}));var t,n},gd=function(e){var t,n,r=[];return t=e,n=function(e,t,n,i){r=r.concat(e.playlists||[])},md.forEach((function(e){for(var r in t.mediaGroups[e])for(var i in t.mediaGroups[e][r]){var a=t.mediaGroups[e][r][i];n(a,e,r,i)}})),r},yd=function(e){var t=e.playlist,n=e.mediaSequence;t.mediaSequence=n,t.segments.forEach((function(e,n){e.number=t.mediaSequence+n}))},_d=function(e){var t=e.oldManifest,n=e.newManifest,r=t.playlists.concat(gd(t)),i=n.playlists.concat(gd(n));return n.timelineStarts=vd([t.timelineStarts,n.timelineStarts]),function(e){var t=e.oldPlaylists,n=e.newPlaylists,r=e.timelineStarts;n.forEach((function(e){e.discontinuitySequence=r.findIndex((function(t){return t.timeline===e.timeline}));var n=function(e,t){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null}(t,e.attributes.NAME);if(n&&!e.sidx){var i=e.segments[0],a=n.segments.findIndex((function(e){return Math.abs(e.presentationTime-i.presentationTime)<.016666666666666666}));if(-1===a)return yd({playlist:e,mediaSequence:n.mediaSequence+n.segments.length}),e.segments[0].discontinuity=!0,e.discontinuityStarts.unshift(0),void((!n.segments.length&&e.timeline>n.timeline||n.segments.length&&e.timeline>n.segments[n.segments.length-1].timeline)&&e.discontinuitySequence--);n.segments[a].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,e.discontinuityStarts.unshift(0),e.discontinuitySequence--),yd({playlist:e,mediaSequence:n.segments[a].number})}}))}({oldPlaylists:r,newPlaylists:i,timelineStarts:n.timelineStarts}),n},bd=function(e){return e&&e.uri+"-"+function(e){var t;return t="bigint"===typeof e.offset||"bigint"===typeof e.length?eh().BigInt(e.offset)+eh().BigInt(e.length)-eh().BigInt(1):e.offset+e.length-1,"".concat(e.offset,"-").concat(t)}(e.byterange)},kd=function(e){return ed(e.reduce((function(e,t){var n=t.attributes.id+(t.attributes.lang||"");if(e[n]){var r;if(t.segments)t.segments[0]&&(t.segments[0].discontinuity=!0),(r=e[n].segments).push.apply(r,h(t.segments));t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)}else e[n]=t,e[n].attributes.timelineStarts=[];return e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{})).map((function(e){return e.discontinuityStarts=function(e,t){return e.reduce((function(e,n,r){return n[t]&&e.push(r),e}),[])}(e.segments||[],"discontinuity"),e}))},Td=function(e,t){var n=bd(e.sidx),r=n&&t[n]&&t[n].sidx;return r&&pd(e,r,e.sidx.resolvedUri),e},wd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object.keys(t).length)return e;for(var n in e)e[n]=Td(e[n],t);return e},xd=function(e,t){var n=e.attributes,r=e.segments,i=e.sidx,a=e.mediaSequence,o=e.discontinuitySequence,s=e.discontinuityStarts,u={attributes:ic({NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},"PROGRAM-ID",1),uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuitySequence:o,discontinuityStarts:s,timelineStarts:n.timelineStarts,mediaSequence:a,segments:r};return n.contentProtection&&(u.contentProtection=n.contentProtection),i&&(u.sidx=i),t&&(u.attributes.AUDIO="audio",u.attributes.SUBTITLES="subs"),u},Sd=function(e){var t=e.attributes,n=e.segments,r=e.mediaSequence,i=e.discontinuityStarts,a=e.discontinuitySequence;"undefined"===typeof n&&(n=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);var o=ic({NAME:t.id,BANDWIDTH:t.bandwidth},"PROGRAM-ID",1);return t.codecs&&(o.CODECS=t.codecs),{attributes:o,uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:i,discontinuitySequence:a,mediaSequence:r,segments:n}},Ed=function(e){var t=e.attributes,n=e.segments,r=e.sidx,i=e.discontinuityStarts,a={attributes:ic({NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth},"PROGRAM-ID",1),uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuityStarts:i,timelineStarts:t.timelineStarts,segments:n};return t.frameRate&&(a.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(a.contentProtection=t.contentProtection),r&&(a.sidx=r),a},Cd=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},Id=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},Ad=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},Pd=function(e){return e?Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(r.playlists)}),[]):[]},Od=function(e){var t,n=e.dashPlaylists,r=e.locations,i=e.sidxMapping,a=void 0===i?{}:i,o=e.previousManifest,s=e.eventStream;if(!n.length)return{};var u=n[0].attributes,l=u.sourceDuration,c=u.type,h=u.suggestedPresentationDelay,d=u.minimumUpdatePeriod,f=kd(n.filter(Cd)).map(Ed),p=kd(n.filter(Id)),m=kd(n.filter(Ad)),v=n.map((function(e){return e.attributes.captionServices})).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},ic(t,"CLOSED-CAPTIONS",{}),ic(t,"SUBTITLES",{}),t),uri:"",duration:l,playlists:wd(f,a)};d>=0&&(g.minimumUpdatePeriod=1e3*d),r&&(g.locations=r),"dynamic"===c&&(g.suggestedPresentationDelay=h),s&&s.length>0&&(g.eventStream=s);var y,_,b=0===g.playlists.length,k=p.length?function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.reduce((function(e,i){var a=i.attributes.role&&i.attributes.role.value||"",o=i.attributes.lang||"",s=i.attributes.label||"main";if(o&&!i.attributes.label){var u=a?" (".concat(a,")"):"";s="".concat(i.attributes.lang).concat(u)}e[s]||(e[s]={language:o,autoselect:!0,default:"main"===a,playlists:[],uri:""});var l=Td(xd(i,r),n);return e[s].playlists.push(l),"undefined"===typeof t&&"main"===a&&((t=i).default=!0),e}),{});if(!t){i[Object.keys(i)[0]].default=!0}return i}(p,a,b):null,T=m.length?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce((function(e,n){var r=n.attributes.label||n.attributes.lang||"text";return e[r]||(e[r]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),e[r].playlists.push(Td(Sd(n),t)),e}),{})}(m,a):null,w=f.concat(Pd(k),Pd(T)),x=w.map((function(e){return e.timelineStarts}));return g.timelineStarts=vd(x),y=w,_=g.timelineStarts,y.forEach((function(e){e.mediaSequence=0,e.discontinuitySequence=_.findIndex((function(t){return t.timeline===e.timeline})),e.segments&&e.segments.forEach((function(e,t){e.number=t}))})),k&&(g.mediaGroups.AUDIO.audio=k),T&&(g.mediaGroups.SUBTITLES.subs=T),v.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=v.reduce((function(e,t){return t?(t.forEach((function(t){var n=t.channel,r=t.language;e[r]={autoselect:!1,default:!1,instreamId:n,language:r},t.hasOwnProperty("aspectRatio")&&(e[r].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[r].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[r]["3D"]=t["3D"])})),e):e}),{})),o?_d({oldManifest:o,newManifest:g}):g},Ld=function(e,t,n){var r=e.NOW,i=e.clientOffset,a=e.availabilityStartTime,o=e.timescale,s=void 0===o?1:o,u=e.periodStart,l=void 0===u?0:u,c=e.minimumUpdatePeriod,h=(r+i)/1e3+(void 0===c?0:c)-(a+l);return Math.ceil((h*s-t)/n)},Dd=function(e,t){for(var n=e.type,r=e.minimumUpdatePeriod,i=void 0===r?0:r,a=e.media,o=void 0===a?"":a,s=e.sourceDuration,u=e.timescale,l=void 0===u?1:u,c=e.startNumber,h=void 0===c?1:c,d=e.periodStart,f=[],p=-1,m=0;m<t.length;m++){var v=t[m],g=v.d,y=v.r||0,_=v.t||0;p<0&&(p=_),_&&_>p&&(p=_);var b=void 0;if(y<0){var k=m+1;b=k===t.length?"dynamic"===n&&i>0&&o.indexOf("$Number$")>0?Ld(e,p,g):(s*l-p)/g:(t[k].t-p)/g}else b=y+1;for(var T=h+f.length+b,w=h+f.length;w<T;)f.push({number:w,duration:g/l,time:p,timeline:d}),p+=g,w++}return f},Nd=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Md=function(e,t){return e.replace(Nd,function(e){return function(t,n,r,i){if("$$"===t)return"$";if("undefined"===typeof e[n])return t;var a=""+e[n];return"RepresentationID"===n?a:(i=r?parseInt(i,10):1,a.length>=i?a:"".concat(new Array(i-a.length+1).join("0")).concat(a))}}(t))},Rd=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,i=void 0===r?{sourceURL:"",range:""}:r,a=ld({baseUrl:e.baseUrl,source:Md(i.sourceURL,n),range:i.range}),o=function(e,t){return e.duration||t?e.duration?dd(e):Dd(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]}(e,t);return o.map((function(t){n.Number=t.number,n.Time=t.time;var r=Md(e.media||"",n),i=e.timescale||1,o=e.presentationTimeOffset||0,s=e.periodStart+(t.time-o)/i;return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:Qh(e.baseUrl||"",r),map:a,number:t.number,presentationTime:s}}))},Ud=function(e,t){var n=e.duration,r=e.segmentUrls,i=void 0===r?[]:r,a=e.periodStart;if(!n&&!t||n&&t)throw new Error(sd);var o,s=i.map((function(t){return function(e,t){var n=e.baseUrl,r=e.initialization,i=void 0===r?{}:r,a=ld({baseUrl:n,source:i.sourceURL,range:i.range}),o=ld({baseUrl:n,source:t.media,range:t.mediaRange});return o.map=a,o}(e,t)}));return n&&(o=dd(e)),t&&(o=Dd(e,t)),o.map((function(t,n){if(s[n]){var r=s[n],i=e.timescale||1,o=e.presentationTimeOffset||0;return r.timeline=t.timeline,r.duration=t.duration,r.number=t.number,r.presentationTime=a+(t.time-o)/i,r}})).filter((function(e){return e}))},jd=function(e){var t,n,r=e.attributes,i=e.segmentInfo;i.template?(n=Rd,t=$h(r,i.template)):i.base?(n=fd,t=$h(r,i.base)):i.list&&(n=Ud,t=$h(r,i.list));var a={attributes:r};if(!n)return a;var o=n(t,i.segmentTimeline);if(t.duration){var s=t,u=s.duration,l=s.timescale,c=void 0===l?1:l;t.duration=u/c}else o.length?t.duration=o.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return a.attributes=t,a.segments=o,i.base&&t.indexRange&&(a.sidx=o[0],a.segments=[]),a},Fd=function(e){return e.map(jd)},Bd=function(e,t){return nd(e.childNodes).filter((function(e){return e.tagName===t}))},zd=function(e){return e.textContent.trim()},Vd=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=l(t.slice(1),6),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(i||0)+86400*parseFloat(a||0)+3600*parseFloat(o||0)+60*parseFloat(s||0)+parseFloat(u||0)},Hd={mediaPresentationDuration:function(e){return Vd(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return Vd(e)},suggestedPresentationDelay:function(e){return Vd(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Vd(e)},start:function(e){return Vd(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return function(e){return parseFloat(e.split("/").reduce((function(e,t){return e/t})))}(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?Vd(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},presentationTime:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},qd=function(e){return e&&e.attributes?nd(e.attributes).reduce((function(e,t){var n=Hd[t.name]||Hd.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},Wd={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Gd=function(e,t){return t.length?td(e.map((function(e){return t.map((function(t){return Qh(e,zd(t))}))}))):e},Kd=function(e){var t=Bd(e,"SegmentTemplate")[0],n=Bd(e,"SegmentList")[0],r=n&&Bd(n,"SegmentURL").map((function(e){return $h({tag:"SegmentURL"},qd(e))})),i=Bd(e,"SegmentBase")[0],a=n||t,o=a&&Bd(a,"SegmentTimeline")[0],s=n||i||t,u=s&&Bd(s,"Initialization")[0],l=t&&qd(t);l&&u?l.initialization=u&&qd(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,segmentTimeline:o&&Bd(o,"S").map((function(e){return qd(e)})),list:n&&$h(qd(n),{segmentUrls:r,initialization:qd(u)}),base:i&&$h(qd(i),{initialization:qd(u)})};return Object.keys(c).forEach((function(e){c[e]||delete c[e]})),c},Qd=function(e){return td(Bd(e.node,"EventStream").map((function(t){var n=qd(t),r=n.schemeIdUri;return Bd(t,"Event").map((function(t){var i=qd(t),a=i.presentationTime||0,o=n.timescale||1,s=i.duration||0,u=a/o+e.attributes.start;return{schemeIdUri:r,value:n.value,id:i.id,start:u,end:u+s/o,messageData:zd(t)||i.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}}))})))},Xd=function(e,t,n){return function(r){var i,a=qd(r),o=Gd(t,Bd(r,"BaseURL")),s=Bd(r,"Role")[0],u={role:qd(s)},c=$h(e,a,u),h=Bd(r,"Accessibility")[0],d="urn:scte:dash:cc:cea-608:2015"===(i=qd(h)).schemeIdUri?("string"!==typeof i.value?[]:i.value.split(";")).map((function(e){var t,n;if(n=e,/^CC\d=/.test(e)){var r=l(e.split("="),2);t=r[0],n=r[1]}else/^CC\d$/.test(e)&&(t=e);return{channel:t,language:n}})):"urn:scte:dash:cc:cea-708:2015"===i.schemeIdUri?("string"!==typeof i.value?[]:i.value.split(";")).map((function(e){var t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){var n=l(e.split("="),2),r=n[0],i=n[1],a=void 0===i?"":i;t.channel=r,t.language=e,a.split(",").forEach((function(e){var n=l(e.split(":"),2),r=n[0],i=n[1];"lang"===r?t.language=i:"er"===r?t.easyReader=Number(i):"war"===r?t.aspectRatio=Number(i):"3D"===r&&(t["3D"]=Number(i))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t})):void 0;d&&(c=$h(c,{captionServices:d}));var f=Bd(r,"Label")[0];if(f&&f.childNodes.length){var p=f.childNodes[0].nodeValue.trim();c=$h(c,{label:p})}var m=Bd(r,"ContentProtection").reduce((function(e,t){var n=qd(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var r=Wd[n.schemeIdUri];if(r){e[r]={attributes:n};var i=Bd(t,"cenc:pssh")[0];if(i){var a=zd(i);e[r].pssh=a&&Xh(a)}}return e}),{});Object.keys(m).length&&(c=$h(c,{contentProtection:m}));var v=Kd(r),g=Bd(r,"Representation"),y=$h(n,v);return td(g.map(function(e,t,n){return function(r){var i=Bd(r,"BaseURL"),a=Gd(t,i),o=$h(e,qd(r)),s=Kd(r);return a.map((function(e){return{segmentInfo:$h(n,s),attributes:$h(o,{baseUrl:e})}}))}}(c,o,y)))}},Zd=function(e,t){return function(n,r){var i=Gd(t,Bd(n.node,"BaseURL")),a=$h(e,{periodStart:n.attributes.start});"number"===typeof n.attributes.duration&&(a.periodDuration=n.attributes.duration);var o=Bd(n.node,"AdaptationSet"),s=Kd(n.node);return td(o.map(Xd(a,i,s)))}},Yd=function(e){var t=e.attributes,n=e.priorPeriodAttributes,r=e.mpdType;return"number"===typeof t.start?t.start:n&&"number"===typeof n.start&&"number"===typeof n.duration?n.start+n.duration:n||"static"!==r?null:0},Jd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.manifestUri,r=void 0===n?"":n,i=t.NOW,a=void 0===i?Date.now():i,o=t.clientOffset,s=void 0===o?0:o,u=Bd(e,"Period");if(!u.length)throw new Error(rd);var l=Bd(e,"Location"),c=qd(e),h=Gd([r],Bd(e,"BaseURL"));c.type=c.type||"static",c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=a,c.clientOffset=s,l.length&&(c.locations=l.map(zd));var d=[];return u.forEach((function(e,t){var n=qd(e),r=d[t-1];n.start=Yd({attributes:n,priorPeriodAttributes:r?r.attributes:null,mpdType:c.type}),d.push({node:e,attributes:n})})),{locations:c.locations,representationInfo:td(d.map(Zd(c,h))),eventStream:td(d.map(Qd))}},$d=function(e){if(""===e)throw new Error(id);var t,n,r=new Yh.DOMParser;try{n=(t=r.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(iV){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(ad);return n},ef=function(e){return function(e){var t=Bd(e,"UTCTiming")[0];if(!t)return null;var n=qd(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error(ud)}return n}($d(e))},tf=n(857),nf=n.n(tf),rf=Bh([73,68,51]),af=function e(t,n){return void 0===n&&(n=0),(t=Bh(t)).length-n<10||!Gh(t,rf,{offset:n})?n:(n+=function(e,t){void 0===t&&(t=0);var n=(e=Bh(e))[t+5],r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?r+20:r+10}(t,n),e(t,n))},of=(new Uint8Array([79,112,117,115,72,101,97,100]),function(e){return"string"===typeof e?Wh(e):e}),sf=function(e){e=Bh(e);for(var t=[],n=0;e.length>n;){var r=e[n],i=0,a=0,o=e[++a];for(a++;128&o;)i=(127&o)<<7,o=e[a],a++;i+=127&o;for(var s=0;s<Zh.length;s++){var u=Zh[s],l=u.id,c=u.parser;if(r===l){t.push(c(e.subarray(a,a+i)));break}}n+=i+a}return t};Zh=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&t.flags&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),64&t.flags){var n=e[t.size];t.url=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,Bh(e));try{return decodeURIComponent(escape(t))}catch(iV){}return t}(e.subarray(t.size+1,t.size+1+n)),t.size+=n}return 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=sf(e.subarray(t.size))||[],t}},{id:4,parser:function(e){return{tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:sf(e.subarray(13))}}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var uf=function e(t,n,r){void 0===r&&(r=!1),n=function(e){return Array.isArray(e)?e.map((function(e){return of(e)})):[of(e)]}(n),t=Bh(t);var i=[];if(!n.length)return i;for(var a=0;a<t.length;){var o=(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3])>>>0,s=t.subarray(a+4,a+8);if(0===o)break;var u=a+o;if(u>t.length){if(r)break;u=t.length}var l=t.subarray(a+8,u);Gh(s,n[0])&&(1===n.length?i.push(l):i.push.apply(i,e(l,n.slice(1),r))),a=u}return i},lf={EBML:Bh([26,69,223,163]),DocType:Bh([66,130]),Segment:Bh([24,83,128,103]),SegmentInfo:Bh([21,73,169,102]),Tracks:Bh([22,84,174,107]),Track:Bh([174]),TrackNumber:Bh([215]),DefaultDuration:Bh([35,227,131]),TrackEntry:Bh([174]),TrackType:Bh([131]),FlagDefault:Bh([136]),CodecID:Bh([134]),CodecPrivate:Bh([99,162]),VideoTrack:Bh([224]),AudioTrack:Bh([225]),Cluster:Bh([31,67,182,117]),Timestamp:Bh([231]),TimestampScale:Bh([42,215,177]),BlockGroup:Bh([160]),BlockDuration:Bh([155]),Block:Bh([161]),SimpleBlock:Bh([163])},cf=[128,64,32,16,8,4,2,1],hf=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1);var i=function(e){for(var t=1,n=0;n<cf.length&&!(e&cf[n]);n++)t++;return t}(e[t]),a=e.subarray(t,t+i);return n&&((a=Array.prototype.slice.call(e,t,t+i))[0]^=cf[i-1]),{length:i,value:Hh(a,{signed:r}),bytes:a}},df=function e(t){return"string"===typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"===typeof t?qh(t):t},ff=function e(t,n,r){if(r>=n.length)return n.length;var i=hf(n,r,!1);if(Gh(t.bytes,i.bytes))return r;var a=hf(n,r+i.length);return e(t,n,r+a.length+a.value+i.length)},pf=function e(t,n){n=function(e){return Array.isArray(e)?e.map((function(e){return df(e)})):[df(e)]}(n),t=Bh(t);var r=[];if(!n.length)return r;for(var i=0;i<t.length;){var a=hf(t,i,!1),o=hf(t,i+a.length),s=i+a.length+o.length;127===o.value&&(o.value=ff(a,t,s),o.value!==t.length&&(o.value-=s));var u=s+o.value>t.length?t.length:s+o.value,l=t.subarray(s,u);Gh(n[0],a.bytes)&&(1===n.length?r.push(l):r=r.concat(e(l,n.slice(1)))),i+=a.length+o.length+l.length}return r},mf=Bh([0,0,0,1]),vf=Bh([0,0,1]),gf=Bh([0,0,3]),yf=function(e){for(var t=[],n=1;n<e.length-2;)Gh(e.subarray(n,n+3),gf)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var r=e.length-t.length,i=new Uint8Array(r),a=0;for(n=0;n<r;a++,n++)a===t[0]&&(a++,t.shift()),i[n]=e[a];return i},_f=function(e,t,n,r){void 0===r&&(r=1/0),e=Bh(e),n=[].concat(n);for(var i,a=0,o=0;a<e.length&&(o<r||i);){var s=void 0;if(Gh(e.subarray(a),mf)?s=4:Gh(e.subarray(a),vf)&&(s=3),s){if(o++,i)return yf(e.subarray(i,a));var u=void 0;"h264"===t?u=31&e[a+s]:"h265"===t&&(u=e[a+s]>>1&63),-1!==n.indexOf(u)&&(i=a+s),a+=s+("h264"===t?1:2)}else a++}return e.subarray(0,0)},bf={webm:Bh([119,101,98,109]),matroska:Bh([109,97,116,114,111,115,107,97]),flac:Bh([102,76,97,67]),ogg:Bh([79,103,103,83]),ac3:Bh([11,119]),riff:Bh([82,73,70,70]),avi:Bh([65,86,73]),wav:Bh([87,65,86,69]),"3gp":Bh([102,116,121,112,51,103]),mp4:Bh([102,116,121,112]),fmp4:Bh([115,116,121,112]),mov:Bh([102,116,121,112,113,116]),moov:Bh([109,111,111,118]),moof:Bh([109,111,111,102])},kf={aac:function(e){var t=af(e);return Gh(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=af(e);return Gh(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=pf(e,[lf.EBML,lf.DocType])[0];return Gh(t,bf.webm)},mkv:function(e){var t=pf(e,[lf.EBML,lf.DocType])[0];return Gh(t,bf.matroska)},mp4:function(e){return!kf["3gp"](e)&&!kf.mov(e)&&(!(!Gh(e,bf.mp4,{offset:4})&&!Gh(e,bf.fmp4,{offset:4}))||(!(!Gh(e,bf.moof,{offset:4})&&!Gh(e,bf.moov,{offset:4}))||void 0))},mov:function(e){return Gh(e,bf.mov,{offset:4})},"3gp":function(e){return Gh(e,bf["3gp"],{offset:4})},ac3:function(e){var t=af(e);return Gh(e,bf.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=af(e);return Gh(e,bf.flac,{offset:t})},ogg:function(e){return Gh(e,bf.ogg)},avi:function(e){return Gh(e,bf.riff)&&Gh(e,bf.avi,{offset:8})},wav:function(e){return Gh(e,bf.riff)&&Gh(e,bf.wav,{offset:8})},h264:function(e){return function(e,t,n){return _f(e,"h264",t,n)}(e,7,3).length},h265:function(e){return function(e,t,n){return _f(e,"h265",t,n)}(e,[32,33],3).length}},Tf=Object.keys(kf).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);Tf.forEach((function(e){var t=kf[e];kf[e]=function(e){return t(Bh(e))}}));for(var wf,xf=kf,Sf=function(e){e=Bh(e);for(var t=0;t<Tf.length;t++){var n=Tf[t];if(xf[n](e))return n}return""},Ef=n(474),Cf="8.0.4",If={},Af=function(e,t){return If[e]=If[e]||[],t&&(If[e]=If[e].concat(t)),If[e]},Pf=function(e,t){var n=Af(e).indexOf(t);return!(n<=-1)&&(If[e]=If[e].slice(),If[e].splice(n,1),!0)},Of={prefixed:!0},Lf=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Df=Lf[0],Nf=0;Nf<Lf.length;Nf++)if(Lf[Nf][1]in nh()){wf=Lf[Nf];break}if(wf){for(var Mf=0;Mf<wf.length;Mf++)Of[Df[Mf]]=wf[Mf];Of.prefixed=wf[0]!==Df[0]}var Rf=[];var Uf=function e(t){var n,r="info",i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n("log",r,t)};return n=function(e,t){return function(n,r,i){var a=t.levels[r],o=new RegExp("^(".concat(a,")$"));if("log"!==n&&i.unshift(n.toUpperCase()+":"),i.unshift(e+":"),Rf){Rf.push([].concat(i));var s=Rf.length-1e3;Rf.splice(0,s>0?s:0)}if(eh().console){var u=eh().console[n];u||"debug"!==n||(u=eh().console.info||eh().console.log),u&&a&&o.test(n)&&u[Array.isArray(i)?"apply":"call"](eh().console,i)}}}(t,i),i.createLogger=function(n){return e(t+": "+n)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},i.level=function(e){if("string"===typeof e){if(!i.levels.hasOwnProperty(e))throw new Error('"'.concat(e,'" in not a valid log level'));r=e}return r},(i.history=function(){return Rf?[].concat(Rf):[]}).filter=function(e){return(Rf||[]).filter((function(t){return new RegExp(".*".concat(e,".*")).test(t[0])}))},i.history.clear=function(){Rf&&(Rf.length=0)},i.history.disable=function(){null!==Rf&&(Rf.length=0,Rf=null)},i.history.enable=function(){null===Rf&&(Rf=[])},i.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("error",r,t)},i.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("warn",r,t)},i.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("debug",r,t)},i}("VIDEOJS"),jf=Uf.createLogger,Ff=Object.prototype.toString,Bf=function(e){return Hf(e)?Object.keys(e):[]};function zf(e,t){Bf(e).forEach((function(n){return t(e[n],n)}))}function Vf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Bf(e).reduce((function(n,r){return t(n,e[r],r)}),n)}function Hf(e){return!!e&&"object"===typeof e}function qf(e){return Hf(e)&&"[object Object]"===Ff.call(e)&&e.constructor===Object}function Wf(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&zf(t,(function(t,n){qf(t)?(qf(e[n])||(e[n]={}),e[n]=Wf(e[n],t)):e[n]=t}))})),e}function Gf(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=function(n){return Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var e=n();return i(e),e}};return r&&(a.set=i),Object.defineProperty(e,t,a)}var Kf,Qf=Object.freeze({__proto__:null,each:zf,reduce:Vf,isObject:Hf,isPlain:qf,merge:Wf,defineLazyProperty:Gf}),Xf=!1,Zf=null,Yf=!1,Jf=!1,$f=!1,ep=!1,tp=!1,np=null,rp=null,ip=null,ap=!1,op=!1,sp=!1,up=!1,lp=Boolean(vp()&&("ontouchstart"in eh()||eh().navigator.maxTouchPoints||eh().DocumentTouch&&eh().document instanceof eh().DocumentTouch)),cp=eh().navigator&&eh().navigator.userAgentData;if(cp&&(Yf="Android"===cp.platform,$f=Boolean(cp.brands.find((function(e){return"Microsoft Edge"===e.brand}))),ep=Boolean(cp.brands.find((function(e){return"Chromium"===e.brand}))),tp=!$f&&ep,np=rp=(cp.brands.find((function(e){return"Chromium"===e.brand}))||{}).version||null,op="Windows"===cp.platform),!ep){var hp=eh().navigator&&eh().navigator.userAgent||"";Xf=/iPod/i.test(hp),Zf=function(){var e=hp.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Yf=/Android/i.test(hp),Kf=function(){var e=hp.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),Jf=/Firefox/i.test(hp),$f=/Edg/i.test(hp),ep=/Chrome/i.test(hp)||/CriOS/i.test(hp),tp=!$f&&ep,np=rp=function(){var e=hp.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),ip=function(){var e=/MSIE\s(\d+)\.\d/.exec(hp),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(hp)&&/rv:11.0/.test(hp)&&(t=11),t}(),ap=/Safari/i.test(hp)&&!tp&&!Yf&&!$f,op=/Windows/i.test(hp),sp=/iPad/i.test(hp)||ap&&lp&&!/iPhone/i.test(hp),up=/iPhone/i.test(hp)&&!sp}var dp=up||sp||Xf,fp=(ap||dp)&&!tp,pp=Object.freeze({__proto__:null,get IS_IPOD(){return Xf},get IOS_VERSION(){return Zf},get IS_ANDROID(){return Yf},get ANDROID_VERSION(){return Kf},get IS_FIREFOX(){return Jf},get IS_EDGE(){return $f},get IS_CHROMIUM(){return ep},get IS_CHROME(){return tp},get CHROMIUM_VERSION(){return np},get CHROME_VERSION(){return rp},get IE_VERSION(){return ip},get IS_SAFARI(){return ap},get IS_WINDOWS(){return op},get IS_IPAD(){return sp},get IS_IPHONE(){return up},TOUCH_ENABLED:lp,IS_IOS:dp,IS_ANY_SAFARI:fp});function mp(e){return"string"===typeof e&&Boolean(e.trim())}function vp(){return nh()===eh().document}function gp(e){return Hf(e)&&1===e.nodeType}function yp(){try{return eh().parent!==eh().self}catch(Ex){return!0}}function _p(e){return function(t,n){if(!mp(t))return nh()[e](null);mp(n)&&(n=nh().querySelector(n));var r=gp(n)?n:nh();return r[e]&&r[e](t)}}function bp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=nh().createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];"textContent"===e?kp(i,n):i[e]===n&&"tabIndex"!==e||(i[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){i.setAttribute(e,n[e])})),r&&Bp(i,r),i}function kp(e,t){return"undefined"===typeof e.textContent?e.innerText=t:e.textContent=t,e}function Tp(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function wp(e,t){return function(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}(t),e.classList.contains(t)}function xp(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=e.classList).add.apply(t,h(r.reduce((function(e,t){return e.concat(t.split(/\s+/))}),[]))),e}function Sp(e){var t;if(!e)return Uf.warn("removeClass was called with an element that doesn't exist"),null;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=e.classList).remove.apply(t,h(r.reduce((function(e,t){return e.concat(t.split(/\s+/))}),[]))),e}function Ep(e,t,n){return"function"===typeof n&&(n=n(e,t)),"boolean"!==typeof n&&(n=void 0),t.split(/\s+/).forEach((function(t){return e.classList.toggle(t,n)})),e}function Cp(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var r=t[n];null===r||"undefined"===typeof r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)}))}function Ip(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var a=r[i].name,o=r[i].value;"boolean"!==typeof e[a]&&-1===n.indexOf(","+a+",")||(o=null!==o),t[a]=o}return t}function Ap(e,t){return e.getAttribute(t)}function Pp(e,t,n){e.setAttribute(t,n)}function Op(e,t){e.removeAttribute(t)}function Lp(){nh().body.focus(),nh().onselectstart=function(){return!1}}function Dp(){nh().onselectstart=function(){return!0}}function Np(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(Wp(e,"height"))),n.width||(n.width=parseFloat(Wp(e,"width"))),n}}function Mp(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,n=e.offsetHeight,r=0,i=0;e.offsetParent&&e!==nh()[Of.fullscreenElement];)r+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{left:r,top:i,width:t,height:n}}function Rp(e,t){var n={x:0,y:0};if(dp)for(var r=e;r&&"html"!==r.nodeName.toLowerCase();){var i=Wp(r,"transform");if(/^matrix/.test(i)){var a=i.slice(7,-1).split(/,\s/).map(Number);n.x+=a[4],n.y+=a[5]}else if(/^matrix3d/.test(i)){var o=i.slice(9,-1).split(/,\s/).map(Number);n.x+=o[12],n.y+=o[13]}r=r.parentNode}var s={},u=Mp(t.target),l=Mp(e),c=l.width,h=l.height,d=t.offsetY-(l.top-u.top),f=t.offsetX-(l.left-u.left);return t.changedTouches&&(f=t.changedTouches[0].pageX-l.left,d=t.changedTouches[0].pageY+l.top,dp&&(f-=n.x,d-=n.y)),s.y=1-Math.max(0,Math.min(1,d/h)),s.x=Math.max(0,Math.min(1,f/c)),s}function Up(e){return Hf(e)&&3===e.nodeType}function jp(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Fp(e){return"function"===typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"===typeof e&&(e=e()),gp(e)||Up(e)?e:"string"===typeof e&&/\S/.test(e)?nh().createTextNode(e):void 0})).filter((function(e){return e}))}function Bp(e,t){return Fp(t).forEach((function(t){return e.appendChild(t)})),e}function zp(e,t){return Bp(jp(e),t)}function Vp(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var Hp=_p("querySelector"),qp=_p("querySelectorAll");function Wp(e,t){if(!e||!t)return"";if("function"===typeof eh().getComputedStyle){var n;try{n=eh().getComputedStyle(e)}catch(iV){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}var Gp,Kp=Object.freeze({__proto__:null,isReal:vp,isEl:gp,isInFrame:yp,createEl:bp,textContent:kp,prependTo:Tp,hasClass:wp,addClass:xp,removeClass:Sp,toggleClass:Ep,setAttributes:Cp,getAttributes:Ip,getAttribute:Ap,setAttribute:Pp,removeAttribute:Op,blockTextSelection:Lp,unblockTextSelection:Dp,getBoundingClientRect:Np,findPosition:Mp,getPointerPosition:Rp,isTextNode:Up,emptyEl:jp,normalizeContent:Fp,appendContent:Bp,insertContent:zp,isSingleLeftClick:Vp,$:Hp,$$:qp,computedStyle:Wp}),Qp=!1,Xp=function(){if(!1!==Gp.options.autoSetup){var e=Array.prototype.slice.call(nh().getElementsByTagName("video")),t=Array.prototype.slice.call(nh().getElementsByTagName("audio")),n=Array.prototype.slice.call(nh().getElementsByTagName("video-js")),r=e.concat(t,n);if(r&&r.length>0)for(var i=0,a=r.length;i<a;i++){var o=r[i];if(!o||!o.getAttribute){Zp(1);break}void 0===o.player&&null!==o.getAttribute("data-setup")&&Gp(o)}else Qp||Zp(1)}};function Zp(e,t){vp()&&(t&&(Gp=t),eh().setTimeout(Xp,e))}function Yp(){Qp=!0,eh().removeEventListener("load",Yp)}vp()&&("complete"===nh().readyState?Yp():eh().addEventListener("load",Yp));var Jp,$p=function(e){var t=nh().createElement("style");return t.className=e,t},em=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},tm=new WeakMap,nm=3;function rm(){return nm++}function im(e,t){if(tm.has(e)){var n=tm.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&tm.delete(e)}}function am(e,t,n,r){n.forEach((function(n){e(t,n,r)}))}function om(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var r=e||eh().event;for(var i in e={},r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&"path"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||nh()),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var a=nh().documentElement,o=nh().body;e.pageX=e.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var sm=["touchstart","touchmove"];function um(e,t,n){if(Array.isArray(t))return am(um,e,t,n);tm.has(e)||tm.set(e,{});var r=tm.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=rm()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=om(t);var i=r.handlers[t.type];if(i)for(var a=i.slice(0),o=0,s=a.length;o<s&&!t.isImmediatePropagationStopped();o++)try{a[o].call(e,t,n)}catch(iV){Uf.error(iV)}}}),1===r.handlers[t].length)if(e.addEventListener){var i=!1;(function(){if("boolean"!==typeof Jp){Jp=!1;try{var e=Object.defineProperty({},"passive",{get:function(){Jp=!0}});eh().addEventListener("test",null,e),eh().removeEventListener("test",null,e)}catch(iV){}}return Jp})()&&sm.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function lm(e,t,n){if(tm.has(e)){var r=tm.get(e);if(r.handlers){if(Array.isArray(t))return am(lm,e,t,n);var i=function(e,t){r.handlers[t]=[],im(e,t)};if(void 0!==t){var a=r.handlers[t];if(a)if(n){if(n.guid)for(var o=0;o<a.length;o++)a[o].guid===n.guid&&a.splice(o--,1);im(e,t)}else i(e,t)}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&i(e,s)}}}function cm(e,t,n){var r=tm.has(e)?tm.get(e):{},i=e.parentNode||e.ownerDocument;if("string"===typeof t?t={type:t,target:e}:t.target||(t.target=e),t=om(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)cm.call(null,i,t,n);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){tm.has(t.target)||tm.set(t.target,{});var a=tm.get(t.target);t.target[t.type]&&(a.disabled=!0,"function"===typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function hm(e,t,n){if(Array.isArray(t))return am(hm,e,t,n);var r=function r(){lm(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||rm(),um(e,t,r)}function dm(e,t,n){var r=function r(){lm(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||rm(),um(e,t,r)}var fm,pm=Object.freeze({__proto__:null,fixEvent:om,on:um,off:lm,trigger:cm,one:hm,any:dm}),mm=30,vm=function(e,t,n){t.guid||(t.guid=rm());var r=t.bind(e);return r.guid=n?n+"_"+t.guid:t.guid,r},gm=function(e,t){var n=eh().performance.now();return function(){var r=eh().performance.now();r-n>=t&&(e.apply(void 0,arguments),n=r)}},ym=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:eh(),a=function(){i.clearTimeout(r),r=null},o=function(){var a=this,o=arguments,s=function(){r=null,s=null,n||e.apply(a,o)};!r&&n&&e.apply(a,o),i.clearTimeout(r),r=i.setTimeout(s,t)};return o.cancel=a,o},_m=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:mm,bind_:vm,throttle:gm,debounce:ym}),bm=function(){function e(){d(this,e)}return p(e,[{key:"on",value:function(e,t){var n=this.addEventListener;this.addEventListener=function(){},um(this,e,t),this.addEventListener=n}},{key:"off",value:function(e,t){lm(this,e,t)}},{key:"one",value:function(e,t){var n=this.addEventListener;this.addEventListener=function(){},hm(this,e,t),this.addEventListener=n}},{key:"any",value:function(e,t){var n=this.addEventListener;this.addEventListener=function(){},dm(this,e,t),this.addEventListener=n}},{key:"trigger",value:function(e){var t=e.type||e;"string"===typeof e&&(e={type:t}),e=om(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),cm(this,e)}},{key:"queueTrigger",value:function(e){var t=this;fm||(fm=new Map);var n=e.type||e,r=fm.get(this);r||(r=new Map,fm.set(this,r));var i=r.get(n);r.delete(n),eh().clearTimeout(i);var a=eh().setTimeout((function(){r.delete(n),0===r.size&&(r=null,fm.delete(t)),t.trigger(e)}),0);r.set(n,a)}}]),e}();bm.prototype.allowedEvents_={},bm.prototype.addEventListener=bm.prototype.on,bm.prototype.removeEventListener=bm.prototype.off,bm.prototype.dispatchEvent=bm.prototype.trigger;var km=function(e){return"function"===typeof e.name?e.name():"string"===typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},Tm=function(e){return e instanceof bm||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"===typeof e[t]}))},wm=function(e){return"string"===typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},xm=function(e,t,n){if(!e||!e.nodeName&&!Tm(e))throw new Error("Invalid target for ".concat(km(t),"#").concat(n,"; must be a DOM node or evented object."))},Sm=function(e,t,n){if(!wm(e))throw new Error("Invalid event type for ".concat(km(t),"#").concat(n,"; must be a non-empty string or array."))},Em=function(e,t,n){if("function"!==typeof e)throw new Error("Invalid listener for ".concat(km(t),"#").concat(n,"; must be a function."))},Cm=function(e,t,n){var r,i,a,o=t.length<3||t[0]===e||t[0]===e.eventBusEl_;if(o){r=e.eventBusEl_,t.length>=3&&t.shift();var s=l(t,2);i=s[0],a=s[1]}else{var u=l(t,3);r=u[0],i=u[1],a=u[2]}return xm(r,e,n),Sm(i,e,n),Em(a,e,n),{isTargetingSelf:o,target:r,type:i,listener:a=vm(e,a)}},Im=function(e,t,n,r){xm(e,e,t),e.nodeName?pm[t](e,n,r):e[t](n,r)},Am={on:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Cm(this,n,"on"),a=i.isTargetingSelf,o=i.target,s=i.type,u=i.listener;if(Im(o,"on",s,u),!a){var l=function(){return e.off(o,s,u)};l.guid=u.guid;var c=function(){return e.off("dispose",l)};c.guid=u.guid,Im(this,"on","dispose",l),Im(o,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Cm(this,n,"one"),a=i.isTargetingSelf,o=i.target,s=i.type,u=i.listener;if(a)Im(o,"one",s,u);else{var l=function t(){e.off(o,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];u.apply(null,r)};l.guid=u.guid,Im(o,"one",s,l)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Cm(this,n,"any"),a=i.isTargetingSelf,o=i.target,s=i.type,u=i.listener;if(a)Im(o,"any",s,u);else{var l=function t(){e.off(o,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];u.apply(null,r)};l.guid=u.guid,Im(o,"any",s,l)}},off:function(e,t,n){if(!e||wm(e))lm(this.eventBusEl_,e,t);else{var r=e,i=t;xm(r,this,"off"),Sm(i,this,"off"),Em(n,this,"off"),n=vm(this,n),this.off("dispose",n),r.nodeName?(lm(r,i,n),lm(r,"dispose",n)):Tm(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){xm(this.eventBusEl_,this,"trigger");var n=e&&"string"!==typeof e?e.type:e;if(!wm(n))throw new Error("Invalid event type for ".concat(km(this),"#trigger; ")+"must be a non-empty string or object with a type key that has a non-empty value.");return cm(this.eventBusEl_,e,t)}};function Pm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'.concat(n,'" does not refer to an element.'));e.eventBusEl_=e[n]}else e.eventBusEl_=bp("span",{className:"vjs-event-bus"});return Object.assign(e,Am),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&tm.has(e)&&tm.delete(e)})),eh().setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Om={state:{},setState:function(e){var t,n=this;return"function"===typeof e&&(e=e()),zf(e,(function(e,r){n.state[r]!==e&&((t=t||{})[r]={from:n.state[r],to:e}),n.state[r]=e})),t&&Tm(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function Lm(e,t){return Object.assign(e,Om),e.state=Object.assign({},e.state,t),"function"===typeof e.handleStateChanged&&Tm(e)&&e.on("statechanged",e.handleStateChanged),e}var Dm=function(e){return"string"!==typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},Nm=function(e){return"string"!==typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},Mm=function(e,t){return Nm(e)===Nm(t)},Rm=Object.freeze({__proto__:null,toLowerCase:Dm,toTitleCase:Nm,titleCaseEquals:Mm}),Um=function(){function e(t,n,r){var i=this;if(d(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Wf({},this.options_),n=this.options_=Wf(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var a=t&&t.id&&t.id()||"no_player";this.id_="".concat(a,"_component_").concat(rm())}this.name_=n.name||null,n.el?this.el_=n.el:!1!==n.createEl&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach((function(e){return i.addClass(e)})),!1!==n.evented&&(Pm(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Lm(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,!1!==n.initChildren&&this.initChildren(),this.ready(r),!1!==n.reportTouchActivity&&this.enableTouchActivity()}return p(e,[{key:"dispose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}},{key:"isDisposed",value:function(){return Boolean(this.isDisposed_)}},{key:"player",value:function(){return this.player_}},{key:"options",value:function(e){return e?(this.options_=Wf(this.options_,e),this.options_):this.options_}},{key:"el",value:function(){return this.el_}},{key:"createEl",value:function(e,t,n){return bp(e,t,n)}},{key:"localize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),a=i&&i[r],o=r&&r.split("-")[0],s=i&&i[o],u=n;return a&&a[e]?u=a[e]:s&&s[e]&&(u=s[e]),t&&(u=u.replace(/\{(\d+)\}/g,(function(e,n){var r=t[n-1],i=r;return"undefined"===typeof r&&(i=e),i}))),u}},{key:"handleLanguagechange",value:function(){}},{key:"contentEl",value:function(){return this.contentEl_||this.el_}},{key:"id",value:function(){return this.id_}},{key:"name",value:function(){return this.name_}},{key:"children",value:function(){return this.children_}},{key:"getChildById",value:function(e){return this.childIndex_[e]}},{key:"getChild",value:function(e){if(e)return this.childNameIndex_[e]}},{key:"getDescendant",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var r=this,i=0;i<t.length;i++)if(!(r=r.getChild(t[i]))||!r.getChild)return;return r}},{key:"addChild",value:function(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length;if("string"===typeof t){r=Nm(t);var o=i.componentClass||r;i.name=r;var s=e.getComponent(o);if(!s)throw new Error("Component ".concat(o," does not exist"));if("function"!==typeof s)return null;n=new s(this.player_||this,i)}else n=t;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(a,0,n),n.parentComponent_=this,"function"===typeof n.id&&(this.childIndex_[n.id()]=n),(r=r||n.name&&Nm(n.name()))&&(this.childNameIndex_[r]=n,this.childNameIndex_[Dm(r)]=n),"function"===typeof n.el&&n.el()){var u=null;this.children_[a+1]&&(this.children_[a+1].el_?u=this.children_[a+1].el_:gp(this.children_[a+1])&&(u=this.children_[a+1])),this.contentEl().insertBefore(n.el(),u)}return n}},{key:"removeChild",value:function(e){if("string"===typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Nm(e.name())]=null,this.childNameIndex_[Dm(e.name())]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}}},{key:"initChildren",value:function(){var t=this,n=this.options_.children;if(n){var r,i=this.options_,a=e.getComponent("Tech");(r=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!r.some((function(t){return"string"===typeof t?e===t:e===t.name}))}))).map((function(e){var r,i;return"string"===typeof e?i=n[r=e]||t.options_[r]||{}:(r=e.name,i=e),{name:r,opts:i}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||Nm(t.name));return n&&!a.isTech(n)})).forEach((function(e){var n=e.name,r=e.opts;if(void 0!==i[n]&&(r=i[n]),!1!==r){!0===r&&(r={}),r.playerOptions=t.options_.playerOptions;var a=t.addChild(n,r);a&&(t[n]=a)}}))}}},{key:"buildCSSClass",value:function(){return""}},{key:"ready",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))}},{key:"triggerReady",value:function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)}},{key:"$",value:function(e,t){return Hp(e,t||this.contentEl())}},{key:"$$",value:function(e,t){return qp(e,t||this.contentEl())}},{key:"hasClass",value:function(e){return wp(this.el_,e)}},{key:"addClass",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xp.apply(void 0,[this.el_].concat(t))}},{key:"removeClass",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Sp.apply(void 0,[this.el_].concat(t))}},{key:"toggleClass",value:function(e,t){Ep(this.el_,e,t)}},{key:"show",value:function(){this.removeClass("vjs-hidden")}},{key:"hide",value:function(){this.addClass("vjs-hidden")}},{key:"lockShowing",value:function(){this.addClass("vjs-lock-showing")}},{key:"unlockShowing",value:function(){this.removeClass("vjs-lock-showing")}},{key:"getAttribute",value:function(e){return Ap(this.el_,e)}},{key:"setAttribute",value:function(e,t){Pp(this.el_,e,t)}},{key:"removeAttribute",value:function(e){Op(this.el_,e)}},{key:"width",value:function(e,t){return this.dimension("width",e,t)}},{key:"height",value:function(e,t){return this.dimension("height",e,t)}},{key:"dimensions",value:function(e,t){this.width(e,!0),this.height(t)}},{key:"dimension",value:function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+Nm(e)],10)}},{key:"currentDimension",value:function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=Wp(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset".concat(Nm(e));t=this.el_[n]}return t}},{key:"currentDimensions",value:function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}},{key:"currentWidth",value:function(){return this.currentDimension("width")}},{key:"currentHeight",value:function(){return this.currentDimension("height")}},{key:"focus",value:function(){this.el_.focus()}},{key:"blur",value:function(){this.el_.blur()}},{key:"handleKeyDown",value:function(e){this.player_&&(ih().isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}},{key:"handleKeyPress",value:function(e){this.handleKeyDown(e)}},{key:"emitTapEvents",value:function(){var e,t=0,n=null;this.on("touchstart",(function(r){1===r.touches.length&&(n={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=eh().performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var r=t.touches[0].pageX-n.pageX,i=t.touches[0].pageY-n.pageY;Math.sqrt(r*r+i*i)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){(n=null,!0===e)&&(eh().performance.now()-t<200&&(r.preventDefault(),this.trigger("tap")))}))}},{key:"enableTouchActivity",value:function(){if(this.player()&&this.player().reportUserActivity){var e,t=vm(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}}},{key:"setTimeout",value:function(e,t){var n,r=this;return e=vm(this,e),this.clearTimersOnDispose_(),n=eh().setTimeout((function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n}},{key:"clearTimeout",value:function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),eh().clearTimeout(e)),e}},{key:"setInterval",value:function(e,t){e=vm(this,e),this.clearTimersOnDispose_();var n=eh().setInterval(e,t);return this.setIntervalIds_.add(n),n}},{key:"clearInterval",value:function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),eh().clearInterval(e)),e}},{key:"requestAnimationFrame",value:function(e){var t,n=this;return this.clearTimersOnDispose_(),e=vm(this,e),t=eh().requestAnimationFrame((function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()})),this.rafIds_.add(t),t}},{key:"requestNamedAnimationFrame",value:function(e,t){var n=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=vm(this,t);var r=this.requestAnimationFrame((function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)}));return this.namedRafs_.set(e,r),e}}},{key:"cancelNamedAnimationFrame",value:function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}},{key:"cancelAnimationFrame",value:function(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),eh().cancelAnimationFrame(e)),e}},{key:"clearTimersOnDispose_",value:function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var n=l(t,2),r=n[0],i=n[1];e[r].forEach((function(t,n){return e[i](n)}))})),e.clearingTimersOnDispose_=!1})))}}],[{key:"registerComponent",value:function(t,n){if("string"!==typeof t||!t)throw new Error('Illegal component name, "'.concat(t,'"; must be a non-empty string.'));var r,i=e.getComponent("Tech"),a=i&&i.isTech(n),o=e===n||e.prototype.isPrototypeOf(n.prototype);if(a||!o)throw r=a?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'.concat(t,'"; ').concat(r,"."));t=Nm(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map((function(e){return u[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[Dm(t)]=n,n}},{key:"getComponent",value:function(t){if(t&&e.components_)return e.components_[t]}}]),e}();function jm(e,t,n,r){return function(e,t,n){if("number"!==typeof t||t<0||t>n)throw new Error("Failed to execute '".concat(e,"' on 'TimeRanges': The index provided (").concat(t,") is non-numeric or out of bounds (0-").concat(n,")."))}(e,r,n.length-1),n[r][t]}function Fm(e){var t;return t=void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:jm.bind(null,"start",0,e),end:jm.bind(null,"end",1,e)},eh().Symbol&&eh().Symbol.iterator&&(t[eh().Symbol.iterator]=function(){return(e||[]).values()}),t}function Bm(e,t){return Array.isArray(e)?Fm(e):void 0===e||void 0===t?Fm():Fm([[e,t]])}Um.registerComponent("Component",Um);var zm=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),a=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||o>0?i+":":"")+(r=((i||a>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)},Vm=zm;function Hm(e){Vm=e}function qm(){Vm=zm}function Wm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Vm(e,t)}var Gm=Object.freeze({__proto__:null,createTimeRanges:Bm,createTimeRange:Bm,setFormatTime:Hm,resetFormatTime:qm,formatTime:Wm});function Km(e,t){var n,r,i=0;if(!t)return 0;e&&e.length||(e=Bm(0,0));for(var a=0;a<e.length;a++)n=e.start(a),(r=e.end(a))>t&&(r=t),i+=r-n;return i/t}function Qm(e){if(e instanceof Qm)return e;"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:Hf(e)&&("number"===typeof e.code&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=Qm.defaultMessages[this.code]||"")}Qm.prototype.code=0,Qm.prototype.message="",Qm.prototype.status=null,Qm.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Qm.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Xm=0;Xm<Qm.errorTypes.length;Xm++)Qm[Qm.errorTypes[Xm]]=Xm,Qm.prototype[Qm.errorTypes[Xm]]=Xm;function Zm(e){return void 0!==e&&null!==e&&"function"===typeof e.then}function Ym(e){Zm(e)&&e.then(null,(function(e){}))}var Jm=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,r){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},$m=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track})),r=Array.prototype.map.call(t,(function(e){var t=Jm(e.track);return e.src&&(t.src=e.src),t}));return r.concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(Jm))},ev=function(e,t){return e.forEach((function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return n.addCue(e)}))})),t.textTracks()},tv="vjs-modal-dialog",nv=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).handleKeyDown_=function(e){return i.handleKeyDown(e)},i.close_=function(e){return i.close(e)},i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=bp("div",{className:"".concat(tv,"-content")},{role:"document"}),i.descEl_=bp("p",{className:"".concat(tv,"-description vjs-control-text"),id:i.el().getAttribute("aria-describedby")}),kp(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return p(n,[{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":"".concat(this.id(),"_description"),"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}},{key:"dispose",value:function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,Jc(g(n.prototype),"dispose",this).call(this)}},{key:"buildCSSClass",value:function(){return"".concat(tv," vjs-hidden ").concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"label",value:function(){return this.localize(this.options_.label||"Modal Window")}},{key:"description",value:function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}},{key:"open",value:function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}},{key:"opened",value:function(e){return"boolean"===typeof e&&this[e?"open":"close"](),this.opened_}},{key:"close",value:function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}}},{key:"closeable",value:function(e){if("boolean"===typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}},{key:"fill",value:function(){this.fillWith(this.content())}},{key:"fillWith",value:function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),zp(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)}},{key:"empty",value:function(){this.trigger("beforemodalempty"),jp(this.contentEl()),this.trigger("modalempty")}},{key:"content",value:function(e){return"undefined"!==typeof e&&(this.content_=e),this.content_}},{key:"conditionalFocus_",value:function(){var e=nh().activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())}},{key:"conditionalBlur_",value:function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}},{key:"handleKeyDown",value:function(e){if(e.stopPropagation(),ih().isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(ih().isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),r=this.el_.querySelector(":focus"),i=0;i<n.length;i++)if(r===n[i]){t=i;break}nh().activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}}},{key:"focusableEls_",value:function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof eh().HTMLAnchorElement||e instanceof eh().HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof eh().HTMLInputElement||e instanceof eh().HTMLSelectElement||e instanceof eh().HTMLTextAreaElement||e instanceof eh().HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof eh().HTMLIFrameElement||e instanceof eh().HTMLObjectElement||e instanceof eh().HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))}}]),n}(Um);nv.prototype.options_={pauseOnOpen:!0,temporary:!0},Um.registerComponent("ModalDialog",nv);var rv=function(e){v(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,n),(e=t.call(this)).tracks_=[],Object.defineProperty(b(e),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<r.length;i++)e.addTrack(r[i]);return e}return p(n,[{key:"addTrack",value:function(e){var t=this,n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.tracks_[n]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},Tm(e)&&e.addEventListener("labelchange",e.labelchange_)}},{key:"removeTrack",value:function(e){for(var t,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}},{key:"getTrackById",value:function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t}}]),n}(bm);for(var iv in rv.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},rv.prototype.allowedEvents_)rv.prototype["on"+iv]=null;var av=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},ov=function(e){v(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,n);for(var i=r.length-1;i>=0;i--)if(r[i].enabled){av(r,r[i]);break}return(e=t.call(this,r)).changing_=!1,e}return p(n,[{key:"addTrack",value:function(e){var t=this;e.enabled&&av(this,e),Jc(g(n.prototype),"addTrack",this).call(this,e),e.addEventListener&&(e.enabledChange_=function(){t.changing_||(t.changing_=!0,av(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}},{key:"removeTrack",value:function(e){Jc(g(n.prototype),"removeTrack",this).call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}]),n}(rv),sv=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},uv=function(e){v(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,n);for(var i=r.length-1;i>=0;i--)if(r[i].selected){sv(r,r[i]);break}return(e=t.call(this,r)).changing_=!1,Object.defineProperty(b(e),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),e}return p(n,[{key:"addTrack",value:function(e){var t=this;e.selected&&sv(this,e),Jc(g(n.prototype),"addTrack",this).call(this,e),e.addEventListener&&(e.selectedChange_=function(){t.changing_||(t.changing_=!0,sv(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}},{key:"removeTrack",value:function(e){Jc(g(n.prototype),"removeTrack",this).call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}]),n}(rv),lv=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"addTrack",value:function(e){var t=this;Jc(g(n.prototype),"addTrack",this).call(this,e),this.queueChange_||(this.queueChange_=function(){return t.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return t.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}},{key:"removeTrack",value:function(e){Jc(g(n.prototype),"removeTrack",this).call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}]),n}(rv),cv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,e),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var n=0,r=t.length;n<r;n++)this.addTrackElement_(t[n])}return p(e,[{key:"addTrackElement_",value:function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)}},{key:"getTrackElementByTrack_",value:function(e){for(var t,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t}},{key:"removeTrackElement_",value:function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"===typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"===typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}}}]),e}(),hv=function(){function e(t){d(this,e),e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}return p(e,[{key:"setCues_",value:function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)}},{key:"getCueById",value:function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t}}]),e}(),dv={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},fv={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},pv={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},mv={disabled:"disabled",hidden:"hidden",showing:"showing"},vv=function(e){v(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,n),e=t.call(this);var i={id:r.id||"vjs_track_"+rm(),kind:r.kind||"",language:r.language||""},a=r.label||"",o=function(t){Object.defineProperty(b(e),t,{get:function(){return i[t]},set:function(){}})};for(var s in i)o(s);return Object.defineProperty(b(e),"label",{get:function(){return a},set:function(e){e!==a&&(a=e,this.trigger("labelchange"))}}),e}return p(n)}(bm),gv=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=nh().createElement("a");n.href=e;for(var r={},i=0;i<t.length;i++)r[t[i]]=n[t[i]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=eh().location.protocol),r.host||(r.host=eh().location.host),r},yv=function(e){if(!e.match(/^https?:\/\//)){var t=nh().createElement("a");t.href=e,e=t.href}return e},_v=function(e){if("string"===typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},bv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eh().location,n=gv(e),r=":"===n.protocol?t.protocol:n.protocol,i=r+n.host!==t.protocol+t.host;return i},kv=Object.freeze({__proto__:null,parseUrl:gv,getAbsoluteURL:yv,getFileExtension:_v,isCrossOrigin:bv}),Tv=function(e,t){var n=new(eh().WebVTT.Parser)(eh(),eh().vttjs,eh().WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(eh().console&&eh().console.groupCollapsed&&eh().console.groupCollapsed("Text Track parsing errors for ".concat(t.src)),r.forEach((function(e){return Uf.error(e)})),eh().console&&eh().console.groupEnd&&eh().console.groupEnd()),n.flush()},wv=function(e,t){var n={uri:e},r=bv(e);r&&(n.cors=r);var i="use-credentials"===t.tech_.crossOrigin();i&&(n.withCredentials=i),uh()(n,vm(this,(function(e,n,r){if(e)return Uf.error(e,n);t.loaded_=!0,"function"!==typeof eh().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return Tv(r,t);Uf.error("vttjs failed to load, stopping trying to process ".concat(t.src))})):Tv(r,t)})))},xv=function(e){v(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(d(this,n),!r.tech)throw new Error("A tech was not provided.");var i=Wf(r,{kind:pv[r.kind]||"subtitles",language:r.language||r.srclang||""}),a=mv[i.mode]||"disabled",o=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(a="hidden"),(e=t.call(this,i)).tech_=i.tech,e.cues_=[],e.activeCues_=[],e.preload_=!1!==e.tech_.preloadTextTracks;var s=new hv(e.cues_),u=new hv(e.activeCues_),l=!1;e.timeupdateHandler=vm(b(e),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}));var c=function(){e.stopTracking()};return e.tech_.one("dispose",c),"disabled"!==a&&e.startTracking(),Object.defineProperties(b(e),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return a},set:function(e){mv[e]&&a!==e&&(a=e,this.preload_||"disabled"===a||0!==this.cues.length||wv(this.src,this),this.stopTracking(),"disabled"!==a&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return u;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e&&t.push(i)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var a=0;a<t.length;a++)-1===this.activeCues_.indexOf(t[a])&&(l=!0);return this.activeCues_=t,u.setCues_(this.activeCues_),u},set:function(){}}}),i.src?(e.src=i.src,e.preload_||(e.loaded_=!0),(e.preload_||"subtitles"!==i.kind&&"captions"!==i.kind)&&wv(e.src,b(e))):e.loaded_=!0,e}return p(n,[{key:"startTracking",value:function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}},{key:"stopTracking",value:function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}},{key:"addCue",value:function(e){var t=e;if(eh().vttjs&&!(e instanceof eh().vttjs.VTTCue)){for(var n in t=new(eh().vttjs.VTTCue)(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}},{key:"removeCue",value:function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}}]),n}(vv);xv.prototype.allowedEvents_={cuechange:"cuechange"};var Sv=function(e){v(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,n);var i=Wf(r,{kind:fv[r.kind]||""});e=t.call(this,i);var a=!1;return Object.defineProperty(b(e),"enabled",{get:function(){return a},set:function(e){"boolean"===typeof e&&e!==a&&(a=e,this.trigger("enabledchange"))}}),i.enabled&&(e.enabled=i.enabled),e.loaded_=!0,e}return p(n)}(vv),Ev=function(e){v(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,n);var i=Wf(r,{kind:dv[r.kind]||""});e=t.call(this,i);var a=!1;return Object.defineProperty(b(e),"selected",{get:function(){return a},set:function(e){"boolean"===typeof e&&e!==a&&(a=e,this.trigger("selectedchange"))}}),i.selected&&(e.selected=i.selected),e}return p(n)}(vv),Cv=function(e){v(n,e);var t=T(n);function n(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,n),e=t.call(this);var a=new xv(i);return e.kind=a.kind,e.src=a.src,e.srclang=a.language,e.label=a.label,e.default=a.default,Object.defineProperties(b(e),{readyState:{get:function(){return r}},track:{get:function(){return a}}}),r=n.NONE,a.addEventListener("loadeddata",(function(){r=n.LOADED,e.trigger({type:"load",target:b(e)})})),e}return p(n)}(bm);Cv.prototype.allowedEvents_={load:"load"},Cv.NONE=0,Cv.LOADING=1,Cv.LOADED=2,Cv.ERROR=3;var Iv={audio:{ListClass:ov,TrackClass:Sv,capitalName:"Audio"},video:{ListClass:uv,TrackClass:Ev,capitalName:"Video"},text:{ListClass:lv,TrackClass:xv,capitalName:"Text"}};Object.keys(Iv).forEach((function(e){Iv[e].getterName="".concat(e,"Tracks"),Iv[e].privateName="".concat(e,"Tracks_")}));var Av={remoteText:{ListClass:lv,TrackClass:xv,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:cv,TrackClass:Cv,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Pv=Object.assign({},Iv,Av);Av.names=Object.keys(Av),Iv.names=Object.keys(Iv),Pv.names=[].concat(Av.names).concat(Iv.names);var Ov=function(e){v(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return d(this,n),r.reportTouchActivity=!1,(e=t.call(this,null,r,i)).onDurationChange_=function(t){return e.onDurationChange(t)},e.trackProgress_=function(t){return e.trackProgress(t)},e.trackCurrentTime_=function(t){return e.trackCurrentTime(t)},e.stopTrackingCurrentTime_=function(t){return e.stopTrackingCurrentTime(t)},e.disposeSourceHandler_=function(t){return e.disposeSourceHandler(t)},e.queuedHanders_=new Set,e.hasStarted_=!1,e.on("playing",(function(){this.hasStarted_=!0})),e.on("loadstart",(function(){this.hasStarted_=!1})),Pv.names.forEach((function(t){var n=Pv[t];r&&r[n.getterName]&&(e[n.privateName]=r[n.getterName])})),e.featuresProgressEvents||e.manualProgressOn(),e.featuresTimeupdateEvents||e.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===r["native".concat(t,"Tracks")]&&(e["featuresNative".concat(t,"Tracks")]=!1)})),!1===r.nativeCaptions||!1===r.nativeTextTracks?e.featuresNativeTextTracks=!1:!0!==r.nativeCaptions&&!0!==r.nativeTextTracks||(e.featuresNativeTextTracks=!0),e.featuresNativeTextTracks||e.emulateTextTracks(),e.preloadTextTracks=!1!==r.preloadTextTracks,e.autoRemoteTextTracks_=new Pv.text.ListClass,e.initTrackListeners(),r.nativeControlsForTouch||e.emitTapEvents(),e.constructor&&(e.name_=e.constructor.name||"Unknown Tech"),e}return p(n,[{key:"triggerSourceset",value:function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})}},{key:"manualProgressOn",value:function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}},{key:"manualProgressOff",value:function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}},{key:"trackProgress",value:function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(vm(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)}},{key:"onDurationChange",value:function(e){this.duration_=this.duration()}},{key:"buffered",value:function(){return Bm(0,0)}},{key:"bufferedPercent",value:function(){return Km(this.buffered(),this.duration_)}},{key:"stopTrackingProgress",value:function(){this.clearInterval(this.progressInterval)}},{key:"manualTimeUpdatesOn",value:function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}},{key:"manualTimeUpdatesOff",value:function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}},{key:"trackCurrentTime",value:function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)}},{key:"stopTrackingCurrentTime",value:function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}},{key:"dispose",value:function(){this.clearTracks(Iv.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),Jc(g(n.prototype),"dispose",this).call(this)}},{key:"clearTracks",value:function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t["".concat(e,"Tracks")]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}}))}},{key:"cleanupAutoTextTracks",value:function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}}},{key:"reset",value:function(){}},{key:"crossOrigin",value:function(){}},{key:"setCrossOrigin",value:function(){}},{key:"error",value:function(e){return void 0!==e&&(this.error_=new Qm(e),this.trigger("error")),this.error_}},{key:"played",value:function(){return this.hasStarted_?Bm(0,0):Bm()}},{key:"play",value:function(){}},{key:"setScrubbing",value:function(){}},{key:"scrubbing",value:function(){}},{key:"setCurrentTime",value:function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}},{key:"initTrackListeners",value:function(){var e=this;Iv.names.forEach((function(t){var n=Iv[t],r=function(){e.trigger("".concat(t,"trackchange"))},i=e[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),e.on("dispose",(function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)}))}))}},{key:"addWebVttScript_",value:function(){var e=this;if(!eh().WebVTT)if(nh().body.contains(this.el())){if(!this.options_["vtt.js"]&&qf(ch())&&Object.keys(ch()).length>0)return void this.trigger("vttjsloaded");var t=nh().createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),eh().WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)}},{key:"emulateTextTracks",value:function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var a=function(){return e.trigger("texttrackchange")},o=function(){a();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",a),"showing"===n.mode&&n.addEventListener("cuechange",a)}};o(),t.addEventListener("change",o),t.addEventListener("addtrack",o),t.addEventListener("removetrack",o),this.on("dispose",(function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",o),t.removeEventListener("addtrack",o),t.removeEventListener("removetrack",o);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",a)}}))}},{key:"addTextTrack",value:function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var o=new Pv.text.TrackClass(i);return a.addTrack(o),o}(this,e,t,n)}},{key:"createRemoteTextTrack",value:function(e){var t=Wf(e,{tech:this});return new Av.remoteTextEl.TrackClass(t)}},{key:"addRemoteTextTrack",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=this.createRemoteTextTrack(t);return"boolean"!==typeof n&&(n=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!1===n&&this.ready((function(){return e.autoRemoteTextTracks_.addTrack(r.track)})),r}},{key:"removeRemoteTextTrack",value:function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}},{key:"getVideoPlaybackQuality",value:function(){return{}}},{key:"requestPictureInPicture",value:function(){return Promise.reject()}},{key:"disablePictureInPicture",value:function(){return!0}},{key:"setDisablePictureInPicture",value:function(){}},{key:"requestVideoFrameCallback",value:function(e){var t=this,n=rm();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",(function(){t.queuedHanders_.has(n)&&(t.queuedHanders_.delete(n),e())}))):this.requestNamedAnimationFrame(n,e),n}},{key:"cancelVideoFrameCallback",value:function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}},{key:"setPoster",value:function(){}},{key:"playsinline",value:function(){}},{key:"setPlaysinline",value:function(){}},{key:"overrideNativeAudioTracks",value:function(){}},{key:"overrideNativeVideoTracks",value:function(){}},{key:"canPlayType",value:function(){return""}}],[{key:"canPlayType",value:function(){return""}},{key:"canPlaySource",value:function(e,t){return n.canPlayType(e.type)}},{key:"isTech",value:function(e){return e.prototype instanceof n||e instanceof n||e===n}},{key:"registerTech",value:function(e,t){if(n.techs_||(n.techs_={}),!n.isTech(t))throw new Error("Tech ".concat(e," must be a Tech"));if(!n.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!n.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Nm(e),n.techs_[e]=t,n.techs_[Dm(e)]=t,"Tech"!==e&&n.defaultTechOrder_.push(e),t}},{key:"getTech",value:function(e){if(e)return n.techs_&&n.techs_[e]?n.techs_[e]:(e=Nm(e),eh()&&eh().videojs&&eh().videojs[e]?(Uf.warn("The ".concat(e," tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)")),eh().videojs[e]):void 0)}}]),n}(Um);Pv.names.forEach((function(e){var t=Pv[e];Ov.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),Ov.prototype.featuresVolumeControl=!0,Ov.prototype.featuresMuteControl=!0,Ov.prototype.featuresFullscreenResize=!1,Ov.prototype.featuresPlaybackRate=!1,Ov.prototype.featuresProgressEvents=!1,Ov.prototype.featuresSourceset=!1,Ov.prototype.featuresTimeupdateEvents=!1,Ov.prototype.featuresNativeTextTracks=!1,Ov.prototype.featuresVideoFrameCallback=!1,Ov.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n,r=e.sourceHandlers||[],i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"===typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:Uf.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Um.registerComponent("Tech",Ov),Ov.registerTech("Tech",Ov),Ov.defaultTechOrder_=[];var Lv={},Dv={},Nv={};function Mv(e,t,n){e.setTimeout((function(){return Hv(t,Lv[t.type],n,e)}),1)}function Rv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="call"+Nm(n),a=e.reduce(Bv(i),r),o=a===Nv,s=o?null:t[n](a);return zv(e,n,s,o),s}var Uv={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},jv={setCurrentTime:1,setMuted:1,setVolume:1},Fv={play:1,pause:1};function Bv(e){return function(t,n){return t===Nv?Nv:n[e]?n[e](t):t}}function zv(e,t,n,r){for(var i=e.length-1;i>=0;i--){var a=e[i];a[t]&&a[t](r,n)}}function Vv(e,t){var n=Dv[e.id()],r=null;if(void 0===n||null===n)return r=t(e),Dv[e.id()]=[[t,r]],r;for(var i=0;i<n.length;i++){var a=l(n[i],2),o=a[0],s=a[1];o===t&&(r=s)}return null===r&&(r=t(e),n.push([t,r])),r}function Hv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Zc(t),s=o[0],u=o.slice(1);if("string"===typeof s)Hv(e,Lv[s],n,r,i,a);else if(s){var l=Vv(r,s);if(!l.setSource)return i.push(l),Hv(e,u,n,r,i,a);l.setSource(Object.assign({},e),(function(t,o){if(t)return Hv(e,u,n,r,i,a);i.push(l),Hv(o,e.type===o.type?u:Lv[o.type],n,r,i,a)}))}else u.length?Hv(e,u,n,r,i,a):a?n(e,i):Hv(e,Lv["*"],n,r,i,!0)}var qv={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Wv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=_v(e),n=qv[t.toLowerCase()];return n||""},Gv=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var r=e.$$("source"),i=0;i<r.length;i++){var a=r[i];if(a.type&&a.src&&a.src===t)return a.type}return Wv(t)},Kv=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):Hf(t)&&n.push(t)})),t=n}else t="string"===typeof t&&t.trim()?[Qv({src:t})]:Hf(t)&&"string"===typeof t.src&&t.src&&t.src.trim()?[Qv(t)]:[];return t};function Qv(e){if(!e.type){var t=Wv(e.src);t&&(e.type=t)}return e}var Xv=function(e){v(n,e);var t=T(n);function n(e,r,i){var a;d(this,n);var o=Wf({createEl:!1},r);if(a=t.call(this,e,o,i),r.playerOptions.sources&&0!==r.playerOptions.sources.length)e.src(r.playerOptions.sources);else for(var s=0,u=r.playerOptions.techOrder;s<u.length;s++){var l=Nm(u[s]),c=Ov.getTech(l);if(l||(c=Um.getComponent(l)),c&&c.isSupported()){e.loadTech_(l);break}}return a}return p(n)}(Um);Um.registerComponent("MediaLoader",Xv);var Zv=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).options_.controlText&&i.controlText(i.options_.controlText),i.handleMouseOver_=function(e){return i.handleMouseOver(e)},i.handleMouseOut_=function(e){return i.handleMouseOut(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.emitTapEvents(),i.enable(),i}return p(n,[{key:"createEl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&Uf.error("Creating a ClickableComponent with an HTML element of ".concat(e," is not supported; use a Button instead.")),n=Object.assign({role:"button"},n),this.tabIndex_=t.tabIndex;var r=bp(e,t,n);return r.appendChild(bp("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}},{key:"dispose",value:function(){this.controlTextEl_=null,Jc(g(n.prototype),"dispose",this).call(this)}},{key:"createControlTextEl",value:function(e){return this.controlTextEl_=bp("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}},{key:"controlText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,kp(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)}},{key:"buildCSSClass",value:function(){return"vjs-control vjs-button ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"enable",value:function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}},{key:"disable",value:function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}},{key:"handleLanguagechange",value:function(){this.controlText(this.controlText_)}},{key:"handleClick",value:function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}},{key:"handleKeyDown",value:function(e){ih().isEventKey(e,"Space")||ih().isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):Jc(g(n.prototype),"handleKeyDown",this).call(this,e)}}]),n}(Um);Um.registerComponent("ClickableComponent",Zv);var Yv=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).update(),i.update_=function(e){return i.update(e)},e.on("posterchange",i.update_),i}return p(n,[{key:"dispose",value:function(){this.player().off("posterchange",this.update_),Jc(g(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){return bp("picture",{className:"vjs-poster",tabIndex:-1},{},bp("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))}},{key:"crossOrigin",value:function(e){if("undefined"===typeof e)return this.el_?this.el_.querySelector("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null===e||"anonymous"===e||"use-credentials"===e?this.el_.querySelector("img").crossOrigin=e:this.player_.log.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"'))}},{key:"update",value:function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}},{key:"setSrc",value:function(e){this.el_.querySelector("img").src=e}},{key:"handleClick",value:function(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Ym(this.player_.play()):this.player_.pause())}}]),n}(Zv);Yv.prototype.crossorigin=Yv.prototype.crossOrigin,Um.registerComponent("PosterImage",Yv);var Jv="#222",$v="#ccc",eg={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function tg(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function ng(e,t,n){try{e.style[t]=n}catch(iV){return}}var rg=function(e){v(n,e);var t=T(n);function n(e,r,i){var a;d(this,n),a=t.call(this,e,r,i);var o=function(e){return a.updateDisplay(e)};return e.on("loadstart",(function(e){return a.toggleDisplay(e)})),e.on("texttrackchange",o),e.on("loadedmetadata",(function(e){return a.preselectTrack(e)})),e.ready(vm(b(a),(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",o),e.on("playerresize",o);var t=eh().screen.orientation||eh(),n=eh().screen.orientation?"change":"orientationchange";t.addEventListener(n,o),e.on("dispose",(function(){return t.removeEventListener(n,o)}));for(var r=this.options_.playerOptions.tracks||[],i=0;i<r.length;i++)this.player_.addRemoteTextTrack(r[i],!0);this.preselectTrack()}}))),a}return p(n,[{key:"preselectTrack",value:function(){for(var e,t,n,r={captions:1,subtitles:1},i=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,o=0;o<i.length;o++){var s=i[o];a&&a.enabled&&a.language&&a.language===s.language&&s.kind in r?s.kind===a.kind?n=s:n||(n=s):a&&!a.enabled?(n=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in r&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")}},{key:"toggleDisplay",value:function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}},{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}},{key:"clearDisplay",value:function(){"function"===typeof eh().WebVTT&&eh().WebVTT.processCues(eh(),[],this.el_)}},{key:"updateDisplay",value:function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],r=0;r<e.length;++r){var i=e[r];"showing"===i.mode&&n.push(i)}this.updateForTrack(n)}else{for(var a=null,o=null,s=e.length;s--;){var u=e[s];"showing"===u.mode&&("descriptions"===u.kind?a=u:o=u)}o?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(o)):a&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(a))}}},{key:"updateDisplayState",value:function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,r=n.length;r--;){var i=n[r];if(i){var a=i.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&ng(a.firstChild,"color",tg(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&ng(a.firstChild,"backgroundColor",tg(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?ng(a,"backgroundColor",tg(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px ".concat(Jv,", 2px 2px 4px ").concat(Jv,", 2px 2px 5px ").concat(Jv):"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px ".concat(Jv,", 2px 2px ").concat(Jv,", 3px 3px ").concat(Jv):"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px ".concat($v,", 0 1px ").concat($v,", -1px -1px ").concat(Jv,", 0 -1px ").concat(Jv):"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px ".concat(Jv,", 0 0 4px ").concat(Jv,", 0 0 4px ").concat(Jv,", 0 0 4px ").concat(Jv))),t.fontPercent&&1!==t.fontPercent){var o=eh().parseFloat(a.style.fontSize);a.style.fontSize=o*t.fontPercent+"px",a.style.height="auto",a.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=eg[t.fontFamily])}}}},{key:"updateForTrack",value:function(e){if(Array.isArray(e)||(e=[e]),"function"===typeof eh().WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],i=0;i<r.activeCues.length;++i)t.push(r.activeCues[i]);eh().WebVTT.processCues(eh(),t,this.el_);for(var a=0;a<e.length;++a){for(var o=e[a],s=0;s<o.activeCues.length;++s){var u=o.activeCues[s].displayState;xp(u,"vjs-text-track-cue","vjs-text-track-cue-"+(o.language?o.language:a)),o.language&&Pp(u,"lang",o.language)}this.player_.textTrackSettings&&this.updateDisplayState(o)}}}}]),n}(Um);Um.registerComponent("TextTrackDisplay",rg);var ig=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"createEl",value:function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),r=bp("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),i=Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i}}]),n}(Um);Um.registerComponent("LoadingSpinner",ig);var ag=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"createEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=bp(e="button",t=Object.assign({className:this.buildCSSClass()},t),n=Object.assign({type:"button"},n));return r.appendChild(bp("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}},{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return Uf.warn("Adding an actionable (user controllable) child to a Button (".concat(n,") is not supported; use a ClickableComponent instead.")),Um.prototype.addChild.call(this,e,t)}},{key:"enable",value:function(){Jc(g(n.prototype),"enable",this).call(this),this.el_.removeAttribute("disabled")}},{key:"disable",value:function(){Jc(g(n.prototype),"disable",this).call(this),this.el_.setAttribute("disabled","disabled")}},{key:"handleKeyDown",value:function(e){ih().isEventKey(e,"Space")||ih().isEventKey(e,"Enter")?e.stopPropagation():Jc(g(n.prototype),"handleKeyDown",this).call(this,e)}}]),n}(Zv);Um.registerComponent("Button",ag);var og=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).mouseused_=!1,i.on("mousedown",(function(e){return i.handleMouseDown(e)})),i}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-big-play-button"}},{key:"handleClick",value:function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return Ym(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var i=function(){return r.focus()};Zm(t)?t.then(i,(function(){})):this.setTimeout(i,1)}else this.player_.tech(!0).focus()}},{key:"handleKeyDown",value:function(e){this.mouseused_=!1,Jc(g(n.prototype),"handleKeyDown",this).call(this,e)}},{key:"handleMouseDown",value:function(e){this.mouseused_=!0}}]),n}(ag);og.prototype.controlText_="Play Video",Um.registerComponent("BigPlayButton",og);var sg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).controlText(r&&r.controlText||i.localize("Close")),i}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-close-button ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(e){this.trigger({type:"close",bubbles:!1})}},{key:"handleKeyDown",value:function(e){ih().isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):Jc(g(n.prototype),"handleKeyDown",this).call(this,e)}}]),n}(ag);Um.registerComponent("CloseButton",sg);var ug=function(e){v(n,e);var t=T(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),r=t.call(this,e,i),i.replay=void 0===i.replay||i.replay,r.on(e,"play",(function(e){return r.handlePlay(e)})),r.on(e,"pause",(function(e){return r.handlePause(e)})),i.replay&&r.on(e,"ended",(function(e){return r.handleEnded(e)})),r}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-play-control ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(e){this.player_.paused()?Ym(this.player_.play()):this.player_.pause()}},{key:"handleSeeked",value:function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}},{key:"handlePlay",value:function(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")}},{key:"handlePause",value:function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")}},{key:"handleEnded",value:function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(e){return t.handleSeeked(e)}))}}]),n}(ag);ug.prototype.controlText_="Play",Um.registerComponent("PlayToggle",ug);var lg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).on(e,["timeupdate","ended"],(function(e){return i.updateContent(e)})),i.updateTextNode_(),i}return p(n,[{key:"createEl",value:function(){var e=this.buildCSSClass(),t=Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"".concat(e," vjs-time-control vjs-control")}),r=bp("span",{className:"vjs-control-text",textContent:"".concat(this.localize(this.labelText_),"\xa0")},{role:"presentation"});return t.appendChild(r),this.contentEl_=bp("span",{className:"".concat(e,"-display")},{"aria-live":"off",role:"presentation"}),t.appendChild(this.contentEl_),t}},{key:"dispose",value:function(){this.contentEl_=null,this.textNode_=null,Jc(g(n.prototype),"dispose",this).call(this)}},{key:"updateTextNode_",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=Wm(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(e.contentEl_){var t=e.textNode_;t&&e.contentEl_.firstChild!==t&&(t=null,Uf.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),e.textNode_=nh().createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}})))}},{key:"updateContent",value:function(e){}}]),n}(Um);lg.prototype.labelText_="Time",lg.prototype.controlText_="Time",Um.registerComponent("TimeDisplay",lg);var cg=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-current-time"}},{key:"updateContent",value:function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}}]),n}(lg);cg.prototype.labelText_="Current Time",cg.prototype.controlText_="Current Time",Um.registerComponent("CurrentTimeDisplay",cg);var hg=function(e){v(n,e);var t=T(n);function n(e,r){var i;d(this,n);var a=function(e){return i.updateContent(e)};return(i=t.call(this,e,r)).on(e,"durationchange",a),i.on(e,"loadstart",a),i.on(e,"loadedmetadata",a),i}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-duration"}},{key:"updateContent",value:function(e){var t=this.player_.duration();this.updateTextNode_(t)}}]),n}(lg);hg.prototype.labelText_="Duration",hg.prototype.controlText_="Duration",Um.registerComponent("DurationDisplay",hg);var dg=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"createEl",value:function(){var e=Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=Jc(g(n.prototype),"createEl",this).call(this,"div"),r=Jc(g(n.prototype),"createEl",this).call(this,"span",{textContent:"/"});return t.appendChild(r),e.appendChild(t),e}}]),n}(Um);Um.registerComponent("TimeDivider",dg);var fg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).on(e,"durationchange",(function(e){return i.updateContent(e)})),i}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-remaining-time"}},{key:"createEl",value:function(){var e=Jc(g(n.prototype),"createEl",this).call(this);return!1!==this.options_.displayNegative&&e.insertBefore(bp("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}},{key:"updateContent",value:function(e){var t;"number"===typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))}}]),n}(lg);fg.prototype.labelText_="Remaining Time",fg.prototype.controlText_="Remaining Time",Um.registerComponent("RemainingTimeDisplay",fg);var pg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).updateShowing(),i.on(i.player(),"durationchange",(function(e){return i.updateShowing(e)})),i}return p(n,[{key:"createEl",value:function(){var e=Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=bp("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(bp("span",{className:"vjs-control-text",textContent:"".concat(this.localize("Stream Type"),"\xa0")})),this.contentEl_.appendChild(nh().createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}},{key:"dispose",value:function(){this.contentEl_=null,Jc(g(n.prototype),"dispose",this).call(this)}},{key:"updateShowing",value:function(e){this.player().duration()===1/0?this.show():this.hide()}}]),n}(Um);Um.registerComponent("LiveDisplay",pg);var mg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).updateLiveEdgeStatus(),i.player_.liveTracker&&(i.updateLiveEdgeStatusHandler_=function(e){return i.updateLiveEdgeStatus(e)},i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatusHandler_)),i}return p(n,[{key:"createEl",value:function(){var e=Jc(g(n.prototype),"createEl",this).call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=bp("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}},{key:"updateLiveEdgeStatus",value:function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}},{key:"handleClick",value:function(){this.player_.liveTracker.seekToLiveEdge()}},{key:"dispose",value:function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,Jc(g(n.prototype),"dispose",this).call(this)}}]),n}(ag);function vg(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))}mg.prototype.controlText_="Seek to live, currently playing live",Um.registerComponent("SeekToLive",mg);var gg=Object.freeze({__proto__:null,clamp:vg}),yg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).handleMouseDown_=function(e){return i.handleMouseDown(e)},i.handleMouseUp_=function(e){return i.handleMouseUp(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleMouseMove_=function(e){return i.handleMouseMove(e)},i.update_=function(e){return i.update(e)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}return p(n,[{key:"enabled",value:function(){return this.enabled_}},{key:"enable",value:function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}},{key:"disable",value:function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}}},{key:"createEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),Jc(g(n.prototype),"createEl",this).call(this,e,t,r)}},{key:"handleMouseDown",value:function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||tp||e.preventDefault(),Lp(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}},{key:"handleMouseMove",value:function(e){}},{key:"handleMouseUp",value:function(){var e=this.bar.el_.ownerDocument;Dp(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()}},{key:"update",value:function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"}))),t}}},{key:"getProgress",value:function(){return Number(vg(this.getPercent(),0,1).toFixed(4))}},{key:"calculateDistance",value:function(e){var t=Rp(this.el_,e);return this.vertical()?t.y:t.x}},{key:"handleKeyDown",value:function(e){ih().isEventKey(e,"Left")||ih().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):ih().isEventKey(e,"Right")||ih().isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):Jc(g(n.prototype),"handleKeyDown",this).call(this,e)}},{key:"handleClick",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"vertical",value:function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}]),n}(Um);Um.registerComponent("Slider",yg);var _g=function(e,t){return vg(e/t*100,0,100).toFixed(2)+"%"},bg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).partEls_=[],i.on(e,"progress",(function(e){return i.update(e)})),i}return p(n,[{key:"createEl",value:function(){var e=Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-load-progress"}),t=bp("span",{className:"vjs-control-text"}),r=bp("span",{textContent:this.localize("Loaded")}),i=nh().createTextNode(": ");return this.percentageEl_=bp("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(r),t.appendChild(i),t.appendChild(this.percentageEl_),e}},{key:"dispose",value:function(){this.partEls_=null,this.percentageEl_=null,Jc(g(n.prototype),"dispose",this).call(this)}},{key:"update",value:function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,n=t.player_.buffered(),r=e&&e.isLive()?e.seekableEnd():t.player_.duration(),i=t.player_.bufferedEnd(),a=t.partEls_,o=_g(i,r);t.percent_!==o&&(t.el_.style.width=o,kp(t.percentageEl_,o),t.percent_=o);for(var s=0;s<n.length;s++){var u=n.start(s),l=n.end(s),c=a[s];c||(c=t.el_.appendChild(bp()),a[s]=c),c.dataset.start===u&&c.dataset.end===l||(c.dataset.start=u,c.dataset.end=l,c.style.left=_g(u,i),c.style.width=_g(l-u,i))}for(var h=a.length;h>n.length;h--)t.el_.removeChild(a[h-1]);a.length=n.length}))}}]),n}(Um);Um.registerComponent("LoadProgressBar",bg);var kg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).update=gm(vm(b(i),i.update),mm),i}return p(n,[{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}},{key:"update",value:function(e,t,n){var r=Mp(this.el_),i=Np(this.player_.el()),a=e.width*t;if(i&&r){var o=e.left-i.left+a,s=e.width-a+(i.right-e.right),u=r.width/2;o<u?u+=u-o:s<u&&(u=s),u<0?u=0:u>r.width&&(u=r.width),u=Math.round(u),this.el_.style.right="-".concat(u,"px"),this.write(n)}}},{key:"write",value:function(e){kp(this.el_,e)}},{key:"updateTime",value:function(e,t,n,r){var i=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var a,o=i.player_.duration();if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var s=i.player_.liveTracker.liveWindow(),u=s-t*s;a=(u<1?"":"-")+Wm(u,s)}else a=Wm(n,o);i.update(e,t,a),r&&r()}))}}]),n}(Um);Um.registerComponent("TimeTooltip",kg);var Tg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).update=gm(vm(b(i),i.update),mm),i}return p(n,[{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}},{key:"update",value:function(e,t){var n=this.getChild("timeTooltip");if(n){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,r)}}}]),n}(Um);Tg.prototype.options_={children:[]},dp||Yf||Tg.prototype.options_.children.push("timeTooltip"),Um.registerComponent("PlayProgressBar",Tg);var wg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).update=gm(vm(b(i),i.update),mm),i}return p(n,[{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-mouse-display"})}},{key:"update",value:function(e,t){var n=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,r,(function(){n.el_.style.left="".concat(e.width*t,"px")}))}}]),n}(Um);wg.prototype.options_={children:["timeTooltip"]},Um.registerComponent("MouseTimeDisplay",wg);var xg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).setEventHandlers_(),i}return p(n,[{key:"setEventHandlers_",value:function(){var e=this;this.update_=vm(this,this.update),this.update=gm(this.update_,mm),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in nh()&&"visibilityState"in nh()&&this.on(nh(),"visibilitychange",this.toggleVisibility_)}},{key:"toggleVisibility_",value:function(e){"hidden"===nh().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())}},{key:"enableInterval_",value:function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,mm))}},{key:"disableInterval_",value:function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}},{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}},{key:"update",value:function(e){var t=this;if("hidden"!==nh().visibilityState){var r=Jc(g(n.prototype),"update",this).call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var e=t.player_.ended()?t.player_.duration():t.getCurrentTime_(),n=t.player_.liveTracker,i=t.player_.duration();n&&n.isLive()&&(i=t.player_.liveTracker.liveCurrentTime()),t.percent_!==r&&(t.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),t.percent_=r),t.currentTime_===e&&t.duration_===i||(t.el_.setAttribute("aria-valuetext",t.localize("progress bar timing: currentTime={1} duration={2}",[Wm(e,i),Wm(i,i)],"{1} of {2}")),t.currentTime_=e,t.duration_=i),t.bar&&t.bar.update(Np(t.el()),t.getProgress())})),r}}},{key:"userSeek_",value:function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}},{key:"getCurrentTime_",value:function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}},{key:"getPercent",value:function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e}},{key:"handleMouseDown",value:function(e){Vp(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),Jc(g(n.prototype),"handleMouseDown",this).call(this,e))}},{key:"handleMouseMove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Vp(e)){var n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);var r=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){if(r>=.99)return void i.seekToLiveEdge();var a=i.seekableStart(),o=i.liveCurrentTime();if((n=a+r*i.liveWindow())>=o&&(n=o),n<=a&&(n=a+.1),n===1/0)return}else(n=r*this.player_.duration())===this.player_.duration()&&(n-=.1);this.userSeek_(n)}}},{key:"enable",value:function(){Jc(g(n.prototype),"enable",this).call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()}},{key:"disable",value:function(){Jc(g(n.prototype),"disable",this).call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()}},{key:"handleMouseUp",value:function(e){Jc(g(n.prototype),"handleMouseUp",this).call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ym(this.player_.play()):this.update_()}},{key:"stepForward",value:function(){this.userSeek_(this.player_.currentTime()+5)}},{key:"stepBack",value:function(){this.userSeek_(this.player_.currentTime()-5)}},{key:"handleAction",value:function(e){this.player_.paused()?this.player_.play():this.player_.pause()}},{key:"handleKeyDown",value:function(e){var t=this.player_.liveTracker;if(ih().isEventKey(e,"Space")||ih().isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(ih().isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(ih().isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(ih()(e))){e.preventDefault(),e.stopPropagation();var r=10*(ih().codes[ih()(e)]-ih().codes[0])/100;t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else ih().isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):ih().isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):Jc(g(n.prototype),"handleKeyDown",this).call(this,e)}},{key:"dispose",value:function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in nh()&&"visibilityState"in nh()&&this.off(nh(),"visibilitychange",this.toggleVisibility_),Jc(g(n.prototype),"dispose",this).call(this)}}]),n}(yg);xg.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},dp||Yf||xg.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Um.registerComponent("SeekBar",xg);var Sg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).handleMouseMove=gm(vm(b(i),i.handleMouseMove),mm),i.throttledHandleMouseSeek=gm(vm(b(i),i.handleMouseSeek),mm),i.handleMouseUpHandler_=function(e){return i.handleMouseUp(e)},i.handleMouseDownHandler_=function(e){return i.handleMouseDown(e)},i.enable(),i}return p(n,[{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-progress-control vjs-control"})}},{key:"handleMouseMove",value:function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("playProgressBar"),r=t.getChild("mouseTimeDisplay");if(n||r){var i=t.el(),a=Mp(i),o=Rp(i,e).x;o=vg(o,0,1),r&&r.update(a,o),n&&n.update(a,t.getProgress())}}}},{key:"handleMouseSeek",value:function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)}},{key:"enabled",value:function(){return this.enabled_}},{key:"disable",value:function(){if(this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Ym(this.player_.play())}}},{key:"enable",value:function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}},{key:"removeListenersAddedOnMousedownAndTouchstart",value:function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}},{key:"handleMouseDown",value:function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}},{key:"handleMouseUp",value:function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}]),n}(Um);Sg.prototype.options_={children:["seekBar"]},Um.registerComponent("ProgressControl",Sg);var Eg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).on(e,["enterpictureinpicture","leavepictureinpicture"],(function(e){return i.handlePictureInPictureChange(e)})),i.on(e,["disablepictureinpicturechanged","loadedmetadata"],(function(e){return i.handlePictureInPictureEnabledChange(e)})),i.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(function(){"audio"===e.currentType().substring(0,5)||e.audioPosterMode()||e.audioOnlyMode()?(e.isInPictureInPicture()&&e.exitPictureInPicture(),i.hide()):i.show()})),i.disable(),i}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-picture-in-picture-control ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"handlePictureInPictureEnabledChange",value:function(){nh().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()}},{key:"handlePictureInPictureChange",value:function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()}},{key:"handleClick",value:function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}}]),n}(ag);Eg.prototype.controlText_="Picture-in-Picture",Um.registerComponent("PictureInPictureToggle",Eg);var Cg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).on(e,"fullscreenchange",(function(e){return i.handleFullscreenChange(e)})),!1===nh()[e.fsApi_.fullscreenEnabled]&&i.disable(),i}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-fullscreen-control ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleFullscreenChange",value:function(e){this.player_.isFullscreen()?this.controlText("Exit Fullscreen"):this.controlText("Fullscreen")}},{key:"handleClick",value:function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}]),n}(ag);Cg.prototype.controlText_="Fullscreen",Um.registerComponent("FullscreenToggle",Cg);var Ig=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))},Ag=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"createEl",value:function(){var e=Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-volume-level"});return e.appendChild(Jc(g(n.prototype),"createEl",this).call(this,"span",{className:"vjs-control-text"})),e}}]),n}(Um);Um.registerComponent("VolumeLevel",Ag);var Pg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).update=gm(vm(b(i),i.update),mm),i}return p(n,[{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}},{key:"update",value:function(e,t,n,r){if(!n){var i=Np(this.el_),a=Np(this.player_.el()),o=e.width*t;if(!a||!i)return;var s=e.left-a.left+o,u=e.width-o+(a.right-e.right),l=i.width/2;s<l?l+=l-s:u<l&&(l=u),l<0?l=0:l>i.width&&(l=i.width),this.el_.style.right="-".concat(l,"px")}this.write("".concat(r,"%"))}},{key:"write",value:function(e){kp(this.el_,e)}},{key:"updateVolume",value:function(e,t,n,r,i){var a=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){a.update(e,t,n,r.toFixed(0)),i&&i()}))}}]),n}(Um);Um.registerComponent("VolumeLevelTooltip",Pg);var Og=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).update=gm(vm(b(i),i.update),mm),i}return p(n,[{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-mouse-display"})}},{key:"update",value:function(e,t,n){var r=this,i=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,i,(function(){n?r.el_.style.bottom="".concat(e.height*t,"px"):r.el_.style.left="".concat(e.width*t,"px")}))}}]),n}(Um);Og.prototype.options_={children:["volumeLevelTooltip"]},Um.registerComponent("MouseVolumeLevelDisplay",Og);var Lg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).on("slideractive",(function(e){return i.updateLastVolume_(e)})),i.on(e,"volumechange",(function(e){return i.updateARIAAttributes(e)})),e.ready((function(){return i.updateARIAAttributes()})),i}return p(n,[{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}},{key:"handleMouseDown",value:function(e){Vp(e)&&Jc(g(n.prototype),"handleMouseDown",this).call(this,e)}},{key:"handleMouseMove",value:function(e){var t=this.getChild("mouseVolumeLevelDisplay");if(t){var n=this.el(),r=Np(n),i=this.vertical(),a=Rp(n,e);a=vg(a=i?a.y:a.x,0,1),t.update(r,a,i)}Vp(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}},{key:"checkMuted",value:function(){this.player_.muted()&&this.player_.muted(!1)}},{key:"getPercent",value:function(){return this.player_.muted()?0:this.player_.volume()}},{key:"stepForward",value:function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}},{key:"stepBack",value:function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}},{key:"updateARIAAttributes",value:function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}},{key:"volumeAsPercentage_",value:function(){return Math.round(100*this.player_.volume())}},{key:"updateLastVolume_",value:function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))}}]),n}(yg);Lg.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},dp||Yf||Lg.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Lg.prototype.playerEvent="volumechange",Um.registerComponent("VolumeBar",Lg);var Dg=function(e){v(n,e);var t=T(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),i.vertical=i.vertical||!1,("undefined"===typeof i.volumeBar||qf(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),r=t.call(this,e,i),Ig(b(r),e),r.throttledHandleMouseMove=gm(vm(b(r),r.handleMouseMove),mm),r.handleMouseUpHandler_=function(e){return r.handleMouseUp(e)},r.on("mousedown",(function(e){return r.handleMouseDown(e)})),r.on("touchstart",(function(e){return r.handleMouseDown(e)})),r.on("mousemove",(function(e){return r.handleMouseMove(e)})),r.on(r.volumeBar,["focus","slideractive"],(function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")})),r.on(r.volumeBar,["blur","sliderinactive"],(function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")})),r}return p(n,[{key:"createEl",value:function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-volume-control vjs-control ".concat(e)})}},{key:"handleMouseDown",value:function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}},{key:"handleMouseUp",value:function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}},{key:"handleMouseMove",value:function(e){this.volumeBar.handleMouseMove(e)}}]),n}(Um);Dg.prototype.options_={children:["volumeBar"]},Um.registerComponent("VolumeControl",Dg);var Ng=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(b(i=t.call(this,e,r)),e),i.on(e,["loadstart","volumechange"],(function(e){return i.update(e)})),i}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-mute-control ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}},{key:"update",value:function(e){this.updateIcon_(),this.updateControlText_()}},{key:"updateIcon_",value:function(){var e=this.player_.volume(),t=3;dp&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2),Sp(this.el_,[0,1,2,3].reduce((function(e,t){return e+"".concat(t?" ":"","vjs-vol-").concat(t)}),"")),xp(this.el_,"vjs-vol-".concat(t))}},{key:"updateControlText_",value:function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}}]),n}(ag);Ng.prototype.controlText_="Mute",Um.registerComponent("MuteToggle",Ng);var Mg=function(e){v(n,e);var t=T(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),"undefined"!==typeof i.inline?i.inline=i.inline:i.inline=!0,("undefined"===typeof i.volumeControl||qf(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),(r=t.call(this,e,i)).handleKeyPressHandler_=function(e){return r.handleKeyPress(e)},r.on(e,["loadstart"],(function(e){return r.volumePanelState_(e)})),r.on(r.muteToggle,"keyup",(function(e){return r.handleKeyPress(e)})),r.on(r.volumeControl,"keyup",(function(e){return r.handleVolumeControlKeyUp(e)})),r.on("keydown",(function(e){return r.handleKeyPress(e)})),r.on("mouseover",(function(e){return r.handleMouseOver(e)})),r.on("mouseout",(function(e){return r.handleMouseOut(e)})),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}return p(n,[{key:"sliderActive_",value:function(){this.addClass("vjs-slider-active")}},{key:"sliderInactive_",value:function(){this.removeClass("vjs-slider-active")}},{key:"volumePanelState_",value:function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}},{key:"createEl",value:function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-volume-panel vjs-control ".concat(e)})}},{key:"dispose",value:function(){this.handleMouseOut(),Jc(g(n.prototype),"dispose",this).call(this)}},{key:"handleVolumeControlKeyUp",value:function(e){ih().isEventKey(e,"Esc")&&this.muteToggle.focus()}},{key:"handleMouseOver",value:function(e){this.addClass("vjs-hover"),um(nh(),"keyup",this.handleKeyPressHandler_)}},{key:"handleMouseOut",value:function(e){this.removeClass("vjs-hover"),lm(nh(),"keyup",this.handleKeyPressHandler_)}},{key:"handleKeyPress",value:function(e){ih().isEventKey(e,"Esc")&&this.handleMouseOut()}}]),n}(Um);Mg.prototype.options_={children:["muteToggle","volumeControl"]},Um.registerComponent("VolumePanel",Mg);var Rg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),i=t.call(this,e,r),r&&(i.menuButton_=r.menuButton),i.focusedChild_=-1,i.on("keydown",(function(e){return i.handleKeyDown(e)})),i.boundHandleBlur_=function(e){return i.handleBlur(e)},i.boundHandleTapClick_=function(e){return i.handleTapClick(e)},i}return p(n,[{key:"addEventListenerForItem",value:function(e){e instanceof Um&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}},{key:"removeEventListenerForItem",value:function(e){e instanceof Um&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}},{key:"removeChild",value:function(e){"string"===typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),Jc(g(n.prototype),"removeChild",this).call(this,e)}},{key:"addItem",value:function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)}},{key:"createEl",value:function(){var e=this.options_.contentElType||"ul";this.contentEl_=bp(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=Jc(g(n.prototype),"createEl",this).call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),um(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t}},{key:"dispose",value:function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,Jc(g(n.prototype),"dispose",this).call(this)}},{key:"handleBlur",value:function(e){var t=e.relatedTarget||nh().activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}}},{key:"handleTapClick",value:function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}}},{key:"handleKeyDown",value:function(e){ih().isEventKey(e,"Left")||ih().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(ih().isEventKey(e,"Right")||ih().isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}},{key:"stepForward",value:function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)}},{key:"stepBack",value:function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice(),n=t.length&&t[0].hasClass("vjs-menu-title");n&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())}}]),n}(Um);Um.registerComponent("Menu",Rg);var Ug=function(e){v(n,e);var t=T(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,n),(r=t.call(this,e,i)).menuButton_=new ag(e,i),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var a=ag.prototype.buildCSSClass();r.menuButton_.el_.className=r.buildCSSClass()+" "+a,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0;var o=function(e){return r.handleClick(e)};return r.handleMenuKeyUp_=function(e){return r.handleMenuKeyUp(e)},r.on(r.menuButton_,"tap",o),r.on(r.menuButton_,"click",o),r.on(r.menuButton_,"keydown",(function(e){return r.handleKeyDown(e)})),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),um(nh(),"keyup",r.handleMenuKeyUp_)})),r.on("mouseleave",(function(e){return r.handleMouseLeave(e)})),r.on("keydown",(function(e){return r.handleSubmenuKeyDown(e)})),r}return p(n,[{key:"update",value:function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}},{key:"createMenu",value:function(){var e=new Rg(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=bp("li",{className:"vjs-menu-title",textContent:Nm(this.options_.title),tabIndex:-1}),n=new Um(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}},{key:"createItems",value:function(){}},{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:this.buildWrapperCSSClass()},{})}},{key:"buildWrapperCSSClass",value:function(){var e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";var t=ag.prototype.buildCSSClass();return"vjs-menu-button ".concat(e," ").concat(t," ").concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"buildCSSClass",value:function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button ".concat(e," ").concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"controlText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)}},{key:"dispose",value:function(){this.handleMouseLeave(),Jc(g(n.prototype),"dispose",this).call(this)}},{key:"handleClick",value:function(e){this.buttonPressed_?this.unpressButton():this.pressButton()}},{key:"handleMouseLeave",value:function(e){this.removeClass("vjs-hover"),lm(nh(),"keyup",this.handleMenuKeyUp_)}},{key:"focus",value:function(){this.menuButton_.focus()}},{key:"blur",value:function(){this.menuButton_.blur()}},{key:"handleKeyDown",value:function(e){ih().isEventKey(e,"Esc")||ih().isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),ih().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(ih().isEventKey(e,"Up")||ih().isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}},{key:"handleMenuKeyUp",value:function(e){(ih().isEventKey(e,"Esc")||ih().isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}},{key:"handleSubmenuKeyPress",value:function(e){this.handleSubmenuKeyDown(e)}},{key:"handleSubmenuKeyDown",value:function(e){(ih().isEventKey(e,"Esc")||ih().isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),ih().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}},{key:"pressButton",value:function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),dp&&yp())return;this.menu.focus()}}},{key:"unpressButton",value:function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}},{key:"disable",value:function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}},{key:"enable",value:function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}]),n}(Um);Um.registerComponent("MenuButton",Ug);var jg=function(e){v(n,e);var t=T(n);function n(e,r){var i;d(this,n);var a=r.tracks;if((i=t.call(this,e,r)).items.length<=1&&i.hide(),!a)return k(i);var o=vm(b(i),i.update);return a.addEventListener("removetrack",o),a.addEventListener("addtrack",o),a.addEventListener("labelchange",o),i.player_.on("ready",o),i.player_.on("dispose",(function(){a.removeEventListener("removetrack",o),a.removeEventListener("addtrack",o),a.removeEventListener("labelchange",o)})),i}return p(n)}(Ug);Um.registerComponent("TrackButton",jg);var Fg=["Tab","Esc","Up","Down","Right","Left"],Bg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).selectable=r.selectable,i.isSelected_=r.selected||!1,i.multiSelectable=r.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}return p(n,[{key:"createEl",value:function(e,t,r){this.nonIconControl=!0;var i=Jc(g(n.prototype),"createEl",this).call(this,"li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),r);return i.replaceChild(bp("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),i.querySelector(".vjs-icon-placeholder")),i}},{key:"handleKeyDown",value:function(e){Fg.some((function(t){return ih().isEventKey(e,t)}))||Jc(g(n.prototype),"handleKeyDown",this).call(this,e)}},{key:"handleClick",value:function(e){this.selected(!0)}},{key:"selected",value:function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}]),n}(Zv);Um.registerComponent("MenuItem",Bg);var zg=function(e){v(n,e);var t=T(n);function n(e,r){var i;d(this,n);var a=r.track,o=e.textTracks();r.label=a.label||a.language||"Unknown",r.selected="showing"===a.mode,(i=t.call(this,e,r)).track=a,i.kinds=(r.kinds||[r.kind||i.track.kind]).filter(Boolean);var s,u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(b(i),t)},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleSelectedLanguageChange.apply(b(i),t)};(e.on(["loadstart","texttrackchange"],u),o.addEventListener("change",u),o.addEventListener("selectedlanguagechange",l),i.on("dispose",(function(){e.off(["loadstart","texttrackchange"],u),o.removeEventListener("change",u),o.removeEventListener("selectedlanguagechange",l)})),void 0===o.onchange)&&i.on(["tap","click"],(function(){if("object"!==typeof eh().Event)try{s=new(eh().Event)("change")}catch(e){}s||(s=nh().createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(s)}));return i.handleTracksChange(),i}return p(n,[{key:"handleClick",value:function(e){var t=this.track,r=this.player_.textTracks();if(Jc(g(n.prototype),"handleClick",this).call(this,e),r)for(var i=0;i<r.length;i++){var a=r[i];-1!==this.kinds.indexOf(a.kind)&&(a===t?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled"))}}},{key:"handleTracksChange",value:function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)}},{key:"handleSelectedLanguageChange",value:function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}},{key:"dispose",value:function(){this.track=null,Jc(g(n.prototype),"dispose",this).call(this)}}]),n}(Bg);Um.registerComponent("TextTrackMenuItem",zg);var Vg=function(e){v(n,e);var t=T(n);function n(e,r){return d(this,n),r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,t.call(this,e,r)}return p(n,[{key:"handleTracksChange",value:function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var a=t[r];if(this.options_.kinds.indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)}},{key:"handleSelectedLanguageChange",value:function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var a=t[r];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}}]),n}(zg);Um.registerComponent("OffTextTrackMenuItem",Vg);var Hg=function(e){v(n,e);var t=T(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),r.tracks=e.textTracks(),t.call(this,e,r)}return p(n,[{key:"createItems",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zg;this.label_&&(e="".concat(this.label_," off")),t.push(new Vg(this.player_,{kinds:this.kinds_,kind:this.kind_,label:e})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var a=r[i];if(this.kinds_.indexOf(a.kind)>-1){var o=new n(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass("vjs-".concat(a.kind,"-menu-item")),t.push(o)}}return t}}]),n}(jg);Um.registerComponent("TextTrackButton",Hg);var qg=function(e){v(n,e);var t=T(n);function n(e,r){var i;d(this,n);var a=r.track,o=r.cue,s=e.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=o.text,r.selected=o.startTime<=s&&s<o.endTime,(i=t.call(this,e,r)).track=a,i.cue=o,i}return p(n,[{key:"handleClick",value:function(e){Jc(g(n.prototype),"handleClick",this).call(this),this.player_.currentTime(this.cue.startTime)}}]),n}(Bg);Um.registerComponent("ChaptersTrackMenuItem",qg);var Wg=function(e){v(n,e);var t=T(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).selectCurrentItem_=function(){a.items.forEach((function(e){e.selected(a.track_.activeCues[0]===e.cue)}))},a}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-chapters-button ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"buildWrapperCSSClass",value:function(){return"vjs-chapters-button ".concat(Jc(g(n.prototype),"buildWrapperCSSClass",this).call(this))}},{key:"update",value:function(e){if(!e||!e.track||"chapters"===e.track.kind){var t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),Jc(g(n.prototype),"update",this).call(this)):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&Jc(g(n.prototype),"update",this).call(this)}}},{key:"setTrack",value:function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}},{key:"findChaptersTrack",value:function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}}},{key:"getMenuCaption",value:function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Nm(this.kind_))}},{key:"createMenu",value:function(){return this.options_.title=this.getMenuCaption(),Jc(g(n.prototype),"createMenu",this).call(this)}},{key:"createItems",value:function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],a=new qg(this.player_,{track:this.track_,cue:i});e.push(a)}return e}}]),n}(Hg);Wg.prototype.kind_="chapters",Wg.prototype.controlText_="Chapters",Um.registerComponent("ChaptersButton",Wg);var Gg=function(e){v(n,e);var t=T(n);function n(e,r,i){var a;d(this,n),a=t.call(this,e,r,i);var o=e.textTracks(),s=vm(b(a),a.handleTracksChange);return o.addEventListener("change",s),a.on("dispose",(function(){o.removeEventListener("change",s)})),a}return p(n,[{key:"handleTracksChange",value:function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var a=t[r];if(a.kind!==this.kind_&&"showing"===a.mode){n=!0;break}}n?this.disable():this.enable()}},{key:"buildCSSClass",value:function(){return"vjs-descriptions-button ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"buildWrapperCSSClass",value:function(){return"vjs-descriptions-button ".concat(Jc(g(n.prototype),"buildWrapperCSSClass",this).call(this))}}]),n}(Hg);Gg.prototype.kind_="descriptions",Gg.prototype.controlText_="Descriptions",Um.registerComponent("DescriptionsButton",Gg);var Kg=function(e){v(n,e);var t=T(n);function n(e,r,i){return d(this,n),t.call(this,e,r,i)}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-subtitles-button ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"buildWrapperCSSClass",value:function(){return"vjs-subtitles-button ".concat(Jc(g(n.prototype),"buildWrapperCSSClass",this).call(this))}}]),n}(Hg);Kg.prototype.kind_="subtitles",Kg.prototype.controlText_="Subtitles",Um.registerComponent("SubtitlesButton",Kg);var Qg=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",(i=t.call(this,e,r)).addClass("vjs-texttrack-settings"),i.controlText(", opens "+r.kind+" settings dialog"),i}return p(n,[{key:"handleClick",value:function(e){this.player().getChild("textTrackSettings").open()}}]),n}(zg);Um.registerComponent("CaptionSettingsMenuItem",Qg);var Xg=function(e){v(n,e);var t=T(n);function n(e,r,i){return d(this,n),t.call(this,e,r,i)}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-captions-button ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"buildWrapperCSSClass",value:function(){return"vjs-captions-button ".concat(Jc(g(n.prototype),"buildWrapperCSSClass",this).call(this))}},{key:"createItems",value:function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Qg(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),Jc(g(n.prototype),"createItems",this).call(this,e)}}]),n}(Hg);Xg.prototype.kind_="captions",Xg.prototype.controlText_="Captions",Um.registerComponent("CaptionsButton",Xg);var Zg=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"createEl",value:function(e,t,r){var i=Jc(g(n.prototype),"createEl",this).call(this,e,t,r),a=i.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(a.appendChild(bp("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(bp("span",{className:"vjs-control-text",textContent:" ".concat(this.localize("Captions"))}))),i}}]),n}(zg);Um.registerComponent("SubsCapsMenuItem",Zg);var Yg=function(e){v(n,e);var t=T(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),(r=t.call(this,e,i)).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(Nm(r.label_)),r}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-subs-caps-button ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"buildWrapperCSSClass",value:function(){return"vjs-subs-caps-button ".concat(Jc(g(n.prototype),"buildWrapperCSSClass",this).call(this))}},{key:"createItems",value:function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Qg(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=Jc(g(n.prototype),"createItems",this).call(this,e,Zg)}}]),n}(Hg);Yg.prototype.kinds_=["captions","subtitles"],Yg.prototype.controlText_="Subtitles",Um.registerComponent("SubsCapsButton",Yg);var Jg=function(e){v(n,e);var t=T(n);function n(e,r){var i;d(this,n);var a=r.track,o=e.audioTracks();r.label=a.label||a.language||"Unknown",r.selected=a.enabled,(i=t.call(this,e,r)).track=a,i.addClass("vjs-".concat(a.kind,"-menu-item"));var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(b(i),t)};return o.addEventListener("change",s),i.on("dispose",(function(){o.removeEventListener("change",s)})),i}return p(n,[{key:"createEl",value:function(e,t,r){var i=Jc(g(n.prototype),"createEl",this).call(this,e,t,r),a=i.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(a.appendChild(bp("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(bp("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}},{key:"handleClick",value:function(e){if(Jc(g(n.prototype),"handleClick",this).call(this,e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var t=this.player_.audioTracks(),r=0;r<t.length;r++){var i=t[r];i!==this.track&&(i.enabled=i===this.track)}}},{key:"handleTracksChange",value:function(e){this.selected(this.track.enabled)}}]),n}(Bg);Um.registerComponent("AudioTrackMenuItem",Jg);var $g=function(e){v(n,e);var t=T(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),r.tracks=e.audioTracks(),t.call(this,e,r)}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-audio-button ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"buildWrapperCSSClass",value:function(){return"vjs-audio-button ".concat(Jc(g(n.prototype),"buildWrapperCSSClass",this).call(this))}},{key:"createItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new Jg(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e}}]),n}(jg);$g.prototype.controlText_="Audio Track",Um.registerComponent("AudioTrackButton",$g);var ey=function(e){v(n,e);var t=T(n);function n(e,r){var i;d(this,n);var a=r.rate,o=parseFloat(a,10);return r.label=a,r.selected=o===e.playbackRate(),r.selectable=!0,r.multiSelectable=!1,(i=t.call(this,e,r)).label=a,i.rate=o,i.on(e,"ratechange",(function(e){return i.update(e)})),i}return p(n,[{key:"handleClick",value:function(e){Jc(g(n.prototype),"handleClick",this).call(this),this.player().playbackRate(this.rate)}},{key:"update",value:function(e){this.selected(this.player().playbackRate()===this.rate)}}]),n}(Bg);ey.prototype.contentElType="button",Um.registerComponent("PlaybackRateMenuItem",ey);var ty=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).menuButton_.el_.setAttribute("aria-describedby",i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(e,"loadstart",(function(e){return i.updateVisibility(e)})),i.on(e,"ratechange",(function(e){return i.updateLabel(e)})),i.on(e,"playbackrateschange",(function(e){return i.handlePlaybackRateschange(e)})),i}return p(n,[{key:"createEl",value:function(){var e=Jc(g(n.prototype),"createEl",this).call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=bp("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}},{key:"dispose",value:function(){this.labelEl_=null,Jc(g(n.prototype),"dispose",this).call(this)}},{key:"buildCSSClass",value:function(){return"vjs-playback-rate ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"buildWrapperCSSClass",value:function(){return"vjs-playback-rate ".concat(Jc(g(n.prototype),"buildWrapperCSSClass",this).call(this))}},{key:"createItems",value:function(){for(var e=this.playbackRates(),t=[],n=e.length-1;n>=0;n--)t.push(new ey(this.player(),{rate:e[n]+"x"}));return t}},{key:"handlePlaybackRateschange",value:function(e){this.update()}},{key:"playbackRates",value:function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]}},{key:"playbackRateSupported",value:function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}},{key:"updateVisibility",value:function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}},{key:"updateLabel",value:function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}]),n}(Ug);ty.prototype.controlText_="Playback Rate",Um.registerComponent("PlaybackRateMenuButton",ty);var ny=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-spacer ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"createEl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.className||(t.className=this.buildCSSClass()),Jc(g(n.prototype),"createEl",this).call(this,e,t,r)}}]),n}(Um);Um.registerComponent("Spacer",ny);var ry=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-custom-control-spacer ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass(),textContent:"\xa0"})}}]),n}(ny);Um.registerComponent("CustomControlSpacer",ry);var iy=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"div",{className:"vjs-control-bar",dir:"ltr"})}}]),n}(Um);iy.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in nh()&&iy.prototype.options_.children.splice(iy.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Um.registerComponent("ControlBar",iy);var ay=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).on(e,"error",(function(e){return i.open(e)})),i}return p(n,[{key:"buildCSSClass",value:function(){return"vjs-error-display ".concat(Jc(g(n.prototype),"buildCSSClass",this).call(this))}},{key:"content",value:function(){var e=this.player().error();return e?this.localize(e.message):""}}]),n}(nv);ay.prototype.options_=Object.assign({},nv.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Um.registerComponent("ErrorDisplay",ay);var oy="vjs-text-track-settings",sy=["#000","Black"],uy=["#00F","Blue"],ly=["#0FF","Cyan"],cy=["#0F0","Green"],hy=["#F0F","Magenta"],dy=["#F00","Red"],fy=["#FFF","White"],py=["#FF0","Yellow"],my=["1","Opaque"],vy=["0.5","Semi-Transparent"],gy=["0","Transparent"],yy={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[sy,fy,dy,cy,uy,py,hy,ly]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[my,vy,gy]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[fy,sy,dy,cy,uy,py,hy,ly]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[my,vy]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[gy,vy,my]}};function _y(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}yy.windowColor.options=yy.backgroundColor.options;var by=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),r.temporary=!1,(i=t.call(this,e,r)).updateDisplay=i.updateDisplay.bind(b(i)),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=bp("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===r.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),zf(yy,(function(e){i.on(i.$(e.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}return p(n,[{key:"dispose",value:function(){this.endDialog=null,Jc(g(n.prototype),"dispose",this).call(this)}},{key:"createElSelect_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",i=yy[e],a=i.id.replace("%s",this.id_),o=[n,a].join(" ").trim();return["<".concat(r,' id="').concat(a,'" class="').concat("label"===r?"vjs-label":"",'">'),this.localize(i.label),"</".concat(r,">"),'<select aria-labelledby="'.concat(o,'">')].concat(i.options.map((function(e){var n=a+"-"+e[1].replace(/\W+/g,"");return['<option id="'.concat(n,'" value="').concat(e[0],'" '),'aria-labelledby="'.concat(o," ").concat(n,'">'),t.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")}},{key:"createElFgColor_",value:function(){var e="captions-text-legend-".concat(this.id_);return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'.concat(e,'">'),this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}},{key:"createElBgColor_",value:function(){var e="captions-background-".concat(this.id_);return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'.concat(e,'">'),this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}},{key:"createElWinColor_",value:function(){var e="captions-window-".concat(this.id_);return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'.concat(e,'">'),this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}},{key:"createElColors_",value:function(){return bp("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}},{key:"createElFont_",value:function(){return bp("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}},{key:"createElControls_",value:function(){var e=this.localize("restore all settings to the default values");return bp("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'.concat(e,'">'),this.localize("Reset"),'<span class="vjs-control-text"> '.concat(e,"</span>"),"</button>",'<button type="button" class="vjs-done-button">'.concat(this.localize("Done"),"</button>")].join("")})}},{key:"content",value:function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}},{key:"label",value:function(){return this.localize("Caption Settings Dialog")}},{key:"description",value:function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}},{key:"buildCSSClass",value:function(){return Jc(g(n.prototype),"buildCSSClass",this).call(this)+" vjs-text-track-settings"}},{key:"getValues",value:function(){var e=this;return Vf(yy,(function(t,n,r){var i=function(e,t){return _y(e.options[e.options.selectedIndex].value,t)}(e.$(n.selector),n.parser);return void 0!==i&&(t[r]=i),t}),{})}},{key:"setValues",value:function(e){var t=this;zf(yy,(function(n,r){!function(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(_y(e.options[r].value,n)===t){e.selectedIndex=r;break}}(t.$(n.selector),e[r],n.parser)}))}},{key:"setDefaults",value:function(){var e=this;zf(yy,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))}},{key:"restoreSettings",value:function(){var e;try{e=JSON.parse(eh().localStorage.getItem(oy))}catch(t){Uf.warn(t)}e&&this.setValues(e)}},{key:"saveSettings",value:function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?eh().localStorage.setItem(oy,JSON.stringify(e)):eh().localStorage.removeItem(oy)}catch(t){Uf.warn(t)}}}},{key:"updateDisplay",value:function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}},{key:"conditionalBlur_",value:function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()}}]),n}(nv);Um.registerComponent("TextTrackSettings",by);var ky=function(e){v(n,e);var t=T(n);function n(e,r){var i;d(this,n);var a=r.ResizeObserver||eh().ResizeObserver;null===r.ResizeObserver&&(a=!1);var o=Wf({createEl:!a,reportTouchActivity:!1},r);return(i=t.call(this,e,o)).ResizeObserver=r.ResizeObserver||eh().ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=ym((function(){i.resizeHandler()}),100,!1,b(i)),a?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var e=i.debouncedHandler_,t=i.unloadListener_=function(){lm(this,"resize",e),lm(this,"unload",t),t=null};um(i.el_.contentWindow,"unload",t),um(i.el_.contentWindow,"resize",e)}},i.one("load",i.loadListener_)),i}return p(n,[{key:"createEl",value:function(){return Jc(g(n.prototype),"createEl",this).call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}},{key:"resizeHandler",value:function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")}},{key:"dispose",value:function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,Jc(g(n.prototype),"dispose",this).call(this)}}]),n}(Um);Um.registerComponent("ResizeManager",ky);var Ty={trackingThreshold:20,liveTolerance:15},wy=function(e){v(n,e);var t=T(n);function n(e,r){var i;d(this,n);var a=Wf(Ty,r,{createEl:!1});return(i=t.call(this,e,a)).trackLiveHandler_=function(){return i.trackLive_()},i.handlePlay_=function(e){return i.handlePlay(e)},i.handleFirstTimeupdate_=function(e){return i.handleFirstTimeupdate(e)},i.handleSeeked_=function(e){return i.handleSeeked(e)},i.seekToLiveEdge_=function(e){return i.seekToLiveEdge(e)},i.reset_(),i.on(i.player_,"durationchange",(function(e){return i.handleDurationchange(e)})),i.on(i.player_,"canplay",(function(){return i.toggleTracking()})),i}return p(n,[{key:"trackLive_",value:function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(eh().performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;var r=this.liveCurrentTime(),i=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-i)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}}},{key:"handleDurationchange",value:function(){this.toggleTracking()}},{key:"toggleTracking",value:function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}},{key:"startTracking",value:function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,mm),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}},{key:"handleFirstTimeupdate",value:function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}},{key:"handleSeeked",value:function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}},{key:"handlePlay",value:function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}},{key:"reset_",value:function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}},{key:"nextSeekedFromUser",value:function(){this.nextSeekedFromUser_=!0}},{key:"stopTracking",value:function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}},{key:"seekableEnd",value:function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0}},{key:"seekableStart",value:function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0}},{key:"liveWindow",value:function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}},{key:"isLive",value:function(){return this.isTracking()}},{key:"atLiveEdge",value:function(){return!this.behindLiveEdge()}},{key:"liveCurrentTime",value:function(){return this.pastSeekEnd()+this.seekableEnd()}},{key:"pastSeekEnd",value:function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}},{key:"behindLiveEdge",value:function(){return this.behindLiveEdge_}},{key:"isTracking",value:function(){return"number"===typeof this.trackingInterval_}},{key:"seekToLiveEdge",value:function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}},{key:"dispose",value:function(){this.stopTracking(),Jc(g(n.prototype),"dispose",this).call(this)}}]),n}(Um);Um.registerComponent("LiveTracker",wy);var xy=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).on("statechanged",(function(e){return i.updateDom_()})),i.updateDom_(),i}return p(n,[{key:"createEl",value:function(){return this.els={title:bp("div",{className:"vjs-title-bar-title",id:"vjs-title-bar-title-".concat(rm())}),description:bp("div",{className:"vjs-title-bar-description",id:"vjs-title-bar-description-".concat(rm())})},bp("div",{className:"vjs-title-bar"},{},Object.values(this.els))}},{key:"updateDom_",value:function(){var e=this,t=this.player_.tech_,n=t&&t.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach((function(t){var i=e.state[t],a=e.els[t],o=r[t];jp(a),i&&kp(a,i),n&&(n.removeAttribute(o),i&&n.setAttribute(o,a.id))})),this.state.title||this.state.description?this.show():this.hide()}},{key:"update",value:function(e){this.setState(e)}},{key:"dispose",value:function(){var e=this.player_.tech_,t=e&&e.el_;t&&(t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-describedby")),Jc(g(n.prototype),"dispose",this).call(this),this.els=null}}]),n}(Um);Um.registerComponent("TitleBar",xy);var Sy=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],i="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var o=n[a].src;o&&-1===r.indexOf(o)&&r.push(o)}return!!r.length&&(1===r.length&&(i=r[0]),e.triggerSourceset(i),!0)},Ey=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=nh().createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=nh().createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",eh().Element.prototype.appendChild.call(this,n),this.innerHTML}}),Cy=function(e,t){for(var n={},r=0;r<e.length&&!((n=Object.getOwnPropertyDescriptor(e[r],t))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},Iy=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=function(e){return Cy([e.el(),eh().HTMLMediaElement.prototype,eh().Element.prototype,Ey],"innerHTML")}(e),i=function(n){return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=n.apply(t,i);return Sy(e),o}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=i(n[e]))})),Object.defineProperty(t,"innerHTML",Wf(r,{set:i(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},Ay=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?yv(eh().Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return eh().Element.prototype.setAttribute.call(this,"src",e),e}}),Py=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return Cy([e.el(),eh().HTMLMediaElement.prototype,Ay],"src")}(e),r=t.setAttribute,i=t.load;Object.defineProperty(t,"src",Wf(n,{set:function(r){var i=n.set.call(t,r);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(n,i){var a=r.call(t,n,i);return/src/i.test(n)&&e.triggerSourceset(t.src),a},t.load=function(){var n=i.call(t);return Sy(e)||(e.triggerSourceset(""),Iy(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):Sy(e)||Iy(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Oy=function(e){v(n,e);var t=T(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);var a=e.source,o=!1;if(i.featuresVideoFrameCallback=i.featuresVideoFrameCallback&&"VIDEO"===i.el_.tagName,a&&(i.el_.currentSrc!==a.src||e.tag&&3===e.tag.initNetworkState_)?i.setSource(a):i.handleLateInit_(i.el_),e.enableSourceset&&i.setupSourcesetHandling_(),i.isScrubbing_=!1,i.el_.hasChildNodes()){for(var s=i.el_.childNodes,u=s.length,l=[];u--;){var c=s[u];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),o||i.el_.hasAttribute("crossorigin")||!bv(c.src)||(o=!0)):l.push(c))}for(var h=0;h<l.length;h++)i.el_.removeChild(l[h])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&o&&Uf.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(lp||up)&&!0===e.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return p(n,[{key:"dispose",value:function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),n.disposeMediaElement(this.el_),this.options_=null,Jc(g(n.prototype),"dispose",this).call(this)}},{key:"setupSourcesetHandling_",value:function(){Py(this)}},{key:"restoreMetadataTracksInIOSNativePlayer_",value:function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var r=t[n];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var r=function n(){for(var r=0;r<e.length;r++){var i=e[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",r),t.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",r)}))}},{key:"overrideNative_",value:function(e,t){var n=this;if(t===this["featuresNative".concat(e,"Tracks")]){var r=e.toLowerCase();this["".concat(r,"TracksListeners_")]&&Object.keys(this["".concat(r,"TracksListeners_")]).forEach((function(e){n.el()["".concat(r,"Tracks")].removeEventListener(e,n["".concat(r,"TracksListeners_")][e])})),this["featuresNative".concat(e,"Tracks")]=!t,this["".concat(r,"TracksListeners_")]=null,this.proxyNativeTracksForType_(r)}}},{key:"overrideNativeAudioTracks",value:function(e){this.overrideNative_("Audio",e)}},{key:"overrideNativeVideoTracks",value:function(e){this.overrideNative_("Video",e)}},{key:"proxyNativeTracksForType_",value:function(e){var t=this,n=Iv[e],r=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative".concat(n.capitalName,"Tracks")]&&r&&r.addEventListener){var a={change:function(n){var r={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(r),"text"===e&&t[Av.remoteText.getterName]().trigger(r)},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},o=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,a=0;a<r.length;a++)if(r[a]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=a,Object.keys(a).forEach((function(e){var n=a[e];r.addEventListener(e,n),t.on("dispose",(function(t){return r.removeEventListener(e,n)}))})),this.on("loadstart",o),this.on("dispose",(function(e){return t.off("loadstart",o)}))}}},{key:"proxyNativeTracks_",value:function(){var e=this;Iv.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))}},{key:"createEl",value:function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),n.disposeMediaElement(e),e=t}else{e=nh().createElement("video");var r=Wf({},this.options_.tag&&Ip(this.options_.tag));lp&&!0===this.options_.nativeControlsForTouch||delete r.controls,Cp(e,Object.assign(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&Pp(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],a=0;a<i.length;a++){var o=i[a],s=this.options_[o];"undefined"!==typeof s&&(s?Pp(e,o,o):Op(e,o),e[o]=s)}return e}},{key:"handleLateInit_",value:function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(e){this.trigger(e)}),this)}))}}},{key:"setScrubbing",value:function(e){this.isScrubbing_=e}},{key:"scrubbing",value:function(){return this.isScrubbing_}},{key:"setCurrentTime",value:function(e){try{this.isScrubbing_&&this.el_.fastSeek&&fp?this.el_.fastSeek(e):this.el_.currentTime=e}catch(iV){Uf(iV,"Video is not ready. (Video.js)")}}},{key:"duration",value:function(){var e=this;if(this.el_.duration===1/0&&Yf&&tp&&0===this.el_.currentTime){return this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN}return this.el_.duration||NaN}},{key:"width",value:function(){return this.el_.offsetWidth}},{key:"height",value:function(){return this.el_.offsetHeight}},{key:"proxyWebkitFullscreen_",value:function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}}},{key:"supportsFullScreen",value:function(){return"function"===typeof this.el_.webkitEnterFullScreen}},{key:"enterFullScreen",value:function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Ym(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(iV){this.trigger("fullscreenerror",iV)}}),0);else try{e.webkitEnterFullScreen()}catch(iV){this.trigger("fullscreenerror",iV)}}},{key:"exitFullScreen",value:function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))}},{key:"requestPictureInPicture",value:function(){return this.el_.requestPictureInPicture()}},{key:"requestVideoFrameCallback",value:function(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):Jc(g(n.prototype),"requestVideoFrameCallback",this).call(this,e)}},{key:"cancelVideoFrameCallback",value:function(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):Jc(g(n.prototype),"cancelVideoFrameCallback",this).call(this,e)}},{key:"src",value:function(e){if(void 0===e)return this.el_.src;this.setSrc(e)}},{key:"reset",value:function(){n.resetMediaElement(this.el_)}},{key:"currentSrc",value:function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}},{key:"setControls",value:function(e){this.el_.controls=!!e}},{key:"addTextTrack",value:function(e,t,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,r):Jc(g(n.prototype),"addTextTrack",this).call(this,e,t,r)}},{key:"createRemoteTextTrack",value:function(e){if(!this.featuresNativeTextTracks)return Jc(g(n.prototype),"createRemoteTextTrack",this).call(this,e);var t=nh().createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}},{key:"addRemoteTextTrack",value:function(e,t){var r=Jc(g(n.prototype),"addRemoteTextTrack",this).call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}},{key:"removeRemoteTextTrack",value:function(e){if(Jc(g(n.prototype),"removeRemoteTextTrack",this).call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),r=t.length;r--;)e!==t[r]&&e!==t[r].track||this.el().removeChild(t[r])}},{key:"getVideoPlaybackQuality",value:function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),eh().performance&&(e.creationTime=eh().performance.now()),e}}]),n}(Ov);Gf(Oy,"TEST_VID",(function(){if(vp()){var e=nh().createElement("video"),t=nh().createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),Oy.isSupported=function(){try{Oy.TEST_VID.volume=.5}catch(iV){return!1}return!(!Oy.TEST_VID||!Oy.TEST_VID.canPlayType)},Oy.canPlayType=function(e){return Oy.TEST_VID.canPlayType(e)},Oy.canPlaySource=function(e,t){return Oy.canPlayType(e.type)},Oy.canControlVolume=function(){try{var e=Oy.TEST_VID.volume;Oy.TEST_VID.volume=e/2+.1;var t=e!==Oy.TEST_VID.volume;return t&&dp?(eh().setTimeout((function(){Oy&&Oy.prototype&&(Oy.prototype.featuresVolumeControl=e!==Oy.TEST_VID.volume)})),!1):t}catch(iV){return!1}},Oy.canMuteVolume=function(){try{var e=Oy.TEST_VID.muted;return Oy.TEST_VID.muted=!e,Oy.TEST_VID.muted?Pp(Oy.TEST_VID,"muted","muted"):Op(Oy.TEST_VID,"muted"),e!==Oy.TEST_VID.muted}catch(iV){return!1}},Oy.canControlPlaybackRate=function(){if(Yf&&tp&&rp<58)return!1;try{var e=Oy.TEST_VID.playbackRate;return Oy.TEST_VID.playbackRate=e/2+.1,e!==Oy.TEST_VID.playbackRate}catch(iV){return!1}},Oy.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(nh().createElement("video"),"src",{get:e,set:e}),Object.defineProperty(nh().createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(nh().createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(nh().createElement("audio"),"innerHTML",{get:e,set:e})}catch(iV){return!1}return!0},Oy.supportsNativeTextTracks=function(){return fp||dp&&tp},Oy.supportsNativeVideoTracks=function(){return!(!Oy.TEST_VID||!Oy.TEST_VID.videoTracks)},Oy.supportsNativeAudioTracks=function(){return!(!Oy.TEST_VID||!Oy.TEST_VID.audioTracks)},Oy.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=l(e,2),n=t[0],r=t[1];Gf(Oy.prototype,n,(function(){return Oy[r]()}),!0)})),Oy.prototype.featuresVolumeControl=Oy.canControlVolume(),Oy.prototype.movingMediaElementInDOM=!dp,Oy.prototype.featuresFullscreenResize=!0,Oy.prototype.featuresProgressEvents=!0,Oy.prototype.featuresTimeupdateEvents=!0,Oy.prototype.featuresVideoFrameCallback=!(!Oy.TEST_VID||!Oy.TEST_VID.requestVideoFrameCallback),Oy.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"===typeof e.load&&function(){try{e.load()}catch(iV){}}()}},Oy.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"===typeof e.load&&function(){try{e.load()}catch(iV){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Oy.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Oy.prototype["set"+Nm(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){Oy.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){Oy.prototype["set"+Nm(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Oy.prototype[e]=function(){return this.el_[e]()}})),Ov.withSourceHandlers(Oy),Oy.nativeSourceHandler={},Oy.nativeSourceHandler.canPlayType=function(e){try{return Oy.TEST_VID.canPlayType(e)}catch(iV){return""}},Oy.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Oy.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=_v(e.src);return Oy.nativeSourceHandler.canPlayType("video/".concat(n))}return""},Oy.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Oy.nativeSourceHandler.dispose=function(){},Oy.registerSourceHandler(Oy.nativeSourceHandler),Ov.registerTech("Html5",Oy);var Ly=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Dy={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ny=["tiny","xsmall","small","medium","large","xlarge","huge"],My={};Ny.forEach((function(e){var t="x"===e.charAt(0)?"x-".concat(e.substring(1)):e;My[e]="vjs-layout-".concat(t)}));var Ry={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Uy=function(e){v(n,e);var t=T(n);function n(e,r,i){var a;if(d(this,n),e.id=e.id||r.id||"vjs_video_".concat(rm()),(r=Object.assign(n.getTagSettings(e),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language){var o=e.closest("[lang]");o&&(r.language=o.getAttribute("lang"))}if((a=t.call(this,null,r,i)).boundDocumentFullscreenChange_=function(e){return a.documentFullscreenChange_(e)},a.boundFullWindowOnEscKey_=function(e){return a.fullWindowOnEscKey(e)},a.boundUpdateStyleEl_=function(e){return a.updateStyleEl_(e)},a.boundApplyInitTime_=function(e){return a.applyInitTime_(e)},a.boundUpdateCurrentBreakpoint_=function(e){return a.updateCurrentBreakpoint_(e)},a.boundHandleTechClick_=function(e){return a.handleTechClick_(e)},a.boundHandleTechDoubleClick_=function(e){return a.handleTechDoubleClick_(e)},a.boundHandleTechTouchStart_=function(e){return a.handleTechTouchStart_(e)},a.boundHandleTechTouchMove_=function(e){return a.handleTechTouchMove_(e)},a.boundHandleTechTouchEnd_=function(e){return a.handleTechTouchEnd_(e)},a.boundHandleTechTap_=function(e){return a.handleTechTap_(e)},a.isFullscreen_=!1,a.log=jf(a.id_),a.fsApi_=Of,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,a.audioOnlyMode_=!1,a.audioPosterMode_=!1,a.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=e,a.tagAttributes=e&&Ip(e),a.language(a.options_.language),r.languages){var s={};Object.getOwnPropertyNames(r.languages).forEach((function(e){s[e.toLowerCase()]=r.languages[e]})),a.languages_=s}else a.languages_=n.prototype.options_.languages;a.resetCache_(),a.poster_=r.poster||"",a.controls_=!!r.controls,e.controls=!1,e.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],e.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(e){if("function"!==typeof a[e])throw new Error('plugin "'.concat(e,'" does not exist'))})),a.scrubbing_=!1,a.el_=a.createEl(),Pm(b(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(um(nh(),a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var u=Wf(a.options_);r.plugins&&Object.keys(r.plugins).forEach((function(e){a[e](r.plugins[e])})),r.debug&&a.debug(!0),a.options_.playerOptions=u,a.middleware_=[],a.playbackRates(r.playbackRates),a.initChildren(),a.isAudio("audio"===e.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),lp&&a.addClass("vjs-touch-enabled"),dp||a.addClass("vjs-workinghover"),n.players[a.id_]=b(a);var l=Cf.split(".")[0];return a.addClass("vjs-v".concat(l)),a.userActive(!0),a.reportUserActivity(),a.one("play",(function(e){return a.listenForUserActivity_(e)})),a.on("keydown",(function(e){return a.handleKeyDown(e)})),a.on("languagechange",(function(e){return a.handleLanguagechange(e)})),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.on("ready",(function(){a.audioPosterMode(a.options_.audioPosterMode),a.audioOnlyMode(a.options_.audioOnlyMode)})),a}return p(n,[{key:"dispose",value:function(){var e=this;this.trigger("dispose"),this.off("dispose"),lm(nh(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),lm(nh(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),n.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Dv[this.id()]=null,Pv.names.forEach((function(t){var n=Pv[t],r=e[n.getterName]();r&&r.off&&r.off()})),Jc(g(n.prototype),"dispose",this).call(this,{restoreEl:this.options_.restoreEl})}},{key:"createEl",value:function(){var e,t=this.tag,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();r?e=this.el_=t.parentNode:i||(e=this.el_=Jc(g(n.prototype),"createEl",this).call(this,"div"));var a=Ip(t);if(i){for(e=this.el_=t,t=this.tag=nh().createElement("video");e.children.length;)t.appendChild(e.firstChild);wp(e,"video-js")||xp(e,"video-js"),e.appendChild(t),r=this.playerElIngest_=e,Object.keys(e).forEach((function(n){try{t[n]=e[n]}catch(iV){}}))}if(t.setAttribute("tabindex","-1"),a.tabindex="-1",tp&&op&&(t.setAttribute("role","application"),a.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach((function(n){i&&"class"===n||e.setAttribute(n,a[n]),i&&t.setAttribute(n,a[n])})),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.addClass("vjs-paused"),!0!==eh().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=$p("vjs-styles-dimensions");var o=Hp(".vjs-styles-defaults"),s=Hp("head");s.insertBefore(this.styleEl_,o?o.nextSibling:s.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var u=t.getElementsByTagName("a"),l=0;l<u.length;l++){var c=u.item(l);xp(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(e,t),Tp(t,e),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e,e}},{key:"crossOrigin",value:function(e){if("undefined"===typeof e)return this.techGet_("crossOrigin");null===e||"anonymous"===e||"use-credentials"===e?(this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)):Uf.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"'))}},{key:"width",value:function(e){return this.dimension("width",e)}},{key:"height",value:function(e){return this.dimension("height",e)}},{key:"dimension",value:function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?Uf.error('Improper value "'.concat(t,'" supplied for for ').concat(e)):(this[n]=r,this.updateStyleEl_())}},{key:"fluid",value:function(e){var t,n,r=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,Tm(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=function(){r.on(["playerreset","resize"],r.boundUpdateStyleEl_)},Tm(t=this)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()}},{key:"fill",value:function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}},{key:"aspectRatio",value:function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}},{key:"updateStyleEl_",value:function(){if(!0!==eh().VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),em(this.styleEl_,"\n      .".concat(n," {\n        width: ").concat(e,"px;\n        height: ").concat(t,"px;\n      }\n\n      .").concat(n,".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ").concat(100*i,"%;\n      }\n    "))}else{var a="number"===typeof this.width_?this.width_:this.options_.width,o="number"===typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(a>=0&&(s.width=a),o>=0&&(s.height=o))}}},{key:"loadTech_",value:function(e,t){var n=this;this.tech_&&this.unloadTech_();var r=Nm(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(Ov.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var a=this.autoplay();("string"===typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(a=!1);var o={source:t,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:"".concat(this.id(),"_").concat(i,"_api"),playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Pv.names.forEach((function(e){var t=Pv[e];o[t.getterName]=n[t.privateName]})),Object.assign(o,this.options_[r]),Object.assign(o,this.options_[i]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var s=Ov.getTech(e);if(!s)throw new Error("No Tech named '".concat(r,"' exists! '").concat(r,"' should be registered using videojs.registerTech()'"));this.tech_=new s(o),this.tech_.ready(vm(this,this.handleTechReady_),!0),ev(this.textTracksJson_||[],this.tech_),Ly.forEach((function(e){n.on(n.tech_,e,(function(t){return n["handleTech".concat(Nm(e),"_")](t)}))})),Object.keys(Dy).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech".concat(Dy[e],"_")].bind(n),event:t}):n["handleTech".concat(Dy[e],"_")](t)}))})),this.on(this.tech_,"loadstart",(function(e){return n.handleTechLoadStart_(e)})),this.on(this.tech_,"sourceset",(function(e){return n.handleTechSourceset_(e)})),this.on(this.tech_,"waiting",(function(e){return n.handleTechWaiting_(e)})),this.on(this.tech_,"ended",(function(e){return n.handleTechEnded_(e)})),this.on(this.tech_,"seeking",(function(e){return n.handleTechSeeking_(e)})),this.on(this.tech_,"play",(function(e){return n.handleTechPlay_(e)})),this.on(this.tech_,"pause",(function(e){return n.handleTechPause_(e)})),this.on(this.tech_,"durationchange",(function(e){return n.handleTechDurationChange_(e)})),this.on(this.tech_,"fullscreenchange",(function(e,t){return n.handleTechFullscreenChange_(e,t)})),this.on(this.tech_,"fullscreenerror",(function(e,t){return n.handleTechFullscreenError_(e,t)})),this.on(this.tech_,"enterpictureinpicture",(function(e){return n.handleTechEnterPictureInPicture_(e)})),this.on(this.tech_,"leavepictureinpicture",(function(e){return n.handleTechLeavePictureInPicture_(e)})),this.on(this.tech_,"error",(function(e){return n.handleTechError_(e)})),this.on(this.tech_,"posterchange",(function(e){return n.handleTechPosterChange_(e)})),this.on(this.tech_,"textdata",(function(e){return n.handleTechTextData_(e)})),this.on(this.tech_,"ratechange",(function(e){return n.handleTechRateChange_(e)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||Tp(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}},{key:"unloadTech_",value:function(){var e=this;Pv.names.forEach((function(t){var n=Pv[t];e[n.privateName]=e[n.getterName]()})),this.textTracksJson_=$m(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}},{key:"tech",value:function(e){return void 0===e&&Uf.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}},{key:"addTechControlsListeners_",value:function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}},{key:"removeTechControlsListeners_",value:function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}},{key:"handleTechReady_",value:function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}},{key:"handleTechLoadStart_",value:function(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())}},{key:"manualAutoplay_",value:function(e){var t=this;if(this.tech_&&"string"===typeof e){var n,r=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var r=t.play();if(Zm(r))return r.catch((function(e){throw n(),new Error("Rejection at manualAutoplay. Restoring muted value. ".concat(e||""))}))};if("any"!==e||this.muted()?n="muted"!==e||this.muted()?this.play():r():Zm(n=this.play())&&(n=n.catch(r)),Zm(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(){t.trigger({type:"autoplay-failure",autoplay:e})}))}}},{key:"updateSourceCaches_",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e,n="";"string"!==typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=Gv(this,t)),this.cache_.source=Wf({},e,{src:t,type:n});for(var r=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),i=[],a=this.$$("source"),o=[],s=0;s<a.length;s++){var u=Ip(a[s]);i.push(u),u.src&&u.src===t&&o.push(u.src)}o.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}},{key:"handleTechSourceset_",value:function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=function(){}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}},{key:"hasStarted",value:function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}},{key:"handleTechPlay_",value:function(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}},{key:"handleTechRateChange_",value:function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}},{key:"handleTechWaiting_",value:function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))}},{key:"handleTechCanPlay_",value:function(){this.removeClass("vjs-waiting"),this.trigger("canplay")}},{key:"handleTechCanPlayThrough_",value:function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}},{key:"handleTechPlaying_",value:function(){this.removeClass("vjs-waiting"),this.trigger("playing")}},{key:"handleTechSeeking_",value:function(){this.addClass("vjs-seeking"),this.trigger("seeking")}},{key:"handleTechSeeked_",value:function(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}},{key:"handleTechPause_",value:function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}},{key:"handleTechEnded_",value:function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}},{key:"handleTechDurationChange_",value:function(){this.duration(this.techGet_("duration"))}},{key:"handleTechClick_",value:function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"===typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?Ym(this.play()):this.pause()))}},{key:"handleTechDoubleClick_",value:function(e){if(this.controls_){var t=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}));t||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"===typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}}},{key:"handleTechTap_",value:function(){this.userActive(!this.userActive())}},{key:"handleTechTouchStart_",value:function(){this.userWasActive=this.userActive()}},{key:"handleTechTouchMove_",value:function(){this.userWasActive&&this.reportUserActivity()}},{key:"handleTechTouchEnd_",value:function(e){e.cancelable&&e.preventDefault()}},{key:"toggleFullscreenClass_",value:function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}},{key:"documentFullscreenChange_",value:function(e){var t=e.target.player;if(!t||t===this){var n=this.el(),r=nh()[this.fsApi_.fullscreenElement]===n;!r&&n.matches?r=n.matches(":"+this.fsApi_.fullscreen):!r&&n.msMatchesSelector&&(r=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}}},{key:"handleTechFullscreenChange_",value:function(e,t){var n=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(function(){n.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))}},{key:"handleTechFullscreenError_",value:function(e,t){this.trigger("fullscreenerror",t)}},{key:"togglePictureInPictureClass_",value:function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}},{key:"handleTechEnterPictureInPicture_",value:function(e){this.isInPictureInPicture(!0)}},{key:"handleTechLeavePictureInPicture_",value:function(e){this.isInPictureInPicture(!1)}},{key:"handleTechError_",value:function(){var e=this.tech_.error();this.error(e)}},{key:"handleTechTextData_",value:function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}},{key:"getCache",value:function(){return this.cache_}},{key:"resetCache_",value:function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}},{key:"techCall_",value:function(e,t){this.ready((function(){if(e in jv)return function(e,t,n,r){return t[n](e.reduce(Bv(n),r))}(this.middleware_,this.tech_,e,t);if(e in Fv)return Rv(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(iV){throw Uf(iV),iV}}),!0)}},{key:"techGet_",value:function(e){if(this.tech_&&this.tech_.isReady_){if(e in Uv)return function(e,t,n){return e.reduceRight(Bv(n),t[n]())}(this.middleware_,this.tech_,e);if(e in Fv)return Rv(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(iV){if(void 0===this.tech_[e])throw Uf("Video.js: ".concat(e," method not defined for ").concat(this.techName_," playback technology."),iV),iV;if("TypeError"===iV.name)throw Uf("Video.js: ".concat(e," unavailable on ").concat(this.techName_," playback technology element."),iV),this.tech_.isReady_=!1,iV;throw Uf(iV),iV}}}},{key:"play",value:function(){var e=this;return new Promise((function(t){e.play_(t)}))}},{key:"play_",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ym;this.playCallbacks_.push(t);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!fp&&!dp||this.load());var r=this.techGet_("play");null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)}},{key:"runPlayTerminatedQueue_",value:function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))}},{key:"runPlayCallbacks_",value:function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))}},{key:"pause",value:function(){this.techCall_("pause")}},{key:"paused",value:function(){return!1!==this.techGet_("paused")}},{key:"played",value:function(){return this.techGet_("played")||Bm(0,0)}},{key:"scrubbing",value:function(e){if("undefined"===typeof e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}},{key:"currentTime",value:function(e){return"undefined"!==typeof e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)}},{key:"applyInitTime_",value:function(){this.currentTime(this.cache_.initTime)}},{key:"duration",value:function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}},{key:"remainingTime",value:function(){return this.duration()-this.currentTime()}},{key:"remainingTimeDisplay",value:function(){return Math.floor(this.duration())-Math.floor(this.currentTime())}},{key:"buffered",value:function(){var e=this.techGet_("buffered");return e&&e.length||(e=Bm(0,0)),e}},{key:"bufferedPercent",value:function(){return Km(this.buffered(),this.duration())}},{key:"bufferedEnd",value:function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n}},{key:"volume",value:function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)}},{key:"muted",value:function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)}},{key:"defaultMuted",value:function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1}},{key:"lastVolume_",value:function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e}},{key:"supportsFullScreen",value:function(){return this.techGet_("supportsFullScreen")||!1}},{key:"isFullscreen",value:function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_}},{key:"requestFullscreen",value:function(e){this.isInPictureInPicture()&&this.exitPictureInPicture();var t=this;return new Promise((function(n,r){function i(){t.off("fullscreenerror",o),t.off("fullscreenchange",a)}function a(){i(),n()}function o(e,t){i(),r(t)}t.one("fullscreenchange",a),t.one("fullscreenerror",o);var s=t.requestFullscreenHelper_(e);s&&(s.then(i,i),s.then(n,r))}))}},{key:"requestFullscreenHelper_",value:function(e){var t,n=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var r=this.el_[this.fsApi_.requestFullscreen](t);return r&&r.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),r}this.tech_.supportsFullScreen()&&!0===!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}},{key:"exitFullscreen",value:function(){var e=this;return new Promise((function(t,n){function r(){e.off("fullscreenerror",a),e.off("fullscreenchange",i)}function i(){r(),t()}function a(e,t){r(),n(t)}e.one("fullscreenchange",i),e.one("fullscreenerror",a);var o=e.exitFullscreenHelper_();o&&(o.then(r,r),o.then(t,n))}))}},{key:"exitFullscreenHelper_",value:function(){var e=this;if(this.fsApi_.requestFullscreen){var t=nh()[this.fsApi_.exitFullscreen]();return t&&Ym(t.then((function(){return e.isFullscreen(!1)}))),t}this.tech_.supportsFullScreen()&&!0===!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}},{key:"enterFullWindow",value:function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=nh().documentElement.style.overflow,um(nh(),"keydown",this.boundFullWindowOnEscKey_),nh().documentElement.style.overflow="hidden",xp(nh().body,"vjs-full-window"),this.trigger("enterFullWindow")}},{key:"fullWindowOnEscKey",value:function(e){ih().isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}},{key:"exitFullWindow",value:function(){this.isFullscreen(!1),this.isFullWindow=!1,lm(nh(),"keydown",this.boundFullWindowOnEscKey_),nh().documentElement.style.overflow=this.docOrigOverflow,Sp(nh().body,"vjs-full-window"),this.trigger("exitFullWindow")}},{key:"disablePictureInPicture",value:function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}},{key:"isInPictureInPicture",value:function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_}},{key:"requestPictureInPicture",value:function(){if("pictureInPictureEnabled"in nh()&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){if("pictureInPictureEnabled"in nh())return nh().exitPictureInPicture()}},{key:"handleKeyDown",value:function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"===typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}}},{key:"handleHotkeys",value:function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,r=void 0===n?function(e){return ih().isEventKey(e,"f")}:n,i=t.muteKey,a=void 0===i?function(e){return ih().isEventKey(e,"m")}:i,o=t.playPauseKey,s=void 0===o?function(e){return ih().isEventKey(e,"k")||ih().isEventKey(e,"Space")}:o;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();var u=Um.getComponent("FullscreenToggle");!1!==nh()[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,e)}else if(a.call(this,e)){e.preventDefault(),e.stopPropagation(),Um.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(s.call(this,e)){e.preventDefault(),e.stopPropagation(),Um.getComponent("PlayToggle").prototype.handleClick.call(this,e)}}},{key:"canPlayType",value:function(e){for(var t,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],a=Ov.getTech(i);if(a||(a=Um.getComponent(i)),a){if(a.isSupported()&&(t=a.canPlayType(e)))return t}else Uf.error('The "'.concat(i,'" tech is undefined. Skipped browser support check for that tech.'))}return""}},{key:"selectSource",value:function(e){var t,n=this,r=this.options_.techOrder.map((function(e){return[e,Ov.getTech(e)]})).filter((function(e){var t=l(e,2),n=t[0],r=t[1];return r?r.isSupported():(Uf.error('The "'.concat(n,'" tech is undefined. Skipped browser support check for that tech.')),!1)})),i=function(e,t,n){var r;return e.some((function(e){return t.some((function(t){if(r=n(e,t))return!0}))})),r},a=function(e,t){var r=l(e,2),i=r[0];if(r[1].canPlaySource(t,n.options_[i.toLowerCase()]))return{source:t,tech:i}};return t=this.options_.sourceOrder?i(e,r,function(e){return function(t,n){return e(n,t)}}(a)):i(r,e,a),t||!1}},{key:"handleSrc_",value:function(e,t){var n=this;if("undefined"===typeof e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var r=Kv(e);if(r.length){if(this.changingSrc_=!0,t||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),Mv(this,r[0],(function(e,i){var a,o;if(n.middleware_=i,t||(n.cache_.sources=r),n.updateSourceCaches_(e),n.src_(e))return r.length>1?n.handleSrc_(r.slice(1)):(n.changingSrc_=!1,n.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void n.triggerReady());a=i,o=n.tech_,a.forEach((function(e){return e.setTech&&e.setTech(o)}))})),r.length>1){var i=function(){n.error(null),n.handleSrc_(r.slice(1),!0)},a=function(){n.off("error",i)};this.one("error",i),this.one("playing",a),this.resetRetryOnError_=function(){n.off("error",i),n.off("playing",a)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)}},{key:"src",value:function(e){return this.handleSrc_(e,!1)}},{key:"src_",value:function(e){var t=this,n=this.selectSource([e]);return!n||(Mm(n.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready((function(){t.changingSrc_=!1})),!1))}},{key:"load",value:function(){this.techCall_("load")}},{key:"reset",value:function(){var e=this;this.paused()?this.doReset_():Ym(this.play().then((function(){return e.doReset_()})))}},{key:"doReset_",value:function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Tm(this)&&this.trigger("playerreset")}},{key:"resetControlBarUI_",value:function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}},{key:"resetProgressBar_",value:function(){this.currentTime(0);var e=this.controlBar||{},t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()}},{key:"resetPlaybackRate_",value:function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}},{key:"resetVolumeBar_",value:function(){this.volume(1),this.trigger("volumechange")}},{key:"currentSources",value:function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t}},{key:"currentSource",value:function(){return this.cache_.source||{}}},{key:"currentSrc",value:function(){return this.currentSource()&&this.currentSource().src||""}},{key:"currentType",value:function(){return this.currentSource()&&this.currentSource().type||""}},{key:"preload",value:function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")}},{key:"autoplay",value:function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"===typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"===typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t="undefined"===typeof t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}},{key:"playsinline",value:function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")}},{key:"loop",value:function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")}},{key:"poster",value:function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}},{key:"handleTechPosterChange_",value:function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}},{key:"controls",value:function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}},{key:"usingNativeControls",value:function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}},{key:"error",value:function(e){var t=this;if(void 0===e)return this.error_||null;if(Af("beforeerror").forEach((function(n){var r=n(t,e);Hf(r)&&!Array.isArray(r)||"string"===typeof r||"number"===typeof r||null===r?e=r:t.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){var n=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),void this.one("loadstart",(function(){this.off(["click","touchstart"],n)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Qm(e),this.addClass("vjs-error"),Uf.error("(CODE:".concat(this.error_.code," ").concat(Qm.errorTypes[this.error_.code],")"),this.error_.message,this.error_),this.trigger("error"),Af("error").forEach((function(e){return e(t,t.error_)}))}},{key:"reportUserActivity",value:function(e){this.userActivity_=!0}},{key:"userActive",value:function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}},{key:"listenForUserActivity_",value:function(){var e,t,n,r=vm(this,this.reportUserActivity),i=function(t){r(),this.clearInterval(e)};this.on("mousedown",(function(){r(),this.clearInterval(e),e=this.setInterval(r,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())})),this.on("mouseup",i),this.on("mouseleave",i);var a,o=this.getChild("controlBar");!o||dp||Yf||(o.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),o.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",r),this.on("keyup",r),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var e=this.options_.inactivityTimeout;e<=0||(a=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)}},{key:"playbackRate",value:function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)}},{key:"defaultPlaybackRate",value:function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}},{key:"isAudio",value:function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e}},{key:"enableAudioOnlyUI_",value:function(){var e=this;this.addClass("vjs-audio-only-mode");var t=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();t.forEach((function(t){t!==n&&t.el_&&!t.hasClass("vjs-hidden")&&(t.hide(),e.audioOnlyCache_.hiddenChildren.push(t))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(r),this.trigger("audioonlymodechange")}},{key:"disableAudioOnlyUI_",value:function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach((function(e){return e.show()})),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}},{key:"audioOnlyMode",value:function(e){var t=this;if("boolean"!==typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){var n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then((function(){return t.enableAudioOnlyUI_()}))}return Promise.resolve().then((function(){return t.disableAudioOnlyUI_()}))}},{key:"enablePosterModeUI_",value:function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}},{key:"disablePosterModeUI_",value:function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}},{key:"audioPosterMode",value:function(e){var t=this;return"boolean"!==typeof e||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then((function(){t.enablePosterModeUI_()})):Promise.resolve().then((function(){t.enablePosterModeUI_()})):Promise.resolve().then((function(){t.disablePosterModeUI_()})))}},{key:"addTextTrack",value:function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)}},{key:"addRemoteTextTrack",value:function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}},{key:"removeRemoteTextTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)}},{key:"getVideoPlaybackQuality",value:function(){return this.techGet_("getVideoPlaybackQuality")}},{key:"videoWidth",value:function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}},{key:"videoHeight",value:function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}},{key:"language",value:function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Tm(this)&&this.trigger("languagechange"))}},{key:"languages",value:function(){return Wf(n.prototype.options_.languages,this.languages_)}},{key:"toJSON",value:function(){var e=Wf(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=Wf(r)).player=void 0,e.tracks[n]=r}return e}},{key:"createModal",value:function(e,t){var n=this;(t=t||{}).content=e||"";var r=new nv(this,t);return this.addChild(r),r.on("dispose",(function(){n.removeChild(r)})),r.open(),r}},{key:"updateCurrentBreakpoint_",value:function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<Ny.length;n++){var r=Ny[n];if(t<=this.breakpoints_[r]){if(e===r)return;e&&this.removeClass(My[e]),this.addClass(My[r]),this.breakpoint_=r;break}}}},{key:"removeCurrentBreakpoint_",value:function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}},{key:"breakpoints",value:function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Object.assign({},Ry,e),this.updateCurrentBreakpoint_()),Object.assign(this.breakpoints_)}},{key:"responsive",value:function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0}},{key:"currentBreakpoint",value:function(){return this.breakpoint_}},{key:"currentBreakpointClass",value:function(){return My[this.breakpoint_]||""}},{key:"loadMedia",value:function(e,t){var n=this;if(e&&"object"===typeof e){this.reset(),this.cache_.media=Wf(e);var r=this.cache_.media,i=r.artist,a=r.artwork,o=r.description,s=r.poster,u=r.src,l=r.textTracks,c=r.title;!a&&s&&(this.cache_.media.artwork=[{src:s,type:Wv(s)}]),u&&this.src(u),s&&this.poster(s),Array.isArray(l)&&l.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.titleBar&&this.titleBar.update({title:c,description:o||i||""}),this.ready(t)}}},{key:"getMedia",value:function(){if(!this.cache_.media){var e=this.poster(),t=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}})),r={src:t,textTracks:n};return e&&(r.poster=e,r.artwork=[{src:r.poster,type:Wv(r.poster)}]),r}return Wf(this.cache_.media)}},{key:"debug",value:function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}},{key:"playbackRates",value:function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((function(e){return"number"===typeof e}))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}],[{key:"getTagSettings",value:function(e){var t={sources:[],tracks:[]},n=Ip(e),r=n["data-setup"];if(wp(e,"vjs-fill")&&(n.fill=!0),wp(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=l(oh()(r||"{}"),2),a=i[0],o=i[1];a&&Uf.error(a),Object.assign(n,o)}if(Object.assign(t,n),e.hasChildNodes())for(var s=e.childNodes,u=0,c=s.length;u<c;u++){var h=s[u],d=h.nodeName.toLowerCase();"source"===d?t.sources.push(Ip(h)):"track"===d&&t.tracks.push(Ip(h))}return t}}]),n}(Um);Pv.names.forEach((function(e){var t=Pv[e];Uy.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Uy.prototype.crossorigin=Uy.prototype.crossOrigin,Uy.players={};var jy=eh().navigator;Uy.prototype.options_={techOrder:Ov.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:jy&&(jy.languages&&jy.languages[0]||jy.userLanguage||jy.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Uy.prototype[e]=function(){return this.techGet_(e)}})),Ly.forEach((function(e){Uy.prototype["handleTech".concat(Nm(e),"_")]=function(){return this.trigger(e)}})),Um.registerComponent("Player",Uy);var Fy="plugin",By={},zy=function(e){return By.hasOwnProperty(e)},Vy=function(e){return zy(e)?By[e]:void 0},Hy=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},qy=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},Wy=function(e,t){return t.prototype.name=e,function(){qy(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=w(t,[this].concat(r));return this[e]=function(){return a},qy(this,a.getEventHash()),a}},Gy=function(){function e(t){if(d(this,e),this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),Pm(this),delete this.trigger,Lm(this,this.constructor.defaultState),Hy(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}return p(e,[{key:"version",value:function(){return this.constructor.VERSION}},{key:"getEventHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return cm(this.eventBusEl_,e,this.getEventHash(t))}},{key:"handleStateChanged",value:function(e){}},{key:"dispose",value:function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Wy(e,By[e])}}],[{key:"isBasic",value:function(t){var n="string"===typeof t?Vy(t):t;return"function"===typeof n&&!e.prototype.isPrototypeOf(n.prototype)}},{key:"registerPlugin",value:function(t,n){if("string"!==typeof t)throw new Error('Illegal plugin name, "'.concat(t,'", must be a string, was ').concat(typeof t,"."));if(zy(t))Uf.warn('A plugin named "'.concat(t,'" already exists. You may want to avoid re-registering plugins!'));else if(Uy.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'.concat(t,'", cannot share a name with an existing player method!'));if("function"!==typeof n)throw new Error('Illegal plugin for "'.concat(t,'", must be a function, was ').concat(typeof n,"."));return By[t]=n,t!==Fy&&(e.isBasic(n)?Uy.prototype[t]=function(e,t){var n=function(){qy(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Hy(this,e),qy(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):Uy.prototype[t]=Wy(t,n)),n}},{key:"deregisterPlugin",value:function(e){if(e===Fy)throw new Error("Cannot de-register base plugin.");zy(e)&&(delete By[e],delete Uy.prototype[e])}},{key:"getPlugins",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(By);return t.forEach((function(t){var n=Vy(t);n&&((e=e||{})[t]=n)})),e}},{key:"getPluginVersion",value:function(e){var t=Vy(e);return t&&t.VERSION||""}}]),e}();function Ky(e,t,n,r){return function(e,t){var n=!1;return function(){n||Uf.warn(e),n=!0;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,i)}}("".concat(t," is deprecated and will be removed in ").concat(e,".0; please use ").concat(n," instead."),r)}Gy.getPlugin=Vy,Gy.BASE_PLUGIN_NAME=Fy,Gy.registerPlugin(Fy,Gy),Uy.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Uy.prototype.hasPlugin=function(e){return!!zy(e)};var Qy=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Xy(e,t,n){var r=Xy.getPlayer(e);if(r)return t&&Uf.warn('Player "'.concat(e,'" is already initialised. Options will not be applied.')),n&&r.ready(n),r;var i="string"===typeof e?Hp("#"+Qy(e)):e;if(!gp(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");i.ownerDocument.defaultView&&i.ownerDocument.body.contains(i)||Uf.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(i.parentNode&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),Af("beforesetup").forEach((function(e){var n=e(i,Wf(t));Hf(n)&&!Array.isArray(n)?t=Wf(t,n):Uf.error("please return an object in beforesetup hooks")}));var a=Um.getComponent("Player");return r=new a(i,t,n),Af("setup").forEach((function(e){return e(r)})),r}if(Xy.hooks_=If,Xy.hooks=Af,Xy.hook=function(e,t){Af(e,t)},Xy.hookOnce=function(e,t){Af(e,[].concat(t).map((function(t){return function n(){return Pf(e,n),t.apply(void 0,arguments)}})))},Xy.removeHook=Pf,!0!==eh().VIDEOJS_NO_DYNAMIC_STYLE&&vp()){var Zy=Hp(".vjs-styles-defaults");if(!Zy){Zy=$p("vjs-styles-defaults");var Yy=Hp("head");Yy&&Yy.insertBefore(Zy,Yy.firstChild),em(Zy,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}Zp(1,Xy),Xy.VERSION=Cf,Xy.options=Uy.prototype.options_,Xy.getPlayers=function(){return Uy.players},Xy.getPlayer=function(e){var t,n=Uy.players;if("string"===typeof e){var r=Qy(e),i=n[r];if(i)return i;t=Hp("#"+r)}else t=e;if(gp(t)){var a=t,o=a.player,s=a.playerId;if(o||n[s])return o||n[s]}},Xy.getAllPlayers=function(){return Object.keys(Uy.players).map((function(e){return Uy.players[e]})).filter(Boolean)},Xy.players=Uy.players,Xy.getComponent=Um.getComponent,Xy.registerComponent=function(e,t){Ov.isTech(t)&&Uf.warn("The ".concat(e," tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")),Um.registerComponent.call(Um,e,t)},Xy.getTech=Ov.getTech,Xy.registerTech=Ov.registerTech,Xy.use=function(e,t){Lv[e]=Lv[e]||[],Lv[e].push(t)},Object.defineProperty(Xy,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Xy.middleware,"TERMINATOR",{value:Nv,writeable:!1,enumerable:!0}),Xy.browser=pp,Xy.obj=Qf,Xy.mergeOptions=Ky(9,"videojs.mergeOptions","videojs.obj.merge",Wf),Xy.defineLazyProperty=Ky(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Gf),Xy.bind=Ky(9,"videojs.bind","native Function.prototype.bind",vm),Xy.registerPlugin=Gy.registerPlugin,Xy.deregisterPlugin=Gy.deregisterPlugin,Xy.plugin=function(e,t){return Uf.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Gy.registerPlugin(e,t)},Xy.getPlugins=Gy.getPlugins,Xy.getPlugin=Gy.getPlugin,Xy.getPluginVersion=Gy.getPluginVersion,Xy.addLanguage=function(e,t){return e=(""+e).toLowerCase(),Xy.options.languages=Wf(Xy.options.languages,ic({},e,t)),Xy.options.languages[e]},Xy.log=Uf,Xy.createLogger=jf,Xy.time=Gm,Xy.createTimeRange=Ky(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Bm),Xy.createTimeRanges=Ky(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Bm),Xy.formatTime=Ky(9,"videojs.formatTime","videojs.time.formatTime",Wm),Xy.setFormatTime=Ky(9,"videojs.setFormatTime","videojs.time.setFormatTime",Hm),Xy.resetFormatTime=Ky(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",qm),Xy.parseUrl=Ky(9,"videojs.parseUrl","videojs.url.parseUrl",gv),Xy.isCrossOrigin=Ky(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",bv),Xy.EventTarget=bm,Xy.any=dm,Xy.on=um,Xy.one=hm,Xy.off=lm,Xy.trigger=cm,Xy.xhr=uh(),Xy.TextTrack=xv,Xy.AudioTrack=Sv,Xy.VideoTrack=Ev,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){Xy[e]=function(){return Uf.warn("videojs.".concat(e,"() is deprecated; use videojs.dom.").concat(e,"() instead")),Kp[e].apply(null,arguments)}})),Xy.computedStyle=Ky(9,"videojs.computedStyle","videojs.dom.computedStyle",Wp),Xy.dom=Kp,Xy.fn=_m,Xy.num=gg,Xy.str=Rm,Xy.url=kv;var Jy=p((function e(t){d(this,e);var n=this;return n.id=t.id,n.label=n.id,n.width=t.width,n.height=t.height,n.bitrate=t.bandwidth,n.frameRate=t.frameRate,n.enabled_=t.enabled,Object.defineProperty(n,"enabled",{get:function(){return n.enabled_()},set:function(e){n.enabled_(e)}}),n})),$y=function(e){v(n,e);var t=T(n);function n(){var e;d(this,n);var r=b(e=t.call(this));return r.levels_=[],r.selectedIndex_=-1,Object.defineProperty(r,"selectedIndex",{get:function(){return r.selectedIndex_}}),Object.defineProperty(r,"length",{get:function(){return r.levels_.length}}),k(e,r)}return p(n,[{key:"addQualityLevel",value:function(e){var t=this.getQualityLevelById(e.id);if(t)return t;var n=this.levels_.length;return t=new Jy(e),""+n in this||Object.defineProperty(this,n,{get:function(){return this.levels_[n]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}},{key:"removeQualityLevel",value:function(e){for(var t=null,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}},{key:"getQualityLevelById",value:function(e){for(var t=0,n=this.length;t<n;t++){var r=this[t];if(r.id===e)return r}return null}},{key:"dispose",value:function(){this.selectedIndex_=-1,this.levels_.length=0}}]),n}(Xy.EventTarget);for(var e_ in $y.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"},$y.prototype.allowedEvents_)$y.prototype["on"+e_]=null;var t_="3.0.0",n_=Xy.registerPlugin||Xy.plugin,r_=function(e){return function(e,t){var n=e.qualityLevels,r=new $y;return e.on("dispose",(function t(){r.dispose(),e.qualityLevels=n,e.off("dispose",t)})),e.qualityLevels=function(){return r},e.qualityLevels.VERSION=t_,r}(this,Xy.mergeOptions({},e))};n_("qualityLevels",r_),r_.VERSION=t_;var i_=ph,a_=function(e,t){return t&&t.responseURL&&e!==t.responseURL?t.responseURL:e},o_=function(e){return Xy.log.debug?Xy.log.debug.bind(Xy,"VHS:","".concat(e," >")):function(){}};function s_(){for(var e=Xy.obj||Xy,t=e.merge||e.mergeOptions,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.apply(e,r)}function u_(){for(var e=Xy.time||Xy,t=e.createTimeRanges||e.createTimeRanges,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.apply(e,r)}var l_=1/30,c_=.1,h_=function(e,t){var n,r=[];if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&r.push([e.start(n),e.end(n)]);return u_(r)},d_=function(e,t){return h_(e,(function(e,n){return e-c_<=t&&n+c_>=t}))},f_=function(e,t){return h_(e,(function(e){return e-l_>=t}))},p_=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},m_=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},v_=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},g_=function(e,t){var n=0;if(!e||!e.length)return n;for(var r=0;r<e.length;r++){var i=e.start(r),a=e.end(r);t>a||(n+=t>i&&t<=a?a-t:a-i)}return n},y_=function(e,t){if(!t.preload)return t.duration;var n=0;return(t.parts||[]).forEach((function(e){n+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(n+=e.partTargetDuration)})),n},__=function(e){return(e.segments||[]).reduce((function(e,t,n){return t.parts?t.parts.forEach((function(r,i){e.push({duration:r.duration,segmentIndex:n,partIndex:i,part:r,segment:t})})):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e}),[])},b_=function(e){var t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},k_=function(e){var t=e.preloadSegment;if(t){var n=t.parts,r=(t.preloadHints||[]).reduce((function(e,t){return e+("PART"===t.type?1:0)}),0);return r+=n&&n.length?n.length:0}},T_=function(e,t){if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=b_(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},w_=function(e,t,n){if("undefined"===typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var r=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if("undefined"!==typeof i.start)return{result:i.start,precise:!0};if("undefined"!==typeof i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if("undefined"!==typeof(i=e.segments[r]).end)return{result:n+i.end,precise:!0};if(n+=y_(e,i),"undefined"!==typeof i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(r.precise)return r.result;var i=function(e,t){for(var n,r=0,i=t-e.mediaSequence;i<e.segments.length;i++){if("undefined"!==typeof(n=e.segments[i]).start)return{result:n.start-r,precise:!0};if(r+=y_(e,n),"undefined"!==typeof n.end)return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}}(e,t);return i.precise?i.result:r.result+n},x_=function(e,t,n){if(!e)return 0;if("number"!==typeof n&&(n=0),"undefined"===typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return eh()[1/0]}return w_(e,t,n)},S_=function(e){var t=e.defaultDuration,n=e.durationList,r=e.startIndex,i=e.endIndex,a=0;if(r>i){var o=[i,r];r=o[0],i=o[1]}if(r<0){for(var s=r;s<Math.min(0,i);s++)a+=t;r=0}for(var u=r;u<i;u++)a+=n[u].duration;return a},E_=function(e,t,n,r){if(!e||!e.segments)return null;if(e.endList)return x_(e);if(null===t)return null;t=t||0;var i=w_(e,e.mediaSequence+e.segments.length,t);return n&&(i-=r="number"===typeof r?r:T_(null,e)),Math.max(0,i)},C_=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},I_=function(e){return e.excludeUntil&&e.excludeUntil===1/0},A_=function(e){var t=C_(e);return!e.disabled&&!t},P_=function(e,t){return t.attributes&&t.attributes[e]},O_=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!A_(e)&&(e.attributes.BANDWIDTH||0)<n})).length},L_=function(e,t){return!(!e&&!t||!e&&t||e&&!t)&&(e===t||(!(!e.id||!t.id||e.id!==t.id)||(!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri))))},D_=function(e,t){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(var i in n){for(var a in n[i])if(r=t(n[i][a]))break;if(r)break}return!!r},N_=function(e){if(!e||!e.playlists||!e.playlists.length)return D_(e,(function(e){return e.playlists&&e.playlists.length||e.uri}));for(var t=function(t){var n=e.playlists[t],r=n.attributes&&n.attributes.CODECS;return r&&r.split(",").every((function(e){return Oh(e)}))||D_(e,(function(e){return L_(n,e)}))?"continue":{v:!1}},n=0;n<e.playlists.length;n++){var r=t(n);if("continue"!==r&&"object"===typeof r)return r.v}return!0},M_={liveEdgeDelay:T_,duration:x_,seekable:function(e,t,n){var r=t||0,i=E_(e,t,!0,n);return null===i?u_():u_(r,i)},getMediaInfoForTime:function(e){for(var t=e.playlist,n=e.currentTime,r=e.startingSegmentIndex,i=e.startingPartIndex,a=e.startTime,o=e.exactManifestTimings,s=n-a,u=__(t),l=0,c=0;c<u.length;c++){var h=u[c];if(r===h.segmentIndex&&("number"!==typeof i||"number"!==typeof h.partIndex||i===h.partIndex)){l=c;break}}if(s<0){if(l>0)for(var d=l-1;d>=0;d--){var f=u[d];if(s+=f.duration,o){if(s<0)continue}else if(s+l_<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:a-S_({defaultDuration:t.targetDuration,durationList:u,startIndex:l,endIndex:d})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:n}}if(l<0){for(var p=l;p<0;p++)if((s-=t.targetDuration)<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:n};l=0}for(var m=l;m<u.length;m++){var v=u[m];if(s-=v.duration,o){if(s>0)continue}else if(s-l_>=0)continue;return{partIndex:v.partIndex,segmentIndex:v.segmentIndex,startTime:a+S_({defaultDuration:t.targetDuration,durationList:u,startIndex:l,endIndex:m})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:n}},isEnabled:A_,isDisabled:function(e){return e.disabled},isExcluded:C_,isIncompatible:I_,playlistEnd:E_,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:P_,estimateSegmentRequestTime:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!P_("BANDWIDTH",n))return NaN;var i=e*n.attributes.BANDWIDTH;return(i-8*r)/t},isLowestEnabledRendition:O_,isAudioOnly:N_,playlistMatch:L_,segmentDurationWithParts:y_},R_=Xy.log,U_=function(e,t){return"".concat(e,"-").concat(t)},j_=function(e,t){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((function(n){if(e.mediaGroups[n])for(var r in e.mediaGroups[n])for(var i in e.mediaGroups[n][r]){var a=e.mediaGroups[n][r][i];t(a,n,r,i)}}))},F_=function(e){var t=e.playlist,n=e.uri,r=e.id;t.id=r,t.playlistErrors_=0,n&&(t.uri=n),t.attributes=t.attributes||{}},B_=function(e,t){e.uri=t;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var r="placeholder-uri-".concat(n);e.playlists[n].uri=r}var i=N_(e);j_(e,(function(t,n,r,a){var o="placeholder-uri-".concat(n,"-").concat(r,"-").concat(a);if(!t.playlists||!t.playlists.length){if(i&&"AUDIO"===n&&!t.uri)for(var s=0;s<e.playlists.length;s++){var u=e.playlists[s];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===r)return}t.playlists=[mh({},t)]}t.playlists.forEach((function(t,n){var r=U_(n,o);t.uri?t.resolvedUri=t.resolvedUri||i_(e.uri,t.uri):(t.uri=0===n?o:r,t.resolvedUri=t.uri),t.id=t.id||r,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];F_({playlist:n,id:U_(t,n.uri)}),n.resolvedUri=i_(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||R_.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(e),function(e){j_(e,(function(t){t.uri&&(t.resolvedUri=i_(e.uri,t.uri))}))}(e)},z_=Xy.EventTarget,V_=function(e,t){if(!e)return t;var n=s_(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(var r=0;r<t.parts.length;r++)e.parts&&e.parts[r]&&(n.parts[r]=s_(e.parts[r],t.parts[r]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},H_=function(e,t,n){var r=e.slice(),i=t.slice();n=n||0;for(var a,o=[],s=0;s<i.length;s++){var u=r[s+n],l=i[s];u?(a=u.map||a,o.push(V_(u,l))):(a&&!l.map&&(l.map=a),o.push(l))}return o},q_=function(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=i_(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=i_(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=i_(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=i_(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((function(e){e.resolvedUri||(e.resolvedUri=i_(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((function(e){e.resolvedUri||(e.resolvedUri=i_(t,e.uri))}))},W_=function(e){var t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(var r=0;r<n.preloadHints.length;r++)if("MAP"===n.preloadHints[r].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},G_=function(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment},K_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G_,r=s_(e,{}),i=r.playlists[t.id];if(!i)return null;if(n(i,t))return null;t.segments=W_(t);var a=s_(i,t);if(a.preloadSegment&&!t.preloadSegment&&delete a.preloadSegment,i.segments){if(t.skip){t.segments=t.segments||[];for(var o=0;o<t.skip.skippedSegments;o++)t.segments.unshift({skipped:!0})}a.segments=H_(i.segments,t.segments,t.mediaSequence-i.mediaSequence)}a.segments.forEach((function(e){q_(e,a.resolvedUri)}));for(var s=0;s<r.playlists.length;s++)r.playlists[s].id===t.id&&(r.playlists[s]=a);return r.playlists[t.id]=a,r.playlists[t.uri]=a,j_(e,(function(e,n,r,i){if(e.playlists)for(var o=0;o<e.playlists.length;o++)t.id===e.playlists[o].id&&(e.playlists[o]=a)})),r},Q_=function(e,t){var n=e.segments||[],r=n[n.length-1],i=r&&r.parts&&r.parts[r.parts.length-1],a=i&&i.duration||r&&r.duration;return t&&a?1e3*a:500*(e.partTargetDuration||e.targetDuration||10)},X_=function(e){v(n,e);var t=T(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d(this,n),i=t.call(this),!e)throw new Error("A non-empty playlist URL or object is required");i.logger_=o_("PlaylistLoader");var o=a.withCredentials,s=void 0!==o&&o;i.src=e,i.vhs_=r,i.withCredentials=s;var u=r.options_;return i.customTagParsers=u&&u.customTagParsers||[],i.customTagMappers=u&&u.customTagMappers||[],i.llhls=u&&u.llhls,i.state="HAVE_NOTHING",i.handleMediaupdatetimeout_=i.handleMediaupdatetimeout_.bind(b(i)),i.on("mediaupdatetimeout",i.handleMediaupdatetimeout_),i}return p(n,[{key:"handleMediaupdatetimeout_",value:function(){var e=this;if("HAVE_METADATA"===this.state){var t=this.media(),n=i_(this.main.uri,t.uri);this.llhls&&(n=function(e,t){if(t.endList||!t.serverControl)return e;var n={};if(t.serverControl.canBlockReload){var r=t.preloadSegment,i=t.mediaSequence+t.segments.length;if(r){var a=r.parts||[],o=k_(t)-1;o>-1&&o!==a.length-1&&(n._HLS_part=o),(o>-1||a.length)&&i--}n._HLS_msn=i}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var s=new(eh().URL)(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){n.hasOwnProperty(e)&&s.searchParams.set(e,n[e])})),e=s.toString()}return e}(n,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},(function(t,n){if(e.request)return t?e.playlistRequestError(e.request,e.media(),"HAVE_METADATA"):void e.haveMetadata({playlistString:e.request.responseText,url:e.media().uri,id:e.media().id})}))}}},{key:"playlistRequestError",value:function(e,t,n){var r=t.uri,i=t.id;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[i],status:e.status,message:"HLS playlist request error at URL: ".concat(r,"."),responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"parseManifest_",value:function(e){var t=this,n=e.url;return function(e){var t=e.onwarn,n=e.oninfo,r=e.manifestString,i=e.customTagParsers,a=void 0===i?[]:i,o=e.customTagMappers,s=void 0===o?[]:o,u=e.llhls,l=new Sh;t&&l.on("warn",t),n&&l.on("info",n),a.forEach((function(e){return l.addParser(e)})),s.forEach((function(e){return l.addTagMapper(e)})),l.push(r),l.end();var c=l.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){c.hasOwnProperty(e)&&delete c[e]})),c.segments&&c.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!c.targetDuration){var h=10;c.segments&&c.segments.length&&(h=c.segments.reduce((function(e,t){return Math.max(e,t.duration)}),0)),t&&t("manifest has no targetDuration defaulting to ".concat(h)),c.targetDuration=h}var d=b_(c);if(d.length&&!c.partTargetDuration){var f=d.reduce((function(e,t){return Math.max(e,t.duration)}),0);t&&(t("manifest has no partTargetDuration defaulting to ".concat(f)),R_.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),c.partTargetDuration=f}return c}({onwarn:function(e){var r=e.message;return t.logger_("m3u8-parser warn for ".concat(n,": ").concat(r))},oninfo:function(e){var r=e.message;return t.logger_("m3u8-parser info for ".concat(n,": ").concat(r))},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}},{key:"haveMetadata",value:function(e){var t=e.playlistString,n=e.playlistObject,r=e.url,i=e.id;this.request=null,this.state="HAVE_METADATA";var a=n||this.parseManifest_({url:r,manifestString:t});a.lastRequest=Date.now(),F_({playlist:a,uri:r,id:i});var o=K_(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Q_(this.media(),!!o)),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.trigger("dispose"),this.stopRequest(),eh().clearTimeout(this.mediaUpdateTimeout),eh().clearTimeout(this.finalRenditionTimeout),this.off()}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"===typeof e){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(eh().clearTimeout(this.finalRenditionTimeout),t){var r=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=eh().setTimeout(this.media.bind(this,e,!1),r)}else{var i=this.state,a=!this.media_||e.id!==this.media_.id,o=this.main.playlists[e.id];if(o&&o.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),"HAVE_MAIN_MANIFEST"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Q_(e,!0)),a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,r){if(n.request){if(e.lastRequest=Date.now(),e.resolvedUri=a_(e.resolvedUri,r),t)return n.playlistRequestError(n.request,e,i);n.haveMetadata({playlistString:r.responseText,url:e.uri,id:e.id}),"HAVE_MAIN_MANIFEST"===i?n.trigger("loadedmetadata"):n.trigger("mediachange")}}))}}}},{key:"pause",value:function(){this.mediaUpdateTimeout&&(eh().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;this.mediaUpdateTimeout&&(eh().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var n=this.media();if(e){var r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=eh().setTimeout((function(){t.mediaUpdateTimeout=null,t.load()}),r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"updateMediaUpdateTimeout_",value:function(e){var t=this;this.mediaUpdateTimeout&&(eh().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=eh().setTimeout((function(){t.mediaUpdateTimeout=null,t.trigger("mediaupdatetimeout"),t.updateMediaUpdateTimeout_(e)}),e))}},{key:"start",value:function(){var e=this;if(this.started=!0,"object"===typeof this.src)return this.src.uri||(this.src.uri=eh().location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: ".concat(e.src,"."),responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=a_(e.src,n);var r=e.parseManifest_({manifestString:n.responseText,url:e.src});e.setupInitialPlaylist(r)}}))}},{key:"srcUri",value:function(){return"string"===typeof this.src?this.src:this.src.uri}},{key:"setupInitialPlaylist",value:function(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists)return this.main=e,B_(this.main,this.srcUri()),e.playlists.forEach((function(e){e.segments=W_(e),e.segments.forEach((function(t){q_(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.main.playlists[0]));var t=this.srcUri()||eh().location.href;this.main=function(e,t){var n=U_(0,t),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:eh().location.href,resolvedUri:eh().location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[t]=r.playlists[0],r}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}}]),n}(z_),Z_=Xy.xhr,Y_=function(e,t,n,r){var i="arraybuffer"===e.responseType?e.response:e.responseText;!t&&i&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=i.byteLength||i.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(i||e.responseText)))),r(t,e)},J_=function(){var e=function e(t,n){t=s_({timeout:45e3},t);var r=e.beforeRequest||Xy.Vhs.xhr.beforeRequest;if(r&&"function"===typeof r){var i=r(t);i&&(t=i)}var a=(!0===Xy.Vhs.xhr.original?Z_:Xy.Vhs.xhr)(t,(function(e,t){return Y_(a,e,t,n)})),o=a.abort;return a.abort=function(){return a.aborted=!0,o.apply(a,arguments)},a.uri=t.uri,a.requestTime=Date.now(),a};return e.original=!0,e},$_=function(e){var t,n={};return e.byterange&&(n.Range="bytes="+(t=e.byterange).offset+"-"+("bigint"===typeof t.offset||"bigint"===typeof t.length?eh().BigInt(t.offset)+eh().BigInt(t.length)-eh().BigInt(1):t.offset+t.length-1)),n},eb=function(e,t){return e.start(t)+"-"+e.end(t)},tb=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},nb=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},rb=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];Fh(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r})),t},ib=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},ab=function(e){return e.resolvedUri},ob=function(e){for(var t=Array.prototype.slice.call(e),n=16,r="",i=0;i<t.length/n;i++)r+=t.slice(i*n,i*n+n).map(tb).join("")+" "+t.slice(i*n,i*n+n).map(nb).join("")+"\n";return r},sb=Object.freeze({__proto__:null,createTransferableMessage:rb,initSegmentId:ib,segmentKeyId:ab,hexDump:ob,tagDump:function(e){var t=e.bytes;return ob(t)},textRanges:function(e){var t,n="";for(t=0;t<e.length;t++)n+=eb(e,t)+" ";return n}}),ub=function(e){var t=e.playlist,n=e.time,r=void 0===n?void 0:n,i=e.callback;if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===r)return i({message:"getProgramTime: playlist and time must be provided"});var a=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n,r=0,i=0;i<t.segments.length&&!(e<=(r=(n=t.segments[i]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration));i++);var a=t.segments[t.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>r){if(e>r+.25*a.duration)return null;n=a}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(r,t);if(!a)return i({message:"valid programTime was not found"});if("estimate"===a.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var o={mediaSeconds:r},s=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,r=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*r)}(r,a.segment);return s&&(o.programDateTime=s.toISOString()),i(null,o)},lb=function(e){var t=e.programTime,n=e.playlist,r=e.retryCount,i=void 0===r?2:r,a=e.seekTo,o=e.pauseAfterSeek,s=void 0===o||o,u=e.tech,l=e.callback;if(!l)throw new Error("seekToProgramTime: callback must be provided");if("undefined"===typeof t||!n||!a)return l({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!u.hasStarted_)return l({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(n))return l({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var c=function(e,t){var n;try{n=new Date(e)}catch(iV){return null}if(!t||!t.segments||0===t.segments.length)return null;var r=t.segments[0];if(n<r.dateTimeObject)return null;for(var i=0;i<t.segments.length-1&&(r=t.segments[i],!(n<t.segments[i+1].dateTimeObject));i++);var a,o=t.segments[t.segments.length-1],s=o.dateTimeObject,u=o.videoTimingInfo?(a=o.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:o.duration+.25*o.duration;return n>new Date(s.getTime()+1e3*u)?null:(n>s&&(r=o),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:M_.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})}(t,n);if(!c)return l({message:"".concat(t," was not found in the stream")});var h=c.segment,d=function(e,t){var n,r;try{n=new Date(e),r=new Date(t)}catch(iV){}var i=n.getTime();return(r.getTime()-i)/1e3}(h.dateTimeObject,t);if("estimate"===c.type)return 0===i?l({message:"".concat(t," is not buffered yet. Try again")}):(a(c.estimatedStart+d),void u.one("seeked",(function(){lb({programTime:t,playlist:n,retryCount:i-1,seekTo:a,pauseAfterSeek:s,tech:u,callback:l})})));var f=h.start+d;u.one("seeked",(function(){return l(null,u.currentTime())})),s&&u.pause(),a(f)},cb=function(e,t){if(4===e.readyState)return t()},hb=function(e,t,n){var r,i=[],a=!1,o=function(e,t,r,i){return t.abort(),a=!0,n(e,t,r,i)},s=function(e,t){if(!a){if(e)return o(e,t,"",i);var n=t.responseText.substring(i&&i.byteLength||0,t.responseText.length);if(i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!==typeof e})),t.length<=1)return Bh(t[0]);var r=t.reduce((function(e,t,n){return e+(t.byteLength||t.length)}),0),i=new Uint8Array(r),a=0;return t.forEach((function(e){e=Bh(e),i.set(e,a),a+=e.byteLength})),i}(i,Wh(n,!0)),r=r||af(i),i.length<10||r&&i.length<r+2)return cb(t,(function(){return o(e,t,"",i)}));var s=Sf(i);return"ts"===s&&i.length<188||!s&&i.length<376?cb(t,(function(){return o(e,t,"",i)})):o(null,t,s,i)}},u={uri:e,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function(t){t.total,t.loaded;return Y_(e,null,{statusCode:e.status},s)}))}},l=t(u,(function(e,t){return Y_(l,e,t,s)}));return l},db=Xy.EventTarget,fb=function(e,t){if(!G_(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var n=0;n<e.segments.length;n++){var r=e.segments[n],i=t.segments[n];if(r.uri!==i.uri)return!1;if(r.byterange||i.byterange){var a=r.byterange,o=i.byterange;if(a&&!o||!a&&o)return!1;if(a.offset!==o.offset||a.length!==o.length)return!1}}return!0},pb=function(e){var t=e.mainXml,n=e.srcUrl,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Jd($d(e),t),r=Fd(n.representationInfo);return Od({dashPlaylists:r,locations:n.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:n.eventStream})}(t,{manifestUri:n,clientOffset:e.clientOffset,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest});return B_(r,n),r},mb=function(e,t){return(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},vb=function(e,t){var n={};for(var r in e){var i=e[r].sidx;if(i){var a=bd(i);if(!t[a])break;var o=t[a].sidxInfo;mb(o,i)&&(n[a]=t[a])}}return n},gb=function(e){v(n,e);var t=T(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;d(this,n),(i=t.call(this)).mainPlaylistLoader_=o||b(i),o||(i.isMain_=!0);var s=a.withCredentials,u=void 0!==s&&s;if(i.vhs_=r,i.withCredentials=u,!e)throw new Error("A non-empty playlist URL or object is required");return i.on("minimumUpdatePeriod",(function(){i.refreshXml_()})),i.on("mediaupdatetimeout",(function(){i.refreshMedia_(i.media().id)})),i.state="HAVE_NOTHING",i.loadedPlaylists_={},i.logger_=o_("DashPlaylistLoader"),i.isMain_?(i.mainPlaylistLoader_.srcUrl=e,i.mainPlaylistLoader_.sidxMapping_={}):i.childPlaylist_=e,i}return p(n,[{key:"requestErrored_",value:function(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!==typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)}},{key:"addSidxSegments_",value:function(e,t,n){var r=this,i=e.sidx&&bd(e.sidx);if(e.sidx&&i&&!this.mainPlaylistLoader_.sidxMapping_[i]){var a=a_(e.sidx.resolvedUri),o=function(a,o){if(!r.requestErrored_(a,o,t)){var s,u=r.mainPlaylistLoader_.sidxMapping_;try{s=nf()(Bh(o.response).subarray(8))}catch(iV){return void r.requestErrored_(iV,o,t)}return u[i]={sidxInfo:e.sidx,sidx:s},pd(e,s,e.sidx.resolvedUri),n(!0)}};this.request=hb(a,this.vhs_.xhr,(function(t,n,i,s){if(t)return o(t,n);if(!i||"mp4"!==i)return o({status:n.status,message:"Unsupported ".concat(i||"unknown"," container type for sidx segment at URL: ").concat(a),response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},n);var u=e.sidx.byterange,l=u.offset,c=u.length;if(s.length>=c+l)return o(t,{response:s.subarray(l,l+c),status:n.status,uri:n.uri});r.request=r.vhs_.xhr({uri:a,responseType:"arraybuffer",headers:$_({byterange:e.sidx.byterange})},o)}))}else this.mediaRequest_=eh().setTimeout((function(){return n(!1)}),0)}},{key:"dispose",value:function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},eh().clearTimeout(this.minimumUpdatePeriodTimeout_),eh().clearTimeout(this.mediaRequest_),eh().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"===typeof e){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,(function(r){t.haveMetadata({startingState:n,playlist:e})})))}},{key:"haveMetadata",value:function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MAIN_MANIFEST"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),eh().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(eh().clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(e){var t=this;eh().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=eh().setTimeout((function(){return t.load()}),r)}else this.started?n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.isMain_?this.requestMain_((function(t,n){e.haveMain_(),e.hasPendingRequest()||e.media_||e.media(e.mainPlaylistLoader_.main.playlists[0])})):this.mediaRequest_=eh().setTimeout((function(){return e.haveMain_()}),0)}},{key:"requestMain_",value:function(e){var t=this;this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(n,r){if(!t.requestErrored_(n,r)){var i=r.responseText!==t.mainPlaylistLoader_.mainXml_;return t.mainPlaylistLoader_.mainXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?t.mainLoaded_=Date.parse(r.responseHeaders.date):t.mainLoaded_=Date.now(),t.mainPlaylistLoader_.srcUrl=a_(t.mainPlaylistLoader_.srcUrl,r),i?(t.handleMain_(),void t.syncClientServerClock_((function(){return e(r,i)}))):e(r,i)}"HAVE_NOTHING"===t.state&&(t.started=!1)}))}},{key:"syncClientServerClock_",value:function(e){var t=this,n=ef(this.mainPlaylistLoader_.mainXml_);return null===n?(this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:i_(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(r,i){if(t.request){if(r)return t.mainPlaylistLoader_.clientOffset_=t.mainLoaded_-Date.now(),e();var a;a="HEAD"===n.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):t.mainLoaded_:Date.parse(i.responseText),t.mainPlaylistLoader_.clientOffset_=a-Date.now(),e()}})))}},{key:"haveMain_",value:function(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}},{key:"handleMain_",value:function(){this.mediaRequest_=null;var e=this.mainPlaylistLoader_.main,t=pb({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(t=function(e,t,n){for(var r=!0,i=s_(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),a=0;a<t.playlists.length;a++){var o=t.playlists[a];if(o.sidx){var s=bd(o.sidx);n&&n[s]&&n[s].sidx&&pd(o,n[s].sidx,o.sidx.resolvedUri)}var u=K_(i,o,fb);u&&(i=u,r=!1)}return j_(t,(function(e,t,n,a){if(e.playlists&&e.playlists.length){var o=e.playlists[0].id,s=K_(i,e.playlists[0],fb);s&&((i=s).mediaGroups[t][n][a].playlists[0]=i.playlists[o],r=!1)}})),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:i}(e,t,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=t||e;var n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||t&&t.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(t)}},{key:"updateMinimumUpdatePeriodTimeout_",value:function(){var e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(eh().clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.main&&e.main.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!==typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of ".concat(t,", not setting a timeout")):this.createMUPTimeout_(t)}},{key:"createMUPTimeout_",value:function(e){var t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=eh().setTimeout((function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)}},{key:"refreshXml_",value:function(){var e=this;this.requestMain_((function(t,n){n&&(e.media_&&(e.media_=e.mainPlaylistLoader_.main.playlists[e.media_.id]),e.mainPlaylistLoader_.sidxMapping_=function(e,t){var n=vb(e.playlists,t);return j_(e,(function(e,r,i,a){if(e.playlists&&e.playlists.length){var o=e.playlists;n=s_(n,vb(o,t))}})),n}(e.mainPlaylistLoader_.main,e.mainPlaylistLoader_.sidxMapping_),e.addSidxSegments_(e.media(),e.state,(function(t){e.refreshMedia_(e.media().id)})))}))}},{key:"refreshMedia_",value:function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();var n=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){!function e(){t.media().endList||(t.mediaUpdateTimeout=eh().setTimeout((function(){t.trigger("mediaupdatetimeout"),e()}),Q_(t.media(),Boolean(r))))}()}this.trigger("loadedplaylist")}}]),n}(db),yb={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},_b=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},bb=function(e){return function(){var t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(iV){var t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}}(e),n=_b(new Worker(t));n.objURL=t;var r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),r.call(this)},n}},kb=function(e){return"var browserWorkerPolyFill = ".concat(_b.toString(),";\n")+"browserWorkerPolyFill(self);\n"+e},Tb=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},wb=kb(Tb((function(){var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},t=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,a;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(a=[],r=arguments.length,r=1;r<arguments.length;++r)a.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,a)}},this.dispose=function(){e={}}}};t.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},t.prototype.push=function(e){this.trigger("data",e)},t.prototype.flush=function(e){this.trigger("done",e)},t.prototype.partialFlush=function(e){this.trigger("partialdone",e)},t.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},t.prototype.reset=function(e){this.trigger("reset",e)};var r,i,a,o,s,u,l,c,h,f,m,v,g,y,_,b,k,T,w,x,S,E,C,I,A,P,O,L,D,N,M,R,U,j,F,B,z=t,V=Math.pow(2,32),H={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*V+n.getUint32(4)},MAX_UINT32:V},q=H.MAX_UINT32;!function(){var e;if(C={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(e in C)C.hasOwnProperty(e)&&(C[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);I=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),P=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),A=new Uint8Array([0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),L=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),D={video:O,audio:L},R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]),U=new Uint8Array([0,0,0,0,0,0,0,0]),j=U,F=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),B=U,N=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),r=function(e){var t,n,r=[],i=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)i+=r[t].byteLength;for(n=new Uint8Array(i+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,i=8;t<r.length;t++)n.set(r[t],i),i+=r[t].byteLength;return n},i=function(){return r(C.dinf,r(C.dref,R))},a=function(e){return r(C.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return r(C.ftyp,I,A,I,P)},b=function(e){return r(C.hdlr,D[e])},s=function(e){return r(C.mdat,e)},_=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),r(C.mdhd,t)},y=function(e){return r(C.mdia,_(e),b(e.type),l(e))},u=function(e){return r(C.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},l=function(e){return r(C.minf,"video"===e.type?r(C.vmhd,N):r(C.smhd,M),i(),T(e))},c=function(e,t){for(var n=[],i=t.length;i--;)n[i]=x(t[i]);return r.apply(null,[C.moof,u(e)].concat(n))},h=function(e){for(var t=e.length,n=[];t--;)n[t]=v(e[t]);return r.apply(null,[C.moov,m(4294967295)].concat(n).concat(f(e)))},f=function(e){for(var t=e.length,n=[];t--;)n[t]=S(e[t]);return r.apply(null,[C.mvex].concat(n))},m=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r(C.mvhd,t)},k=function(e){var t,n,i=e.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)t=i[n].flags,a[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return r(C.sdtp,a)},T=function(e){return r(C.stbl,w(e),r(C.stts,B),r(C.stsc,j),r(C.stsz,F),r(C.stco,U))},function(){var e,t;w=function(n){return r(C.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?e(n):t(n))},e=function(e){var t,n,i=e.sps||[],a=e.pps||[],o=[],s=[];for(t=0;t<i.length;t++)o.push((65280&i[t].byteLength)>>>8),o.push(255&i[t].byteLength),o=o.concat(Array.prototype.slice.call(i[t]));for(t=0;t<a.length;t++)s.push((65280&a[t].byteLength)>>>8),s.push(255&a[t].byteLength),s=s.concat(Array.prototype.slice.call(a[t]));if(n=[C.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),r(C.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],o,[a.length],s))),r(C.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var u=e.sarRatio[0],l=e.sarRatio[1];n.push(r(C.pasp,new Uint8Array([(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u,(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l])))}return r.apply(null,n)},t=function(e){return r(C.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),a(e))}}(),g=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return r(C.tkhd,t)},x=function(e){var t,n,i,a,o,s;return t=r(C.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/q),s=Math.floor(e.baseMediaDecodeTime%q),n=r(C.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(i=E(e,92),r(C.traf,t,n,i)):(a=k(e),i=E(e,a.length+92),r(C.traf,t,n,i,a))},v=function(e){return e.duration=e.duration||4294967295,r(C.trak,g(e),y(e))},S=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),r(C.trex,t)},function(){var e,t,n;n=function(e,t){var n=0,r=0,i=0,a=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,n|r|i|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var i,a,o,s,u,l;for(t+=20+16*(s=e.samples||[]).length,o=n(s,t),(a=new Uint8Array(o.length+16*s.length)).set(o),i=o.length,l=0;l<s.length;l++)u=s[l],a[i++]=(4278190080&u.duration)>>>24,a[i++]=(16711680&u.duration)>>>16,a[i++]=(65280&u.duration)>>>8,a[i++]=255&u.duration,a[i++]=(4278190080&u.size)>>>24,a[i++]=(16711680&u.size)>>>16,a[i++]=(65280&u.size)>>>8,a[i++]=255&u.size,a[i++]=u.flags.isLeading<<2|u.flags.dependsOn,a[i++]=u.flags.isDependedOn<<6|u.flags.hasRedundancy<<4|u.flags.paddingValue<<1|u.flags.isNonSyncSample,a[i++]=61440&u.flags.degradationPriority,a[i++]=15&u.flags.degradationPriority,a[i++]=(4278190080&u.compositionTimeOffset)>>>24,a[i++]=(16711680&u.compositionTimeOffset)>>>16,a[i++]=(65280&u.compositionTimeOffset)>>>8,a[i++]=255&u.compositionTimeOffset;return r(C.trun,a)},e=function(e,t){var i,a,o,s,u,l;for(t+=20+8*(s=e.samples||[]).length,o=n(s,t),(i=new Uint8Array(o.length+8*s.length)).set(o),a=o.length,l=0;l<s.length;l++)u=s[l],i[a++]=(4278190080&u.duration)>>>24,i[a++]=(16711680&u.duration)>>>16,i[a++]=(65280&u.duration)>>>8,i[a++]=255&u.duration,i[a++]=(4278190080&u.size)>>>24,i[a++]=(16711680&u.size)>>>16,i[a++]=(65280&u.size)>>>8,i[a++]=255&u.size;return r(C.trun,i)},E=function(n,r){return"audio"===n.type?e(n,r):t(n,r)}}();var W,G,K,Q,X,Z,Y,J,$={ftyp:o,mdat:s,moof:c,moov:h,initSegment:function(e){var t,n=o(),r=h(e);return(t=new Uint8Array(n.byteLength+r.byteLength)).set(n),t.set(r,n.byteLength),t}},ee=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},te={groupNalsIntoFrames:function(e){var t,n,r=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r),i},groupFramesIntoGops:function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var n,r,i,a,o,s=t||0,u=[];for(n=0;n<e.length;n++)for(a=e[n],r=0;r<a.length;r++)o=a[r],s+=(i=ee(o,s)).size,u.push(i);return u},concatenateNalData:function(e){var t,n,r,i,a,o,s=0,u=e.byteLength,l=e.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(a=i[n],r=0;r<a.length;r++)o=a[r],h.setUint32(s,o.data.byteLength),s+=4,c.set(o.data,s),s+=o.data.byteLength;return c},generateSampleTableForFrame:function(e,t){var n,r=[];return n=ee(e,t||0),r.push(n),r},concatenateNalDataForFrame:function(e){var t,n,r=0,i=e.byteLength,a=e.length,o=new Uint8Array(i+4*a),s=new DataView(o.buffer);for(t=0;t<e.length;t++)n=e[t],s.setUint32(r,n.data.byteLength),r+=4,o.set(n.data,r),r+=n.data.byteLength;return o}},ne=[33,16,5,32,164,27],re=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ie=function(e){for(var t=[];e--;)t.push(0);return t},ae=9e4;Z=function(e,t){return G(X(e,t))},Y=function(e,t){return K(Q(e),t)},J=function(e,t,n){return Q(n?e:e-t)};var oe={ONE_SECOND_IN_TS:ae,secondsToVideoTs:G=function(e){return e*ae},secondsToAudioTs:K=function(e,t){return e*t},videoTsToSeconds:Q=function(e){return e/ae},audioTsToSeconds:X=function(e,t){return e/t},audioTsToVideoTs:Z,videoTsToAudioTs:Y,metadataTsToSeconds:J},se=function(){if(!W){var e={96e3:[ne,[227,64],ie(154),[56]],88200:[ne,[231],ie(170),[56]],64e3:[ne,[248,192],ie(240),[56]],48e3:[ne,[255,192],ie(268),[55,148,128],ie(54),[112]],44100:[ne,[255,192],ie(268),[55,163,128],ie(84),[112]],32e3:[ne,[255,192],ie(268),[55,234],ie(226),[112]],24e3:[ne,[255,192],ie(268),[55,255,128],ie(268),[111,112],ie(126),[224]],16e3:[ne,[255,192],ie(268),[55,255,128],ie(268),[111,255],ie(269),[223,108],ie(195),[1,192]],12e3:[re,ie(268),[3,127,248],ie(268),[6,255,240],ie(268),[13,255,224],ie(268),[27,253,128],ie(259),[56]],11025:[re,ie(268),[3,127,248],ie(268),[6,255,240],ie(268),[13,255,224],ie(268),[27,255,192],ie(268),[55,175,128],ie(108),[112]],8e3:[re,ie(268),[3,121,16],ie(47),[7]]};t=e,W=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return W},ue=oe,le={prefixWithSilence:function(e,t,n,r){var i,a,o,s,u,l=0,c=0,h=0;if(t.length&&(i=ue.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(ue.ONE_SECOND_IN_TS/(e.samplerate/1024)),n&&r&&(l=i-Math.max(n,r),h=(c=Math.floor(l/a))*a),!(c<1||h>ue.ONE_SECOND_IN_TS/2))){for((o=se()[e.samplerate])||(o=t[0].data),s=0;s<c;s++)u=t[0],t.splice(0,0,{data:o,dts:u.dts-a,pts:u.pts-a});return e.baseMediaDecodeTime-=Math.floor(ue.videoTsToAudioTs(h,e.samplerate)),h}},trimAdtsFramesByEarliestDts:function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},generateSampleTable:function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},concatenateFrameData:function(e){var t,n,r=0,i=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i}},ce=oe.ONE_SECOND_IN_TS,he={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var n,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=r,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/ce,n=Math.floor(n)),n},collectDtsInfo:function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}},de={parseSei:function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!n.payload&&4===r){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}n.payload=void 0}t+=i,r=0,i=0}return n},parseUserData:function(e){return 181!==e.payload[0]||49!==(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var n,r,i,a,o=[];if(!(64&t[0]))return o;for(r=31&t[0],n=0;n<r;n++)a={type:3&t[(i=3*n)+2],pts:e},4&t[i+2]&&(a.ccData=t[i+3]<<8|t[i+4],o.push(a));return o},discardEmulationPreventionBytes:function(e){for(var t,n,r=e.byteLength,i=[],a=1;a<r-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=e[o];return n},USER_DATA_REGISTERED_ITU_T_T35:4},fe=z,pe=de,me=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_="boolean"!==typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Se(0,0),new Se(0,1),new Se(1,0),new Se(1,1)],this.parse708captions_&&(this.cc708Stream_=new be({captionServices:t.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(me.prototype=new fe).push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&(t=pe.parseSei(e.escapedRBSP)).payload&&t.payloadType===pe.USER_DATA_REGISTERED_ITU_T_T35&&(n=pe.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=pe.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},me.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},me.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},me.prototype.flush=function(){return this.flushStream("flush")},me.prototype.partialFlush=function(){return this.flushStream("partialFlush")},me.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},me.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},me.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},me.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)},me.prototype.setsTextOrXDSActive=function(e){return 256===(28928&e.ccData)||4138===(30974&e.ccData)||6186===(30974&e.ccData)},me.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var ve={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},ge=function(e){return 32<=e&&e<=127||160<=e&&e<=255},ye=function(e){this.windowNum=e,this.reset()};ye.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ye.prototype.getText=function(){return this.rows.join("\n")},ye.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ye.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"===typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ye.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},ye.prototype.addText=function(e){this.rows[this.rowIdx]+=e},ye.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var _e=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new ye(-1),this.windows=[],this.stream=n,"string"===typeof t&&this.createTextDecoder(t)};_e.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new ye(n),"function"===typeof t&&(this.windows[n].beforeRowOverflow=t)},_e.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},_e.prototype.createTextDecoder=function(e){if("undefined"===typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var be=function e(t){t=t||{},e.prototype.init.call(this);var n,r=this,i=t.captionServices||{},a={};Object.keys(i).forEach((function(e){n=i[e],/^SERVICE/.test(e)&&(a[e]=n.encoding)})),this.serviceEncodings=a,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(r.new708Packet(),r.add708Bytes(e)):(null===r.current708Packet&&r.new708Packet(),r.add708Bytes(e))}};be.prototype=new fe,be.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},be.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,r=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(r)},be.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,r=null,i=0,a=t[i++];for(e.seq=a>>6,e.sizeCode=63&a;i<t.length;i++)r=31&(a=t[i++]),7===(n=a>>5)&&r>0&&(n=a=t[i++]),this.pushServiceBlock(n,i,r),r>0&&(i+=r-1)},be.prototype.pushServiceBlock=function(e,t,n){var r,i=t,a=this.current708Packet.data,o=this.services[e];for(o||(o=this.initService(e,i));i<t+n&&i<a.length;i++)r=a[i],ge(r)?i=this.handleText(i,o):24===r?i=this.multiByteCharacter(i,o):16===r?i=this.extendedCommands(i,o):128<=r&&r<=135?i=this.setCurrentWindow(i,o):152<=r&&r<=159?i=this.defineWindow(i,o):136===r?i=this.clearWindows(i,o):140===r?i=this.deleteWindows(i,o):137===r?i=this.displayWindows(i,o):138===r?i=this.hideWindows(i,o):139===r?i=this.toggleWindows(i,o):151===r?i=this.setWindowAttributes(i,o):144===r?i=this.setPenAttributes(i,o):145===r?i=this.setPenColor(i,o):146===r?i=this.setPenLocation(i,o):143===r?o=this.reset(i,o):8===r?o.currentWindow.backspace():12===r?o.currentWindow.clearText():13===r?o.currentWindow.pendingNewLine=!0:14===r?o.currentWindow.clearText():141===r&&i++},be.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return ge(n)&&(e=this.handleText(e,t,{isExtended:!0})),e},be.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},be.prototype.initService=function(e,t){var n,r,i=this;return(n="SERVICE"+e)in this.serviceEncodings&&(r=this.serviceEncodings[n]),this.services[e]=new _e(e,r,i),this.services[e].init(this.getPts(t),(function(t){i.flushDisplayed(t,i.services[e])})),this.services[e]},be.prototype.handleText=function(e,t,n){var r,i,a=n&&n.isExtended,o=n&&n.isMultiByte,s=this.current708Packet.data,u=a?4096:0,l=s[e],c=s[e+1],h=t.currentWindow;return t.textDecoder_&&!a?(o?(i=[l,c],e++):i=[l],r=t.textDecoder_.decode(new Uint8Array(i))):r=function(e){var t=ve[e]||e;return 4096&e&&e===t?"":String.fromCharCode(t)}(u|l),h.pendingNewLine&&!h.isEmpty()&&h.newLine(this.getPts(e)),h.pendingNewLine=!1,h.addText(r),e},be.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,r=n[e+1],i=n[e+2];return ge(r)&&ge(i)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},be.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},be.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,r=n[e],i=7&r;t.setCurrentWindow(i);var a=t.currentWindow;return r=n[++e],a.visible=(32&r)>>5,a.rowLock=(16&r)>>4,a.columnLock=(8&r)>>3,a.priority=7&r,r=n[++e],a.relativePositioning=(128&r)>>7,a.anchorVertical=127&r,r=n[++e],a.anchorHorizontal=r,r=n[++e],a.anchorPoint=(240&r)>>4,a.rowCount=15&r,r=n[++e],a.columnCount=63&r,r=n[++e],a.windowStyle=(56&r)>>3,a.penStyle=7&r,a.virtualRowCount=a.rowCount+1,e},be.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.winAttr;return r=n[++e],i.fillOpacity=(192&r)>>6,i.fillRed=(48&r)>>4,i.fillGreen=(12&r)>>2,i.fillBlue=3&r,r=n[++e],i.borderType=(192&r)>>6,i.borderRed=(48&r)>>4,i.borderGreen=(12&r)>>2,i.borderBlue=3&r,r=n[++e],i.borderType+=(128&r)>>5,i.wordWrap=(64&r)>>6,i.printDirection=(48&r)>>4,i.scrollDirection=(12&r)>>2,i.justify=3&r,r=n[++e],i.effectSpeed=(240&r)>>4,i.effectDirection=(12&r)>>2,i.displayEffect=3&r,e},be.prototype.flushDisplayed=function(e,t){for(var n=[],r=0;r<8;r++)t.windows[r].visible&&!t.windows[r].isEmpty()&&n.push(t.windows[r].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},be.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},be.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible=1);return e},be.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible=0);return e},be.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible^=1);return e},be.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&t.windows[i].clearText();return e},be.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&t.windows[i].reset();return e},be.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penAttr;return r=n[++e],i.textTag=(240&r)>>4,i.offset=(12&r)>>2,i.penSize=3&r,r=n[++e],i.italics=(128&r)>>7,i.underline=(64&r)>>6,i.edgeType=(56&r)>>3,i.fontStyle=7&r,e},be.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penColor;return r=n[++e],i.fgOpacity=(192&r)>>6,i.fgRed=(48&r)>>4,i.fgGreen=(12&r)>>2,i.fgBlue=3&r,r=n[++e],i.bgOpacity=(192&r)>>6,i.bgRed=(48&r)>>4,i.bgGreen=(12&r)>>2,i.bgBlue=3&r,r=n[++e],i.edgeRed=(48&r)>>4,i.edgeGreen=(12&r)>>2,i.edgeBlue=3&r,e},be.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,r=n[++e],i.row=15&r,r=n[++e],i.column=63&r,e},be.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var ke={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Te=function(e){return null===e?"":(e=ke[e]||e,String.fromCharCode(e))},we=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],xe=function(){for(var e=[],t=15;t--;)e.push("");return e},Se=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=xe();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=xe();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=xe()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,i))a=Te((r=(3&r)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=Te((r=(3&r)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&i)&&this.addFormatting(e.pts,["i"]),1===(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var o=we.indexOf(7968&t);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(e.pts,o)),o!==this.row_&&(this.clearFormatting(e.pts),this.row_=o),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14===(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),a=Te(r),a+=Te(i),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};Se.prototype=new fe,Se.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e,t){try{return e.trim()}catch(iV){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}}),this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Se.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=xe(),this.nonDisplayed_=xe(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Se.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Se.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Se.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Se.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Se.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Se.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Se.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Se.prototype.isNormalChar=function(e){return e>=32&&e<=127},Se.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=xe(),this.displayed_=xe()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Se.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},Se.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Se.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},Se.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},Se.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Se.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var Ee={CaptionStream:me,Cea608Stream:Se,Cea708Stream:be},Ce={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ie="shared",Ae=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Pe=function e(t){var n,r;e.prototype.init.call(this),this.type_=t||Ie,this.push=function(e){this.type_!==Ie&&e.type!==this.type_||(void 0===r&&(r=e.dts),e.dts=Ae(e.dts,r),e.pts=Ae(e.pts,r),n=e.dts,this.trigger("data",e))},this.flush=function(){r=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Pe.prototype=new z;var Oe,Le=Pe,De=Ae,Ne=function(e,t,n){if(!e)return-1;for(var r=n;r<e.length;r++)if(e[r]===t)return r;return-1},Me=z,Re=Ce,Ue=Ne,je=3,Fe=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},Be=function(e,t,n){return decodeURIComponent(Fe(e,t,n))},ze=function(e,t,n){return unescape(Fe(e,t,n))},Ve=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},He={APIC:function(e){var t,n,r=1;e.data[0]===je&&((t=Ue(e.data,0,r))<0||(e.mimeType=ze(e.data,r,t),r=t+1,e.pictureType=e.data[r],r++,(n=Ue(e.data,0,r))<0||(e.description=Be(e.data,r,n),r=n+1,"--\x3e"===e.mimeType?e.url=ze(e.data,r,e.data.length):e.pictureData=e.data.subarray(r,e.data.length))))},"T*":function(e){e.data[0]===je&&(e.value=Be(e.data,1,e.data.length).replace(/\0*$/,""),e.values=e.value.split("\0"))},TXXX:function(e){var t;e.data[0]===je&&-1!==(t=Ue(e.data,0,1))&&(e.description=Be(e.data,1,t),e.value=Be(e.data,t+1,e.data.length).replace(/\0*$/,""),e.data=e.value)},"W*":function(e){e.url=ze(e.data,0,e.data.length).replace(/\0.*$/,"")},WXXX:function(e){var t;e.data[0]===je&&-1!==(t=Ue(e.data,0,1))&&(e.description=Be(e.data,1,t),e.url=ze(e.data,t+1,e.data.length).replace(/\0.*$/,""))},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=ze(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};Oe=function(e){var t,n={descriptor:e&&e.descriptor},r=0,i=[],a=0;if(Oe.prototype.init.call(this),this.dispatchType=Re.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,o,s,u;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(a=0,i.length=0),0===i.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(i.push(e),a+=e.data.byteLength,1===i.length&&(r=Ve(e.data.subarray(6,10)),r+=10),!(a<r)){for(t={data:new Uint8Array(r),frames:[],pts:i[0].pts,dts:i[0].dts},u=0;u<r;)t.data.set(i[0].data.subarray(0,r-u),u),u+=i[0].data.byteLength,a-=i[0].data.byteLength,i.shift();n=10,64&t.data[5]&&(n+=4,n+=Ve(t.data.subarray(10,14)),r-=Ve(t.data.subarray(16,20)));do{if((o=Ve(t.data.subarray(n+4,n+8)))<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if((s={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+o+10)}).key=s.id,He[s.id]?He[s.id](s):"T"===s.id[0]?He["T*"](s):"W"===s.id[0]&&He["W*"](s),"com.apple.streaming.transportStreamTimestamp"===s.owner){var l=s.data,c=(1&l[3])<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;c*=4,c+=3&l[7],s.timeStamp=c,void 0===t.pts&&void 0===t.dts&&(t.pts=s.timeStamp,t.dts=s.timeStamp),this.trigger("timestamp",s)}t.frames.push(s),n+=10,n+=o}while(n<r);this.trigger("data",t)}}},Oe.prototype=new Me;var qe,We,Ge,Ke=Oe,Qe=z,Xe=Ee,Ze=Ce,Ye=Le,Je=188;(qe=function(){var e=new Uint8Array(Je),t=0;qe.prototype.init.call(this),this.push=function(n){var r,i=0,a=Je;for(t?((r=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),r.set(n,t),t=0):r=n;a<r.byteLength;)71!==r[i]||71!==r[a]?(i++,a++):(this.trigger("data",r.subarray(i,a)),i+=Je,a+=Je);i<r.byteLength&&(e.set(r.subarray(i),0),t=r.byteLength-i)},this.flush=function(){t===Je&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new Qe,We=function(){var e,t,n,r;We.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var i=0;r.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===r.type?t(e.subarray(i),r):n(e.subarray(i),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,i;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var a=e[i],o=(31&e[i+1])<<8|e[i+2];a===Ze.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=o:a===Ze.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=o:a===Ze.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][o]=a),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Ze.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ze.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},We.prototype=new Qe,We.STREAM_TYPES={h264:27,adts:15},Ge=function(){var e,t=this,n=!1,r={data:[],size:0},i={data:[],size:0},a={data:[],size:0},o=function(e,n,r){var i,a,o=new Uint8Array(e.size),s={type:n},u=0,l=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)a=e.data[u],o.set(a.data,l),l+=a.data.byteLength;!function(e,t){var n,r=e[0]<<16|e[1]<<8|e[2];t.data=new Uint8Array,1===r&&(t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!==(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8]))}(o,s),i="video"===n||s.packetLength<=e.size,(r||i)&&(e.size=0,e.data.length=0),i&&t.trigger("data",s)}};Ge.prototype.init.call(this),this.push=function(s){({pat:function(){},pes:function(){var e,t;switch(s.streamType){case Ze.H264_STREAM_TYPE:e=r,t="video";break;case Ze.ADTS_STREAM_TYPE:e=i,t="audio";break;case Ze.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}s.payloadUnitStartIndicator&&o(e,t,!0),e.data.push(s),e.size+=s.data.byteLength},pmt:function(){var r={type:"metadata",tracks:[]};null!==(e=s.programMapTable).video&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),n=!0,t.trigger("data",r)}})[s.type]()},this.reset=function(){r.size=0,r.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(r,"video"),o(i,"audio"),o(a,"timed-metadata")},this.flush=function(){if(!n&&e){var r={type:"metadata",tracks:[]};null!==e.video&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",r)}n=!1,this.flushStreams_(),this.trigger("done")}},Ge.prototype=new Qe;var $e={PAT_PID:0,MP2T_PACKET_LENGTH:Je,TransportPacketStream:qe,TransportParseStream:We,ElementaryStream:Ge,TimestampRolloverStream:Ye,CaptionStream:Xe.CaptionStream,Cea608Stream:Xe.Cea608Stream,Cea708Stream:Xe.Cea708Stream,MetadataStream:Ke};for(var et in Ze)Ze.hasOwnProperty(et)&&($e[et]=Ze[et]);var tt,nt=$e,rt=z,it=oe.ONE_SECOND_IN_TS,at=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];tt=function(e){var t,n=0;tt.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes ".concat(e," to ").concat(t," in frame ").concat(n," outside syncword")})},this.push=function(r){var i,a,o,s,u,l=0;if(e||(n=0),"audio"===r.type){var c;for(t&&t.length?(o=t,(t=new Uint8Array(o.byteLength+r.data.byteLength)).set(o),t.set(r.data,o.byteLength)):t=r.data;l+7<t.length;)if(255===t[l]&&240===(246&t[l+1])){if("number"===typeof c&&(this.skipWarn_(c,l),c=null),a=2*(1&~t[l+1]),i=(3&t[l+3])<<11|t[l+4]<<3|(224&t[l+5])>>5,u=(s=1024*(1+(3&t[l+6])))*it/at[(60&t[l+2])>>>2],t.byteLength-l<i)break;this.trigger("data",{pts:r.pts+n*u,dts:r.dts+n*u,sampleCount:s,audioobjecttype:1+(t[l+2]>>>6&3),channelcount:(1&t[l+2])<<2|(192&t[l+3])>>>6,samplerate:at[(60&t[l+2])>>>2],samplingfrequencyindex:(60&t[l+2])>>>2,samplesize:16,data:t.subarray(l+7+a,l+i)}),n++,l+=i}else"number"!==typeof c&&(c=l),l++;"number"===typeof c&&(this.skipWarn_(c,l),c=null),t=t.subarray(l)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},tt.prototype=new rt;var ot,st,ut,lt=tt,ct=z,ht=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,a=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");a.set(e.subarray(i,i+o)),n=new DataView(a.buffer).getUint32(0),r=8*o,t-=o},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),a=n>>>32-i;return(r-=i)>0?n<<=i:t>0&&this.loadWord(),(i=e-i)>0?a<<i|this.readBits(i):a},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!==(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};st=function(){var e,t,n=0;st.prototype.init.call(this),this.push=function(r){var i;t?((i=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),i.set(r.data,t.byteLength),t=i):t=r.data;for(var a=t.byteLength;n<a-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<a;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<a);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},st.prototype=new ct,ut={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ot=function(){var e,t,n,r,i,a,o,s=new st;ot.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,r=e.dts,s.push(e))},s.on("data",(function(o){var s={trackId:t,pts:n,dts:r,data:o,nalUnitTypeCode:31&o[0]};switch(s.nalUnitTypeCode){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=i(o.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=i(o.subarray(1)),s.config=a(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)})),s.on("done",(function(){e.trigger("done")})),s.on("partialdone",(function(){e.trigger("partialdone")})),s.on("reset",(function(){e.trigger("reset")})),s.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},o=function(e,t){var n,r=8,i=8;for(n=0;n<e;n++)0!==i&&(i=(r+t.readExpGolomb()+256)%256),r=0===i?r:i},i=function(e){for(var t,n,r=e.byteLength,i=[],a=1;a<r-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=e[o];return n},a=function(e){var t,n,r,i,a,s,u,l,c,h,d,f,p=0,m=0,v=0,g=0,y=[1,1];if(n=(t=new ht(e)).readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),ut[n]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==a?8:12,f=0;f<d;f++)t.readBoolean()&&o(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),f=0;f<u;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(h=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}y&&(y[0],y[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:16*(l+1)-2*p-2*m,height:(2-h)*(c+1)*16-2*v-2*g,sarRatio:y}}},ot.prototype=new ct;var dt,ft={H264Stream:ot,NalByteStream:st},pt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],mt=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},vt=function e(t,n){return t.length-n<10||t[n]!=="I".charCodeAt(0)||t[n+1]!=="D".charCodeAt(0)||t[n+2]!=="3".charCodeAt(0)?n:e(t,n+=mt(t,n))},gt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},yt=function(e,t,n){return unescape(function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}(e,t,n))},_t={isLikelyAacData:function(e){var t=vt(e,0);return e.length>=t+2&&255===(255&e[t])&&240===(240&e[t+1])&&16===(22&e[t+1])},parseId3TagSize:mt,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return pt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,r;t=10,64&e[5]&&(t+=4,t+=gt(e.subarray(10,14)));do{if((n=gt(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+n+10);for(var i=0;i<r.byteLength;i++)if(0===r[i]){if("com.apple.streaming.transportStreamTimestamp"===yt(r,0,i)){var a=r.subarray(i+1),o=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return o*=4,o+=3&a[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}},bt=_t;(dt=function(){var e=new Uint8Array,t=0;dt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var r,i,a,o,s=0,u=0;for(e.length?(o=e.length,(e=new Uint8Array(n.byteLength+o)).set(e.subarray(0,o)),e.set(n,o)):e=n;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(255!==(255&e[u])||240!==(240&e[u+1]))u++;else{if(e.length-u<7)break;if(u+(s=bt.parseAdtsSize(e,u))>e.length)break;a={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",a),u+=s}else{if(e.length-u<10)break;if(u+(s=bt.parseId3TagSize(e,u))>e.length)break;i={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",i),u+=s}r=e.length-u,e=r>0?e.subarray(u):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new z;var kt,Tt,wt,xt,St=z,Et=$,Ct=te,It=le,At=he,Pt=nt,Ot=oe,Lt=lt,Dt=ft.H264Stream,Nt=dt,Mt=_t.isLikelyAacData,Rt=oe.ONE_SECOND_IN_TS,Ut=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],jt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ft=function(e,t){t.stream=e,this.trigger("log",t)},Bt=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];"headOfPipeline"!==i&&t[i].on&&t[i].on("log",Ft.bind(e,i))}},zt=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Vt=function(e,t,n,r,i,a){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(r-t),pts:e+(i-n)},prependedContentDuration:a,baseMediaDecodeTime:e}};Tt=function(e,t){var n,r=[],i=0,a=0,o=1/0;n=(t=t||{}).firstSequenceNumber||0,Tt.prototype.init.call(this),this.push=function(t){At.collectDtsInfo(e,t),e&&Ut.forEach((function(n){e[n]=t[n]})),r.push(t)},this.setEarliestDts=function(e){i=e},this.setVideoBaseMediaDecodeTime=function(e){o=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var s,u,l,c,h,d,f;0!==r.length?(s=It.trimAdtsFramesByEarliestDts(r,e,i),e.baseMediaDecodeTime=At.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),f=It.prefixWithSilence(e,s,a,o),e.samples=It.generateSampleTable(s),l=Et.mdat(It.concatenateFrameData(s)),r=[],u=Et.moof(n,[e]),c=new Uint8Array(u.byteLength+l.byteLength),n++,c.set(u),c.set(l,u.byteLength),At.clearDtsInfo(e),h=Math.ceil(1024*Rt/e.samplerate),s.length&&(d=s.length*h,this.trigger("segmentTimingInfo",Vt(Ot.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s[0].dts,s[0].pts,s[0].dts+d,s[0].pts+d,f||0)),this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+d})),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){At.clearDtsInfo(e),r=[],this.trigger("reset")}},Tt.prototype=new St,kt=function(e,t){var n,r,i,a=[],o=[];n=(t=t||{}).firstSequenceNumber||0,kt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){At.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.config,e.sps=[t.data],jt.forEach((function(t){e[t]=r[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),a.push(t)},this.flush=function(){for(var r,i,s,u,l,c,h,d,f=0;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(r=Ct.groupNalsIntoFrames(a),(s=Ct.groupFramesIntoGops(r))[0][0].keyFrame||((i=this.getGopForFusion_(a[0],e))?(f=i.duration,s.unshift(i),s.byteLength+=i.byteLength,s.nalCount+=i.nalCount,s.pts=i.pts,s.dts=i.dts,s.duration+=i.duration):s=Ct.extendFirstKeyFrame(s)),o.length){var p;if(!(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");At.clearDtsInfo(e),s=p}At.collectDtsInfo(e,s),e.samples=Ct.generateSampleTable(s),l=Et.mdat(Ct.concatenateNalData(s)),e.baseMediaDecodeTime=At.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),h=s[0],d=s[s.length-1],this.trigger("segmentTimingInfo",Vt(e.baseMediaDecodeTime,h.dts,h.pts,d.dts+d.duration,d.pts+d.duration,f)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),u=Et.moof(n,[e]),c=new Uint8Array(u.byteLength+l.byteLength),n++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),a=[],this.gopCache_.length=0,o.length=0,this.trigger("reset")},this.resetStream_=function(){At.clearDtsInfo(e),r=void 0,i=void 0},this.getGopForFusion_=function(t){var n,r,i,a,o,s=1/0;for(o=0;o<this.gopCache_.length;o++)i=(a=this.gopCache_[o]).gop,e.pps&&zt(e.pps[0],a.pps[0])&&e.sps&&zt(e.sps[0],a.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=a,s=n));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,n,r,i,a,s,u,l;for(a=e.byteLength,s=e.nalCount,u=e.duration,t=n=0;t<o.length&&n<e.length&&(r=o[t],i=e[n],r.pts!==i.pts);)i.pts>r.pts?t++:(n++,a-=i.byteLength,s-=i.nalCount,u-=i.duration);return 0===n?e:n===e.length?null:((l=e.slice(n)).byteLength=a,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,n,r,i,a,s,u;for(t=o.length-1,n=e.length-1,a=null,s=!1;t>=0&&n>=0;){if(r=o[t],i=e[n],r.pts===i.pts){s=!0;break}r.pts>i.pts?t--:(t===o.length-1&&(a=n),n--)}if(!s&&null===a)return null;if(0===(u=s?n:a))return e;var l=e.slice(u),c=l.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){o=e}},kt.prototype=new St,xt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!==typeof(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"===typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,xt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},xt.prototype=new St,xt.prototype.flush=function(e){var t,n,r,i,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,jt.forEach((function(e){o.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,Ut.forEach((function(e){o.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,r=Et.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(r.byteLength),o.initSegment.set(r),o.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)o.data.set(this.pendingBoxes[i],a),a+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=Ot.metadataTsToSeconds(t.startPts,s,this.keepOriginalTimestamps),t.endTime=Ot.metadataTsToSeconds(t.endPts,s,this.keepOriginalTimestamps),o.captionStreams[t.stream]=!0,o.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=Ot.metadataTsToSeconds(n.pts,s,this.keepOriginalTimestamps),o.metadata.push(n);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),i=0;i<o.captions.length;i++)t=o.captions[i],this.trigger("caption",t);for(i=0;i<o.metadata.length;i++)n=o.metadata[i],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},xt.prototype.setRemux=function(e){this.remuxTracks=e},wt=function(e){var t,n,r=this,i=!0;wt.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="aac",i.metadataStream=new Pt.MetadataStream,i.aacStream=new Nt,i.audioTimestampRolloverStream=new Pt.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new Pt.TimestampRolloverStream("timed-metadata"),i.adtsStream=new Lt,i.coalesceStream=new xt(e,i.metadataStream),i.headOfPipeline=i.aacStream,i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.metadataStream.on("timestamp",(function(e){i.aacStream.setTimestamp(e.timeStamp)})),i.aacStream.on("data",(function(a){"timed-metadata"!==a.type&&"audio"!==a.type||i.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Tt(n,e),i.audioSegmentStream.on("log",r.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),Bt(this,i)},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new Pt.MetadataStream,i.packetStream=new Pt.TransportPacketStream,i.parseStream=new Pt.TransportParseStream,i.elementaryStream=new Pt.ElementaryStream,i.timestampRolloverStream=new Pt.TimestampRolloverStream,i.adtsStream=new Lt,i.h264Stream=new Dt,i.captionStream=new Pt.CaptionStream(e),i.coalesceStream=new xt(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",(function(a){var o;if("metadata"===a.type){for(o=a.tracks.length;o--;)t||"video"!==a.tracks[o].type?n||"audio"!==a.tracks[o].type||((n=a.tracks[o]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=a.tracks[o]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime;t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new kt(t,e),i.videoSegmentStream.on("log",r.getLogTrigger_("videoSegmentStream")),i.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,i.audioSegmentStream.setEarliestDts(t.dts-r.baseMediaDecodeTime))})),i.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),i.videoSegmentStream.on("timingInfo",r.trigger.bind(r,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),n&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Tt(n,e),i.audioSegmentStream.on("log",r.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.audioSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"audioSegmentTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",(function(e){e.dispatchType=i.metadataStream.dispatchType,r.trigger("id3Frame",e)})),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),Bt(this,i)},this.setBaseMediaDecodeTime=function(r){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,At.clearDtsInfo(n),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,At.clearDtsInfo(t),i.captionStream.reset()),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(n){n.stream=e,t.trigger("log",n)}},this.push=function(e){if(i){var t=Mt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},wt.prototype=new St;var Ht,qt,Wt,Gt,Kt={Transmuxer:wt,VideoSegmentStream:kt,AudioSegmentStream:Tt,AUDIO_PROPERTIES:Ut,VIDEO_PROPERTIES:jt,generateSegmentTimingInfo:Vt},Qt=function(e){return e>>>0},Xt=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},Zt=Qt,Yt=Xt,Jt=function e(t,n){var r,i,a,o,s,u=[];if(!n.length)return null;for(r=0;r<t.byteLength;)i=Zt(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]),a=Yt(t.subarray(r+4,r+8)),o=i>1?r+i:t.byteLength,a===n[0]&&(1===n.length?u.push(t.subarray(r+8,o)):(s=e(t.subarray(r+8,o),n.slice(1))).length&&(u=u.concat(s))),r=o;return u},$t=Qt,en=H.getUint64,tn=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=en(e.subarray(4)):t.baseMediaDecodeTime=$t(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},nn=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},rn=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],a=4&n.flags[2],o=1&n.flags[1],s=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=r.getUint32(4),h=8;for(i&&(n.dataOffset=r.getInt32(h),h+=4),a&&c&&(t={flags:nn(e.subarray(h,h+4))},h+=4,o&&(t.duration=r.getUint32(h),h+=4),s&&(t.size=r.getUint32(h),h+=4),l&&(1===n.version?t.compositionTimeOffset=r.getInt32(h):t.compositionTimeOffset=r.getUint32(h),h+=4),n.samples.push(t),c--);c--;)t={},o&&(t.duration=r.getUint32(h),h+=4),s&&(t.size=r.getUint32(h),h+=4),u&&(t.flags=nn(e.subarray(h,h+4)),h+=4),l&&(1===n.version?t.compositionTimeOffset=r.getInt32(h):t.compositionTimeOffset=r.getUint32(h),h+=4),n.samples.push(t);return n},an=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],a=2&r.flags[2],o=8&r.flags[2],s=16&r.flags[2],u=32&r.flags[2],l=65536&r.flags[0],c=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),a&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),o&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),u&&(r.defaultSampleFlags=n.getUint32(t)),l&&(r.durationIsEmpty=!0),!i&&c&&(r.baseDataOffsetIsMoof=!0),r},on=(Ht="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},de.discardEmulationPreventionBytes),sn=Ee.CaptionStream,un=Jt,ln=tn,cn=rn,hn=an,dn=Ht,fn=function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(n<i.size)return i;n-=i.size}return null},pn=function(e,t){var n=un(e,["moof","traf"]),r=un(e,["mdat"]),i={},a=[];return r.forEach((function(e,t){var r=n[t];a.push({mdat:e,traf:r})})),a.forEach((function(e){var n,r,a=e.mdat,o=e.traf,s=un(o,["tfhd"]),u=hn(s[0]),l=u.trackId,c=un(o,["tfdt"]),h=c.length>0?ln(c[0]).baseMediaDecodeTime:0,d=un(o,["trun"]);t===l&&d.length>0&&(n=function(e,t,n){var r=t,i=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,o=n.trackId,s=[];return e.forEach((function(e){var t=cn(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=a),e.trackId=o,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"===typeof r?(e.pts=r+dn.BigInt(e.compositionTimeOffset),r+=dn.BigInt(e.duration)):(e.pts=r+e.compositionTimeOffset,r+=e.duration)})),s=s.concat(t)})),s}(d,h,u),r=function(e,t,n){var r,i,a,o,s=new DataView(e.buffer,e.byteOffset,e.byteLength),u={logs:[],seiNals:[]};for(i=0;i+4<e.length;i+=a)if(a=s.getUint32(i),i+=4,!(a<=0))switch(31&e[i]){case 6:var l=e.subarray(i+1,i+1+a),c=fn(i,t);if(r={nalUnitType:"sei_rbsp",size:a,data:l,escapedRBSP:on(l),trackId:n},c)r.pts=c.pts,r.dts=c.dts,o=c;else{if(!o){u.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+i+" for trackId "+n+". See mux.js#223."});break}r.pts=o.pts,r.dts=o.dts}u.seiNals.push(r)}return u}(a,n,l),i[l]||(i[l]={seiNals:[],logs:[]}),i[l].seiNals=i[l].seiNals.concat(r.seiNals),i[l].logs=i[l].logs.concat(r.logs))})),i},mn=function(){var e,t,n,r,i,a,o=!1;this.isInitialized=function(){return o},this.init=function(t){e=new sn,o=!0,a=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,i.captions.push(e),i.captionStreams[e.stream]=!0})),e.on("log",(function(e){i.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===typeof t&&0===Object.keys(t).length)&&(n!==e[0]||r!==t[n])},this.parse=function(e,a,o){var s;if(!this.isInitialized())return null;if(!a||!o)return null;if(this.isNewInit(a,o))n=a[0],r=o[n];else if(null===n||!r)return t.push(e),null;for(;t.length>0;){var u=t.shift();this.parse(u,a,o)}return s=function(e,t,n){if(null===t)return null;var r=pn(e,t)[t]||{};return{seiNals:r.seiNals,logs:r.logs,timescale:n}}(e,n,r),s&&s.logs&&(i.logs=i.logs.concat(s.logs)),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),i):i.logs.length?{logs:i.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;a?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={},i.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,r=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},vn=Qt,gn=function(e){return("00"+e.toString(16)).slice(-2)},yn=Jt,_n=Xt,bn=an,kn=rn,Tn=tn,wn=H.getUint64,xn=Ht;qt=function(e,t){var n=yn(t,["moof","traf"]).reduce((function(t,n){var r,i,a=yn(n,["tfhd"])[0],o=vn(a[4]<<24|a[5]<<16|a[6]<<8|a[7]),s=e[o]||9e4,u=yn(n,["tfdt"])[0],l=new DataView(u.buffer,u.byteOffset,u.byteLength);return"bigint"===typeof(r=1===u[0]?wn(u.subarray(4,12)):l.getUint32(4))?i=r/xn.BigInt(s):"number"!==typeof r||isNaN(r)||(i=r/s),i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i<t&&(t=i),t}),1/0);return"bigint"===typeof n||isFinite(n)?n:0},Gt=function(e){var t=0===e[0]?12:20;return vn(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},Wt=function(e){var t=yn(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,r,i={},a=yn(e,["tkhd"])[0];a&&(r=(t=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0),i.id=0===r?t.getUint32(12):t.getUint32(20));var o=yn(e,["mdia","hdlr"])[0];if(o){var s=_n(o.subarray(8,12));i.type="vide"===s?"video":"soun"===s?"audio":s}var u=yn(e,["mdia","minf","stbl","stsd"])[0];if(u){var l=u.subarray(8);i.codec=_n(l.subarray(4,8));var c,h=yn(l,[i.codec])[0];h&&(/^[asm]vc[1-9]$/i.test(i.codec)?(c=h.subarray(78),"avcC"===_n(c.subarray(4,8))&&c.length>11?(i.codec+=".",i.codec+=gn(c[9]),i.codec+=gn(c[10]),i.codec+=gn(c[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)?(c=h.subarray(28),"esds"===_n(c.subarray(4,8))&&c.length>20&&0!==c[19]?(i.codec+="."+gn(c[19]),i.codec+="."+gn(c[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"):i.codec=i.codec.toLowerCase())}var d=yn(e,["mdia","mdhd"])[0];d&&(i.timescale=Gt(d)),n.push(i)})),n};var Sn=qt,En=Wt,Cn=Ce,In=function(e){var t=31&e[1];return t<<=8,t|=e[2]},An=function(e){return!!(64&e[1])},Pn=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},On=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Ln={parseType:function(e,t){var n=In(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=An(e),n=4+Pn(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=An(e),r=4+Pn(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i;i=3+((15&e[r+1])<<8|e[r+2])-4;for(var a=12+((15&e[r+10])<<8|e[r+11]);a<i;){var o=r+a;t[(31&e[o+1])<<8|e[o+2]]=e[o],a+=5+((15&e[o+3])<<8|e[o+4])}return t}},parsePayloadUnitStartIndicator:An,parsePesType:function(e,t){switch(t[In(e)]){case Cn.H264_STREAM_TYPE:return"video";case Cn.ADTS_STREAM_TYPE:return"audio";case Cn.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!An(e))return null;var t=4+Pn(e);if(t>=e.byteLength)return null;var n,r=null;return 192&(n=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+Pn(e),n=e.subarray(t),r=0,i=0,a=!1;i<n.byteLength-3;i++)if(1===n[i+2]){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}i+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===On(31&n[i+3])&&(a=!0);do{r++}while(1!==n[r]&&r<n.length);i=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===On(31&n[i+3])&&(a=!0),i=r-2,r+=3;break;default:r+=3}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===On(31&n[i+3])&&(a=!0),a}},Dn=Ce,Nn=De,Mn={};Mn.ts=Ln,Mn.aac=_t;var Rn=oe.ONE_SECOND_IN_TS,Un=188,jn=71,Fn=function(e,t,n){for(var r,i,a,o,s=0,u=Un,l=!1;u<=e.byteLength;)if(e[s]!==jn||e[u]!==jn&&u!==e.byteLength)s++,u++;else{if(r=e.subarray(s,u),"pes"===Mn.ts.parseType(r,t.pid))i=Mn.ts.parsePesType(r,t.table),a=Mn.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(o=Mn.ts.parsePesTime(r))&&(o.type="audio",n.audio.push(o),l=!0);if(l)break;s+=Un,u+=Un}for(s=(u=e.byteLength)-Un,l=!1;s>=0;)if(e[s]!==jn||e[u]!==jn&&u!==e.byteLength)s--,u--;else{if(r=e.subarray(s,u),"pes"===Mn.ts.parseType(r,t.pid))i=Mn.ts.parsePesType(r,t.table),a=Mn.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(o=Mn.ts.parsePesTime(r))&&(o.type="audio",n.audio.push(o),l=!0);if(l)break;s-=Un,u-=Un}},Bn=function(e,t,n){for(var r,i,a,o,s,u,l,c=0,h=Un,d=!1,f={data:[],size:0};h<e.byteLength;)if(e[c]!==jn||e[h]!==jn)c++,h++;else{if(r=e.subarray(c,h),"pes"===Mn.ts.parseType(r,t.pid))if(i=Mn.ts.parsePesType(r,t.table),a=Mn.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(a&&!d&&(o=Mn.ts.parsePesTime(r))&&(o.type="video",n.video.push(o),d=!0),!n.firstKeyFrame)){if(a&&0!==f.size){for(s=new Uint8Array(f.size),u=0;f.data.length;)l=f.data.shift(),s.set(l,u),u+=l.byteLength;if(Mn.ts.videoPacketContainsKeyFrame(s)){var p=Mn.ts.parsePesTime(s);p?(n.firstKeyFrame=p,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(r),f.size+=r.byteLength}if(d&&n.firstKeyFrame)break;c+=Un,h+=Un}for(c=(h=e.byteLength)-Un,d=!1;c>=0;)if(e[c]!==jn||e[h]!==jn)c--,h--;else{if(r=e.subarray(c,h),"pes"===Mn.ts.parseType(r,t.pid))i=Mn.ts.parsePesType(r,t.table),a=Mn.ts.parsePayloadUnitStartIndicator(r),"video"===i&&a&&(o=Mn.ts.parsePesTime(r))&&(o.type="video",n.video.push(o),d=!0);if(d)break;c-=Un,h-=Un}},zn=function(e){var t={pid:null,table:null},n={};for(var r in function(e,t){for(var n,r=0,i=Un;i<e.byteLength;)if(e[r]!==jn||e[i]!==jn)r++,i++;else{switch(n=e.subarray(r,i),Mn.ts.parseType(n,t.pid)){case"pat":t.pid=Mn.ts.parsePat(n);break;case"pmt":var a=Mn.ts.parsePmt(n);t.table=t.table||{},Object.keys(a).forEach((function(e){t.table[e]=a[e]}))}r+=Un,i+=Un}}(e,t),t.table){if(t.table.hasOwnProperty(r))switch(t.table[r]){case Dn.H264_STREAM_TYPE:n.video=[],Bn(e,t,n),0===n.video.length&&delete n.video;break;case Dn.ADTS_STREAM_TYPE:n.audio=[],Fn(e,t,n),0===n.audio.length&&delete n.audio}}return n},Vn=function(e,t){var n;return n=Mn.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,r=0,i=null,a=null,o=0,s=0;e.length-s>=3;){switch(Mn.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){n=!0;break}if((o=Mn.aac.parseId3TagSize(e,s))>e.length){n=!0;break}null===a&&(t=e.subarray(s,s+o),a=Mn.aac.parseAacTimestamp(t)),s+=o;break;case"audio":if(e.length-s<7){n=!0;break}if((o=Mn.aac.parseAdtsSize(e,s))>e.length){n=!0;break}null===i&&(t=e.subarray(s,s+o),i=Mn.aac.parseSampleRate(t)),r++,s+=o;break;default:s++}if(n)return null}if(null===i||null===a)return null;var u=Rn/i;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*r*u,pts:a+1024*r*u}]}}(e):zn(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;("undefined"===typeof n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=Nn(e.dts,n),e.pts=Nn(e.pts,n),e.dtsTime=e.dts/Rn,e.ptsTime=e.pts/Rn}))}if(e.video&&e.video.length){var r=t;if(("undefined"===typeof r||isNaN(r))&&(r=e.video[0].dts),e.video.forEach((function(e){e.dts=Nn(e.dts,r),e.pts=Nn(e.pts,r),e.dtsTime=e.dts/Rn,e.ptsTime=e.pts/Rn})),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=Nn(i.dts,r),i.pts=Nn(i.pts,r),i.dtsTime=i.dts/Rn,i.ptsTime=i.pts/Rn}}}(n,t),n):null},Hn=function(){function e(t,n){d(this,e),this.options=n||{},this.self=t,this.init()}return p(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Kt.Transmuxer(this.options),function(e,t){t.on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var r=t.data;t.data=r.buffer,e.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){var n={start:{decode:oe.videoTsToSeconds(t.start.dts),presentation:oe.videoTsToSeconds(t.start.pts)},end:{decode:oe.videoTsToSeconds(t.end.dts),presentation:oe.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:oe.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=oe.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("audioSegmentTimingInfo",(function(t){var n={start:{decode:oe.videoTsToSeconds(t.start.dts),presentation:oe.videoTsToSeconds(t.start.pts)},end:{decode:oe.videoTsToSeconds(t.end.dts),presentation:oe.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:oe.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=oe.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:oe.videoTsToSeconds(t.start),end:oe.videoTsToSeconds(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:oe.videoTsToSeconds(t.start),end:oe.videoTsToSeconds(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)}},{key:"pushMp4Captions",value:function(e){this.captionParser||(this.captionParser=new mn,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],logs:n&&n.logs||[],data:t.buffer},[t.buffer])}},{key:"probeMp4StartTime",value:function(e){var t=e.timescales,n=e.data,r=Sn(t,n);this.self.postMessage({action:"probeMp4StartTime",startTime:r,data:n},[n.buffer])}},{key:"probeMp4Tracks",value:function(e){var t=e.data,n=En(t);this.self.postMessage({action:"probeMp4Tracks",tracks:n,data:t},[t.buffer])}},{key:"probeTs",value:function(e){var t=e.data,n=e.baseStartTime,r="number"!==typeof n||isNaN(n)?void 0:n*oe.ONE_SECOND_IN_TS,i=Vn(t,r),a=null;i&&((a={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1}).hasVideo&&(a.videoStart=i.video[0].ptsTime),a.hasAudio&&(a.audioStart=i.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:a,data:t},[t.buffer])}},{key:"clearAllMp4Captions",value:function(){this.captionParser&&this.captionParser.clearAllCaptions()}},{key:"clearParsedMp4Captions",value:function(){this.captionParser&&this.captionParser.clearParsedCaptions()}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.transmuxer.reset()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(oe.secondsToVideoTs(t)))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(oe.secondsToVideoTs(e.appendStart)))}},{key:"setRemux",value:function(e){this.transmuxer.setRemux(e.remux)}},{key:"flush",value:function(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}},{key:"endTimeline",value:function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}();self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new Hn(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new Hn(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),xb=bb(wb),Sb=function(e){var t=e.transmuxer,n=e.bytes,r=e.audioAppendStart,i=e.gopsToAlignWith,a=e.remux,o=e.onData,s=e.onTrackInfo,u=e.onAudioTimingInfo,l=e.onVideoTimingInfo,c=e.onVideoSegmentTimingInfo,h=e.onAudioSegmentTimingInfo,d=e.onId3,f=e.onCaptions,p=e.onDone,m=e.onEndedTimeline,v=e.onTransmuxerLog,g=e.isEndOfTimeline,y={buffer:[]},_=g;if(t.onmessage=function(n){t.currentTransmux===e&&("data"===n.data.action&&function(e,t,n){var r=e.data.segment,i=r.type,a=r.initSegment,o=r.captions,s=r.captionStreams,u=r.metadata,l=r.videoFrameDtsTime,c=r.videoFramePtsTime;t.buffer.push({captions:o,captionStreams:s,metadata:u});var h=e.data.segment.boxes||{data:e.data.segment.data},d={type:i,data:new Uint8Array(h.data,h.data.byteOffset,h.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};"undefined"!==typeof l&&(d.videoFrameDtsTime=l),"undefined"!==typeof c&&(d.videoFramePtsTime=c),n(d)}(n,y,o),"trackinfo"===n.data.action&&s(n.data.trackInfo),"gopInfo"===n.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(n,y),"audioTimingInfo"===n.data.action&&u(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&l(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&c(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&h(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&d([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&f(n.data.caption),"endedtimeline"===n.data.action&&(_=!1,m()),"log"===n.data.action&&v(n.data.log),"transmuxed"===n.data.type&&(_||(t.onmessage=null,function(e){var t=e.transmuxedData,n=e.callback;t.buffer=[],n(t)}({transmuxedData:y,callback:p}),Eb(t))))},r&&t.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),"undefined"!==typeof a&&t.postMessage({action:"setRemux",remux:a}),n.byteLength){var b=n instanceof ArrayBuffer?n:n.buffer,k=n instanceof ArrayBuffer?0:n.byteOffset;t.postMessage({action:"push",data:b,byteOffset:k,byteLength:n.byteLength},[b])}g&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},Eb=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"===typeof e.currentTransmux?e.currentTransmux():Sb(e.currentTransmux))},Cb=function(e,t){e.postMessage({action:t}),Eb(e)},Ib=function(e,t){if(!t.currentTransmux)return t.currentTransmux=e,void Cb(t,e);t.transmuxQueue.push(Cb.bind(null,t,e))},Ab=function(e){if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void Sb(e);e.transmuxer.transmuxQueue.push(e)},Pb=function(e){Ib("reset",e)},Ob=function(e){var t=new xb;t.currentTransmux=null,t.transmuxQueue=[];var n=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)},t.postMessage({action:"init",options:e}),t},Lb=function(e){var t=e.transmuxer,n=e.endAction||e.action,r=e.callback,i=mh({},e,{endAction:null,transmuxer:null,callback:null});if(t.addEventListener("message",(function i(a){a.data.action===n&&(t.removeEventListener("message",i),a.data.data&&(a.data.data=new Uint8Array(a.data.data,e.byteOffset||0,e.byteLength||a.data.data.byteLength),e.data&&(e.data=a.data.data)),r(a.data))})),e.data){var a=e.data instanceof ArrayBuffer;i.byteOffset=a?0:e.data.byteOffset,i.byteLength=e.data.byteLength;var o=[a?e.data:e.data.buffer];t.postMessage(i,o)}else t.postMessage(i)},Db=2,Nb=-101,Mb=-102,Rb=function(e){e.forEach((function(e){e.abort()}))},Ub=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Nb,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Mb,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Db,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:Db,xhr:t}:null},jb=function(e,t,n){return function(r,i){var a=i.response,o=Ub(r,i);if(o)return n(o,e);if(16!==a.byteLength)return n({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:Db,xhr:i},e);for(var s=new DataView(a),u=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),l=0;l<t.length;l++)t[l].bytes=u;return n(null,e)}},Fb=function(e,t){var n=Sf(e.map.bytes);if("mp4"!==n){var r=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:"Found unsupported ".concat(n||"unknown"," container for initialization segment at URL: ").concat(r),code:Db})}Lb({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(n){var r=n.tracks,i=n.data;return e.map.bytes=i,r.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"===typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null)}})},Bb=function(e){var t=e.segment,n=e.finishProcessingFn,r=e.responseType;return function(e,i){var a=Ub(e,i);if(a)return n(a,t);var o="arraybuffer"!==r&&i.responseText?function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}(i.responseText.substring(t.lastReachedChar||0)):i.response;return t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(i),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),n(null,t)}},zb=function(e){var t=e.segment,n=e.bytes,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,h=e.dataFn,d=e.doneFn,f=e.onTransmuxerLog,p=t.map&&t.map.tracks||{},m=Boolean(p.audio&&p.video),v=i.bind(null,t,"audio","start"),g=i.bind(null,t,"audio","end"),y=i.bind(null,t,"video","start"),_=i.bind(null,t,"video","end");Lb({action:"probeTs",transmuxer:t.transmuxer,data:n,baseStartTime:t.baseStartTime,callback:function(e){t.bytes=n=e.data;var i=e.result;i&&(r(t,{hasAudio:i.hasAudio,hasVideo:i.hasVideo,isMuxed:m}),r=null,i.hasAudio&&!m&&v(i.audioStart),i.hasVideo&&y(i.videoStart),v=null,y=null),Ab({bytes:n,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:m,onData:function(e){e.type="combined"===e.type?"video":e.type,h(t,e)},onTrackInfo:function(e){r&&(m&&(e.isMuxed=!0),r(t,e))},onAudioTimingInfo:function(e){v&&"undefined"!==typeof e.start&&(v(e.start),v=null),g&&"undefined"!==typeof e.end&&g(e.end)},onVideoTimingInfo:function(e){y&&"undefined"!==typeof e.start&&(y(e.start),y=null),_&&"undefined"!==typeof e.end&&_(e.end)},onVideoSegmentTimingInfo:function(e){a(e)},onAudioSegmentTimingInfo:function(e){o(e)},onId3:function(e,n){s(t,e,n)},onCaptions:function(e){u(t,[e])},isEndOfTimeline:l,onEndedTimeline:function(){c()},onTransmuxerLog:f,onDone:function(e){d&&(e.type="combined"===e.type?"video":e.type,d(null,t,e))}})}})},Vb=function(e){var t=e.segment,n=e.bytes,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,h=e.dataFn,d=e.doneFn,f=e.onTransmuxerLog,p=new Uint8Array(n);if(function(e){return uf(e,["moof"]).length>0}(p)){t.isFmp4=!0;var m=t.map.tracks,v={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&"enca"!==m.audio.codec&&(v.audioCodec=m.audio.codec),m.video&&m.video.codec&&"encv"!==m.video.codec&&(v.videoCodec=m.video.codec),m.video&&m.audio&&(v.isMuxed=!0),r(t,v);var g=function(e){h(t,{data:p,type:v.hasAudio&&!v.isMuxed?"audio":"video"}),e&&e.length&&u(t,e),d(null,t,{})};Lb({action:"probeMp4StartTime",timescales:t.map.timescales,data:p,transmuxer:t.transmuxer,callback:function(e){var r=e.data,a=e.startTime;n=r.buffer,t.bytes=p=r,v.hasAudio&&!v.isMuxed&&i(t,"audio","start",a),v.hasVideo&&i(t,"video","start",a),m.video&&r.byteLength&&t.transmuxer?Lb({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:p,timescales:t.map.timescales,trackIds:[m.video.id],callback:function(e){n=e.data.buffer,t.bytes=p=e.data,e.logs.forEach((function(e){f(s_(e,{stream:"mp4CaptionParser"}))})),g(e.captions)}}):g()}})}else if(t.transmuxer){if("undefined"===typeof t.container&&(t.container=Sf(p)),"ts"!==t.container&&"aac"!==t.container)return r(t,{hasAudio:!1,hasVideo:!1}),void d(null,t,{});zb({segment:t,bytes:n,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:u,isEndOfTimeline:l,endedTimelineFn:c,dataFn:h,doneFn:d,onTransmuxerLog:f})}else d(null,t,{})},Hb=function(e,t){var n,r=e.id,i=e.key,a=e.encryptedBytes,o=e.decryptionWorker;o.addEventListener("message",(function e(n){if(n.data.source===r){o.removeEventListener("message",e);var i=n.data.decrypted;t(new Uint8Array(i.bytes,i.byteOffset,i.byteLength))}})),n=i.bytes.slice?i.bytes.slice():new Uint32Array(Array.prototype.slice.call(i.bytes)),o.postMessage(rb({source:r,encrypted:a,key:n,iv:i.iv}),[a.buffer,n.buffer])},qb=function(e){var t=e.activeXhrs,n=e.decryptionWorker,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,h=e.dataFn,d=e.doneFn,f=e.onTransmuxerLog,p=0,m=!1;return function(e,v){if(!m){if(e)return m=!0,Rb(t),d(e,v);if((p+=1)===t.length){var g=function(){if(v.encryptedBytes)return function(e){var t=e.decryptionWorker,n=e.segment,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,h=e.dataFn,d=e.doneFn,f=e.onTransmuxerLog;Hb({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:t},(function(e){n.bytes=e,Vb({segment:n,bytes:n.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:u,isEndOfTimeline:l,endedTimelineFn:c,dataFn:h,doneFn:d,onTransmuxerLog:f})}))}({decryptionWorker:n,segment:v,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:u,isEndOfTimeline:l,endedTimelineFn:c,dataFn:h,doneFn:d,onTransmuxerLog:f});Vb({segment:v,bytes:v.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:u,isEndOfTimeline:l,endedTimelineFn:c,dataFn:h,doneFn:d,onTransmuxerLog:f})};if(v.endOfAllRequests=Date.now(),v.map&&v.map.encryptedBytes&&!v.map.bytes)return Hb({decryptionWorker:n,id:v.requestId+"-init",encryptedBytes:v.map.encryptedBytes,key:v.map.key},(function(e){v.map.bytes=e,Fb(v,(function(e){if(e)return Rb(t),d(e,v);g()}))}));g()}}}},Wb=function(e){var t=e.segment,n=e.progressFn;e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn;return function(e){if(!e.target.aborted)return t.stats=s_(t.stats,function(e){var t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(e,t)}},Gb=function(e){var t=e.xhr,n=e.xhrOptions,r=e.decryptionWorker,i=e.segment,a=e.abortFn,o=e.progressFn,s=e.trackInfoFn,u=e.timingInfoFn,l=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,h=e.id3Fn,d=e.captionsFn,f=e.isEndOfTimeline,p=e.endedTimelineFn,m=e.dataFn,v=e.doneFn,g=e.onTransmuxerLog,y=[],_=qb({activeXhrs:y,decryptionWorker:r,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:h,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:p,dataFn:m,doneFn:v,onTransmuxerLog:g});if(i.key&&!i.key.bytes){var b=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&b.push(i.map.key);var k=t(s_(n,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),jb(i,b,_));y.push(k)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){var T=t(s_(n,{uri:i.map.key.resolvedUri,responseType:"arraybuffer"}),jb(i,[i.map.key],_));y.push(T)}var w=s_(n,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:$_(i.map)}),x=function(e){var t=e.segment,n=e.finishProcessingFn;return function(e,r){var i=Ub(e,r);if(i)return n(i,t);var a=new Uint8Array(r.response);if(t.map.key)return t.map.encryptedBytes=a,n(null,t);t.map.bytes=a,Fb(t,(function(e){if(e)return e.xhr=r,e.status=r.status,n(e,t);n(null,t)}))}}({segment:i,finishProcessingFn:_}),S=t(w,x);y.push(S)}var E=s_(n,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:$_(i)}),C=t(E,Bb({segment:i,finishProcessingFn:_,responseType:E.responseType}));C.addEventListener("progress",Wb({segment:i,progressFn:o,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:h,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:p,dataFn:m})),y.push(C);var I={};return y.forEach((function(e){e.addEventListener("loadend",function(e){var t=e.loadendState,n=e.abortFn;return function(e){e.target.aborted&&n&&!t.calledAbortFn&&(n(),t.calledAbortFn=!0)}}({loadendState:I,abortFn:a}))})),function(){return Rb(y)}},Kb=o_("CodecUtils"),Qb=function(e,t){var n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},Xb=function(e){var t={};return e.forEach((function(e){var n=e.mediaType,r=e.type,i=e.details;t[n]=t[n]||[],t[n].push(Ah("".concat(r).concat(i)))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return Kb("multiple ".concat(e," codecs found as attributes: ").concat(t[e].join(", "),". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.")),void(t[e]=null);t[e]=t[e][0]})),t},Zb=function(e){var t=0;return e.audio&&t++,e.video&&t++,t},Yb=function(e,t){var n=t.attributes||{},r=Xb(function(e){var t=e.attributes||{};if(t.CODECS)return Ph(t.CODECS)}(t)||[]);if(Qb(e,t)&&!r.audio&&!function(e,t){if(!Qb(e,t))return!0;var n=t.attributes||{},r=e.mediaGroups.AUDIO[n.AUDIO];for(var i in r)if(!r[i].uri&&!r[i].playlists)return!0;return!1}(e,t)){var i=Xb(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var r in n){var i=n[r];if(i.default&&i.playlists)return Ph(i.playlists[0].attributes.CODECS)}return null}(e,n.AUDIO)||[]);i.audio&&(r.audio=i.audio)}return r},Jb=o_("PlaylistSelector"),$b=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},ek=function(e,t){if(!e)return"";var n=eh().getComputedStyle(e);return n?n[t]:""},tk=function(e,t){var n=e.slice();e.sort((function(e,r){var i=t(e,r);return 0===i?n.indexOf(e)-n.indexOf(r):i}))},nk=function(e,t){var n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||eh().Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),n-(r=r||eh().Number.MAX_VALUE)},rk=function(e,t,n,r,i,a){if(e){var o={bandwidth:t,width:n,height:r,limitRenditionByPlayerDimensions:i},s=e.playlists;M_.isAudioOnly(e)&&(s=a.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=s.map((function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes&&e.attributes.BANDWIDTH||eh().Number.MAX_VALUE,width:t,height:n,playlist:e}}));tk(u,(function(e,t){return e.bandwidth-t.bandwidth}));var l=(u=u.filter((function(e){return!M_.isIncompatible(e.playlist)}))).filter((function(e){return M_.isEnabled(e.playlist)}));l.length||(l=u.filter((function(e){return!M_.isDisabled(e.playlist)})));var c=l.filter((function(e){return e.bandwidth*yb.BANDWIDTH_VARIANCE<t})),h=c[c.length-1],d=c.filter((function(e){return e.bandwidth===h.bandwidth}))[0];if(!1===i){var f=d||l[0]||u[0];if(f&&f.playlist){var p="sortedPlaylistReps";return d&&(p="bandwidthBestRep"),l[0]&&(p="enabledPlaylistReps"),Jb("choosing ".concat($b(f)," using ").concat(p," with options"),o),f.playlist}return Jb("could not choose a playlist with options",o),null}var m=c.filter((function(e){return e.width&&e.height}));tk(m,(function(e,t){return e.width-t.width}));var v=m.filter((function(e){return e.width===n&&e.height===r}));h=v[v.length-1];var g,y,_,b,k=v.filter((function(e){return e.bandwidth===h.bandwidth}))[0];if(k||(y=(g=m.filter((function(e){return e.width>n||e.height>r}))).filter((function(e){return e.width===g[0].width&&e.height===g[0].height})),h=y[y.length-1],_=y.filter((function(e){return e.bandwidth===h.bandwidth}))[0]),a.leastPixelDiffSelector){var T=m.map((function(e){return e.pixelDiff=Math.abs(e.width-n)+Math.abs(e.height-r),e}));tk(T,(function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff})),b=T[0]}var w=b||_||k||d||l[0]||u[0];if(w&&w.playlist){var x="sortedPlaylistReps";return b?x="leastPixelDiffRep":_?x="resolutionPlusOneRep":k?x="resolutionBestRep":d?x="bandwidthBestRep":l[0]&&(x="enabledPlaylistReps"),Jb("choosing ".concat($b(w)," using ").concat(x," with options"),o),w.playlist}return Jb("could not choose a playlist with options",o),null}},ik=function(){var e=this.useDevicePixelRatio&&eh().devicePixelRatio||1;return rk(this.playlists.main,this.systemBandwidth,parseInt(ek(this.tech_.el(),"width"),10)*e,parseInt(ek(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.playlistController_)},ak=function(e){var t=e.inbandTextTracks,n=e.metadataArray,r=e.timestampOffset,i=e.videoDuration;if(n){var a=eh().WebKitDataCue||eh().VTTCue,o=t.metadataTrack_;if(o&&(n.forEach((function(e){var t=e.cueTime+r;!("number"!==typeof t||eh().isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var n=new a(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Xy.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Xy.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Xy.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),o.addCue(n)}))})),o.cues&&o.cues.length)){for(var s=o.cues,u=[],l=0;l<s.length;l++)s[l]&&u.push(s[l]);var c=u.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),h=Object.keys(c).sort((function(e,t){return Number(e)-Number(t)}));h.forEach((function(e,t){var n=c[e],r=Number(h[t+1])||i;n.forEach((function(e){e.endTime=r}))}))}}},ok=function(e,t,n){var r,i;if(n&&n.cues)for(r=n.cues.length;r--;)(i=n.cues[r]).startTime>=e&&i.endTime<=t&&n.removeCue(i)},sk=function(e,t,n,r){for(var i=Math.ceil((t-r)*Ef.ONE_SECOND_IN_TS),a=Math.ceil((n-r)*Ef.ONE_SECOND_IN_TS),o=e.slice(),s=e.length;s--&&!(e[s].pts<=a););if(-1===s)return o;for(var u=s+1;u--&&!(e[u].pts<=i););return u=Math.max(u,0),o.splice(u,s-u+1),o},uk=function(e){return"number"===typeof e&&isFinite(e)},lk=1/60,ck=function(e){var t=e.startOfSegment,n=e.duration,r=e.segment,i=e.part,a=e.playlist,o=a.mediaSequence,s=a.id,u=a.segments,l=void 0===u?[]:u,c=e.mediaIndex,h=e.partIndex,d=e.timeline,f=l.length-1,p="mediaIndex/partIndex increment";e.getMediaInfoForTime?p="getMediaInfoForTime (".concat(e.getMediaInfoForTime,")"):e.isSyncRequest&&(p="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(p+=" with independent ".concat(e.independent));var m="number"===typeof h,v=e.segment.uri?"segment":"pre-segment",g=m?k_({preloadSegment:r})-1:0;return"".concat(v," [").concat(o+c,"/").concat(o+f,"]")+(m?" part [".concat(h,"/").concat(g,"]"):"")+" segment start/end [".concat(r.start," => ").concat(r.end,"]")+(m?" part start/end [".concat(i.start," => ").concat(i.end,"]"):"")+" startOfSegment [".concat(t,"]")+" duration [".concat(n,"]")+" timeline [".concat(d,"]")+" selected by [".concat(p,"]")+" playlist [".concat(s,"]")},hk=function(e){return"".concat(e,"TimingInfo")},dk=function(e){var t=e.timelineChangeController,n=e.currentTimeline,r=e.segmentTimeline,i=e.loaderType,a=e.audioDisabled;if(n===r)return!1;if("audio"===i){var o=t.lastTimelineChange({type:"main"});return!o||o.to!==r}if("main"===i&&a){var s=t.pendingTimelineChange({type:"audio"});return!s||s.to!==r}return!1},fk=function(e){var t=e.segmentDuration,n=e.maxDuration;return!!t&&Math.round(t)>n+l_},pk=function(e,t){if("hls"!==t)return null;var n=function(e){var t=0;return["video","audio"].forEach((function(n){var r=e["".concat(n,"TimingInfo")];if(r){var i,a=r.start,o=r.end;"bigint"===typeof a||"bigint"===typeof o?i=eh().BigInt(o)-eh().BigInt(a):"number"===typeof a&&"number"===typeof o&&(i=o-a),"undefined"!==typeof i&&i>t&&(t=i)}})),"bigint"===typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t}({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;var r=e.playlist.targetDuration,i=fk({segmentDuration:n,maxDuration:2*r}),a=fk({segmentDuration:n,maxDuration:r}),o="Segment with index ".concat(e.mediaIndex," ")+"from playlist ".concat(e.playlist.id," ")+"has a duration of ".concat(n," ")+"when the reported duration is ".concat(e.duration," ")+"and the target duration is ".concat(r,". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return i||a?{severity:i?"warn":"info",message:o}:null},mk=function(e){v(n,e);var t=T(n);function n(e){var r;if(d(this,n),r=t.call(this),!e)throw new TypeError("Initialization settings are required");if("function"!==typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=e.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.partIndex=null,r.hasPlayed_=e.hasPlayed,r.currentTime_=e.currentTime,r.seekable_=e.seekable,r.seeking_=e.seeking,r.duration_=e.duration,r.mediaSource_=e.mediaSource,r.vhs_=e.vhs,r.loaderType_=e.loaderType,r.currentMediaInfo_=void 0,r.startingMediaInfo_=void 0,r.segmentMetadataTrack_=e.segmentMetadataTrack,r.goalBufferLength_=e.goalBufferLength,r.sourceType_=e.sourceType,r.sourceUpdater_=e.sourceUpdater,r.inbandTextTracks_=e.inbandTextTracks,r.state_="INIT",r.timelineChangeController_=e.timelineChangeController,r.shouldSaveSegmentTimingInfo_=!0,r.parse708captions_=e.parse708captions,r.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,r.captionServices_=e.captionServices,r.exactManifestTimings=e.exactManifestTimings,r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.xhrOptions_=null,r.pendingSegments_=[],r.audioDisabled_=!1,r.isPendingTimestampOffset_=!1,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=Xy.browser.IE_VERSION>=11,r.appendInitSegment_={audio:!0,video:!0},r.playlistOfLastInitSegment_={audio:null,video:null},r.callQueue_=[],r.loadQueue_=[],r.metadataQueue_={id3:[],caption:[]},r.waitingOnRemove_=!1,r.quotaExceededErrorRetryTimeout_=null,r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=e.cacheEncryptionKeys,r.keyCache_={},r.decrypter_=e.decrypter,r.syncController_=e.syncController,r.syncPoint_={segmentIndex:0,time:0},r.transmuxer_=r.createTransmuxer_(),r.triggerSyncInfoUpdate_=function(){return r.trigger("syncinfoupdate")},r.syncController_.on("syncinfoupdate",r.triggerSyncInfoUpdate_),r.mediaSource_.addEventListener("sourceopen",(function(){r.isEndOfStream_()||(r.ended_=!1)})),r.fetchAtBuffer_=!1,r.logger_=o_("SegmentLoader[".concat(r.loaderType_,"]")),Object.defineProperty(b(r),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_("".concat(this.state_," -> ").concat(e)),this.state_=e,this.trigger("statechange"))}}),r.sourceUpdater_.on("ready",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"main"===r.loaderType_&&r.timelineChangeController_.on("pendingtimelinechange",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"audio"===r.loaderType_&&r.timelineChangeController_.on("timelinechange",(function(){r.hasEnoughInfoToLoad_()&&r.processLoadQueue_(),r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),r}return p(n,[{key:"createTransmuxer_",value:function(){return Ob({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}},{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}},{key:"dispose",value:function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&eh().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}},{key:"setAudio",value:function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,eh().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}},{key:"checkForAbort_",value:function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)}},{key:"error",value:function(e){return"undefined"!==typeof e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.transmuxer_&&Pb(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return u_();if("main"===this.loaderType_){var t=e.hasAudio,n=e.hasVideo,r=e.isMuxed;if(n&&t&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}},{key:"initSegmentForMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=ib(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e}},{key:"segmentKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=ab(e),r=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!r&&e.bytes&&(this.keyCache_[n]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});var i={resolvedUri:(r||e).resolvedUri};return r&&(i.bytes=r.bytes),i}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var i=null;if(n&&(n.id?i=n.id:n.uri&&(i=n.uri)),this.logger_("playlist update [".concat(i," => ").concat(e.id||e.uri,"]")),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var a=e.mediaSequence-n.mediaSequence;if(this.logger_("live window shift [".concat(a,"]")),null!==this.mediaIndex)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){var s=this.mediaIndex;this.logger_("currently processing part (index ".concat(this.partIndex,") no longer exists.")),this.resetLoader(),this.mediaIndex=s}}r&&(r.mediaIndex-=a,r.mediaIndex<0?(r.mediaIndex=null,r.partIndex=null):(r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex]),r.partIndex>=0&&r.segment.parts&&(r.part=r.segment.parts[r.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(eh().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"resetEverything",value:function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.transmuxer_&&Pb(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},{key:"remove",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t===1/0&&(t=this.duration_()),t<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var i=1,a=function(){0===--i&&n()};for(var o in!r&&this.audioDisabled_||(i++,this.sourceUpdater_.removeAudio(e,t,a)),(r||"main"===this.loaderType_)&&(this.gopBuffer_=sk(this.gopBuffer_,e,t,this.timeMapping_),i++,this.sourceUpdater_.removeVideo(e,t,a)),this.inbandTextTracks_)ok(e,t,this.inbandTextTracks_[o]);ok(e,t,this.segmentMetadataTrack_),a()}else this.logger_("skipping remove because no source updater or starting media info")}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&eh().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=eh().setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&eh().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=eh().setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){var e=this.chooseNextRequest_();e&&("number"===typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}}},{key:"isEndOfStream_",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mediaIndex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.partIndex;if(!t||!this.mediaSource_)return!1;var r="number"===typeof e&&t.segments[e],i=e+1===t.segments.length,a=!r||!r.parts||n+1===r.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&i&&a}},{key:"chooseNextRequest_",value:function(){var e=this.buffered_(),t=v_(e)||0,n=g_(e,this.currentTime_()),r=!this.hasPlayed_()&&n>=1,i=n>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||r||i)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(o.isSyncRequest)o.mediaIndex=function(e,t,n){t=t||[];for(var r=[],i=0,a=0;a<t.length;a++){var o=t[a];if(e===o.timeline&&(r.push(a),(i+=o.duration)>n))return a}return 0===r.length?0:r[r.length-1]}(this.currentTimeline_,a,t);else if(null!==this.mediaIndex){var s=a[this.mediaIndex],u="number"===typeof this.partIndex?this.partIndex:-1;o.startOfSegment=s.end?s.end:t,s.parts&&s.parts[u+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=u+1):o.mediaIndex=this.mediaIndex+1}else{var l=M_.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),c=l.segmentIndex,h=l.startTime,d=l.partIndex;o.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd ".concat(t):"currentTime ".concat(this.currentTime_()),o.mediaIndex=c,o.startOfSegment=h,o.partIndex=d}var f=a[o.mediaIndex],p=f&&"number"===typeof o.partIndex&&f.parts&&f.parts[o.partIndex];if(!f||"number"===typeof o.partIndex&&!p)return null;if("number"!==typeof o.partIndex&&f.parts&&(o.partIndex=0,p=f.parts[0]),!n&&p&&!p.independent)if(0===o.partIndex){var m=a[o.mediaIndex-1],v=m.parts&&m.parts.length&&m.parts[m.parts.length-1];v&&v.independent&&(o.mediaIndex-=1,o.partIndex=m.parts.length-1,o.independent="previous segment")}else f.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");var g=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return o.mediaIndex>=a.length-1&&g&&!this.seeking_()?null:this.generateSegmentInfo_(o)}},{key:"generateSegmentInfo_",value:function(e){var t=e.independent,n=e.playlist,r=e.mediaIndex,i=e.startOfSegment,a=e.isSyncRequest,o=e.partIndex,s=e.forceTimestampOffset,u=e.getMediaInfoForTime,l=n.segments[r],c="number"===typeof o&&l.parts[o],h={requestId:"segment-loader-"+Math.random(),uri:c&&c.resolvedUri||l.resolvedUri,mediaIndex:r,partIndex:c?o:null,isSyncRequest:a,startOfSegment:i,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:l.timeline,duration:c&&c.duration||l.duration,segment:l,part:c,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:t},d="undefined"!==typeof s?s:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:l.timeline,currentTimeline:this.currentTimeline_,startOfSegment:i,buffered:this.buffered_(),overrideCheck:d});var f=v_(this.sourceUpdater_.audioBuffered());return"number"===typeof f&&(h.audioAppendStart=f-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=function(e,t,n){if("undefined"===typeof t||null===t||!e.length)return[];var r,i=Math.ceil((t-n+3)*Ef.ONE_SECOND_IN_TS);for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}},{key:"timestampOffsetForSegment_",value:function(e){return function(e){var t=e.segmentTimeline,n=e.currentTimeline,r=e.startOfSegment,i=e.buffered;return e.overrideCheck||t!==n?t<n?r:i.length?i.end(i.length-1):r:null}(e)}},{key:"earlyAbortWhenNeeded_",value:function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,i=M_.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(i<=a)){var o=function(e){var t=e.main,n=e.currentTime,r=e.bandwidth,i=e.duration,a=e.segmentDuration,o=e.timeUntilRebuffer,s=e.currentTimeline,u=e.syncController,l=t.playlists.filter((function(e){return!M_.isIncompatible(e)})),c=l.filter(M_.isEnabled);c.length||(c=l.filter((function(e){return!M_.isDisabled(e)})));var h=c.filter(M_.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var t=u.getSyncPoint(e,i,s,n)?1:2;return{playlist:e,rebufferingImpact:M_.estimateSegmentRequestTime(a,r,e)*t-o}})),d=h.filter((function(e){return e.rebufferingImpact<=0}));return tk(d,(function(e,t){return nk(t.playlist,e.playlist)})),d.length?d[0]:(tk(h,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),h[0]||null)}({main:this.vhs_.playlists.main,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var s=i-a-o.rebufferingImpact,u=.5;a<=l_&&(u=1),!o.playlist||o.playlist.uri===this.playlist_.uri||s<u||(this.bandwidth=o.playlist.attributes.BANDWIDTH*yb.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}}},{key:"handleAbort_",value:function(e){this.logger_("Aborting ".concat(ck(e))),this.mediaRequestsAborted+=1}},{key:"handleProgress_",value:function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")}},{key:"handleTrackInfo_",value:function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(a!==r[i])return!1;if(e[a]!==t[a])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))}},{key:"handleTimingInfo_",value:function(e,t,n,r){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var i=this.pendingSegment_,a=hk(t);i[a]=i[a]||{},i[a][n]=r,this.logger_("timinginfo: ".concat(t," - ").concat(n," - ").concat(r)),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}}},{key:"handleCaptions_",value:function(e,t){var n=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};t.forEach((function(e){i[e.stream]=i[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=i[e.stream];t.startTime=Math.min(t.startTime,e.startTime+r),t.endTime=Math.max(t.endTime,e.endTime+r),t.captions.push(e)})),Object.keys(i).forEach((function(e){var t=i[e],a=t.startTime,o=t.endTime,s=t.captions,u=n.inbandTextTracks_;n.logger_("adding cues from ".concat(a," -> ").concat(o," for ").concat(e)),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"});var r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);var i=t.textTracks().getTrackById(r);if(i)e[n]=i;else{var a=n,o=n,s=!1,u=(t.options_.vhs&&t.options_.vhs.captionServices||{})[r];u&&(a=u.label,o=u.language,s=u.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:r,default:s,label:a,language:o},!1).track}}}(u,n.vhs_.tech_,e),ok(a,o,u[e]),function(e){var t=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(n){var i=eh().WebKitDataCue||eh().VTTCue;n.forEach((function(e){var n=e.stream;t[n].addCue(new i(e.startTime+r,e.endTime+r,e.text))}))}}({captionArray:s,inbandTextTracks:u,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_("SegmentLoader received no captions from a caption event")}},{key:"handleId3_",value:function(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,n,this.vhs_.tech_),ak({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:r,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n))}},{key:"processMetadataQueue_",value:function(){this.metadataQueue_.id3.forEach((function(e){return e()})),this.metadataQueue_.caption.forEach((function(e){return e()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}},{key:"processCallQueue_",value:function(){var e=this.callQueue_;this.callQueue_=[],e.forEach((function(e){return e()}))}},{key:"processLoadQueue_",value:function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach((function(e){return e()}))}},{key:"hasEnoughInfoToLoad_",value:function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!!e&&(!this.getCurrentMediaInfo_()||!dk({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}},{key:"getCurrentMediaInfo_",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pendingSegment_;return e&&e.trackInfo||this.currentMediaInfo_}},{key:"getMediaInfo_",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pendingSegment_;return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}},{key:"hasEnoughInfoToAppend_",value:function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var n=t.hasAudio,r=t.hasVideo,i=t.isMuxed;return!(r&&!e.videoTimingInfo)&&(!(n&&!this.audioDisabled_&&!i&&!e.audioTimingInfo)&&!dk({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}},{key:"handleData_",value:function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[hk(t.type)].start;else{var r,i=this.getCurrentMediaInfo_(),a="main"===this.loaderType_&&i&&i.hasVideo;a&&(r=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:a,firstVideoFrameTimeForData:r,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var o=this.chooseNextRequest_();if(o.mediaIndex!==n.mediaIndex||o.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))}},{key:"updateAppendInitSegmentStatus",value:function(e,t){"main"!==this.loaderType_||"number"!==typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}},{key:"getInitSegmentAndUpdateState_",value:function(e){var t=e.type,n=e.initSegment,r=e.map,i=e.playlist;if(r){var a=ib(r);if(this.activeInitSegmentId_===a)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=a}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=i,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,n):null}},{key:"handleQuotaExceededError_",value:function(e,t){var n=this,r=e.segmentInfo,i=e.type,a=e.bytes,o=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+m_(o).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+m_(s).join(", "));var u=o.length?o.start(0):0,l=o.length?o.end(o.length-1):0,c=s.length?s.start(0):0,h=s.length?s.end(s.length-1):0;if(l-u<=1&&h-c<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+"Appended byte length: ".concat(a.byteLength,", ")+"audio buffer: ".concat(m_(o).join(", "),", ")+"video buffer: ".concat(m_(s).join(", "),", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:r,type:i,bytes:a}));var d=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ".concat(d)),this.remove(0,d,(function(){n.logger_("On QUOTA_EXCEEDED_ERR, retrying append in ".concat(1,"s")),n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=eh().setTimeout((function(){n.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),n.quotaExceededErrorRetryTimeout_=null,n.processCallQueue_()}),1e3)}),!0)}},{key:"handleAppendError_",value:function(e,t){var n=e.segmentInfo,r=e.type,i=e.bytes;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error("".concat(r," append of ").concat(i.length,"b failed for segment ")+"#".concat(n.mediaIndex," in playlist ").concat(n.playlist.id)),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:n,type:r,bytes:i}))}},{key:"appendToSourceBuffer_",value:function(e){var t=e.segmentInfo,n=e.type,r=e.initSegment,i=e.data,a=e.bytes;if(!a){var o=[i],s=i.byteLength;r&&(o.unshift(r),s+=r.byteLength),a=function(e){var t,n=0;return e.bytes&&(t=new Uint8Array(e.bytes),e.segments.forEach((function(e){t.set(e,n),n+=e.byteLength}))),t}({bytes:s,segments:o})}this.sourceUpdater_.appendBuffer({segmentInfo:t,type:n,bytes:a},this.handleAppendError_.bind(this,{segmentInfo:t,type:n,bytes:a}))}},{key:"handleSegmentTimingInfo_",value:function(e,t,n){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var r=this.pendingSegment_.segment,i="".concat(e,"TimingInfo");r[i]||(r[i]={}),r[i].transmuxerPrependedSeconds=n.prependedContentDuration||0,r[i].transmuxedPresentationStart=n.start.presentation,r[i].transmuxedDecodeStart=n.start.decode,r[i].transmuxedPresentationEnd=n.end.presentation,r[i].transmuxedDecodeEnd=n.end.decode,r[i].baseMediaDecodeTime=n.baseMediaDecodeTime}}},{key:"appendData_",value:function(e,t){var n=t.type,r=t.data;if(r&&r.byteLength&&("audio"!==n||!this.audioDisabled_)){var i=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:i,data:r})}}},{key:"loadSegment_",value:function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"===typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((function(){var n=mh({},e,{forceTimestampOffset:!0});mh(e,t.generateSegmentInfo_(n)),t.isPendingTimestampOffset_=!1,t.updateTransmuxerAndRequestSegment_(e)}))}},{key:"updateTransmuxerAndRequestSegment_",value:function(e){var t=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=null!==this.mediaIndex,a=e.timeline!==this.currentTimeline_&&e.timeline>0,o=r||i&&a;this.logger_("Requesting ".concat(ck(e))),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Gb({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:function(){t.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(n){var r=n.message,i=n.level,a=n.stream;t.logger_("".concat(ck(e)," logged from transmuxer stream ").concat(a," as a ").concat(i,": ").concat(r))}})}},{key:"trimBackBuffer_",value:function(e){var t=function(e,t,n){var r=t-yb.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var i=t-n;return Math.min(i,r)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n=e.part,r={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},i=e.playlist.segments[e.mediaIndex-1];if(i&&i.timeline===t.timeline&&(i.videoTimingInfo?r.baseStartTime=i.videoTimingInfo.transmuxedDecodeEnd:i.audioTimingInfo&&(r.baseStartTime=i.audioTimingInfo.transmuxedDecodeEnd)),t.key){var a=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key=this.segmentKey(t.key),r.key.iv=a}return t.map&&(r.map=this.initSegmentForMap(t.map)),r}},{key:"saveTransferStats_",value:function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}},{key:"saveBandwidthRelatedStats_",value:function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<lk?this.logger_("Ignoring segment's bandwidth because its duration of ".concat(e)+" is less than the min to record ".concat(lk)):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)}},{key:"handleTimeout_",value:function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}},{key:"segmentRequestFinished_",value:function(e,t,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Mb)return;return this.pause(),e.code===Nb?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,t.stats),r.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var r=t[0].pts,i=0;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}}},{key:"setTimeMapping_",value:function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)}},{key:"updateMediaSecondsLoaded_",value:function(e){"number"===typeof e.start&&"number"===typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}},{key:"shouldUpdateTransmuxerTimestampOffset_",value:function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())}},{key:"trueSegmentStart_",value:function(e){var t=e.currentStart,n=e.playlist,r=e.mediaIndex,i=e.firstVideoFrameTimeForData,a=e.currentVideoTimestampOffset,o=e.useVideoTimingInfo,s=e.videoTimingInfo,u=e.audioTimingInfo;if("undefined"!==typeof t)return t;if(!o)return u.start;var l=n.segments[r-1];return 0!==r&&l&&"undefined"!==typeof l.start&&l.end===i+a?s.start:i}},{key:"waitForAppendsToComplete_",value:function(e){var t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),void this.trigger("error");var n=t.hasAudio,r=t.hasVideo,i=t.isMuxed,a="main"===this.loaderType_&&r,o=!this.audioDisabled_&&n&&!i;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!==typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}},{key:"checkAppendsDone_",value:function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())}},{key:"checkForIllegalMediaSwitch",value:function(e){var t=function(e,t,n){return"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,playlistExclusionDuration:1/0}),this.trigger("error"),!0)}},{key:"updateSourceBufferTimestampOffset_",value:function(e){if(null!==e.timestampOffset&&"number"===typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}}},{key:"getSegmentStartTimeForTimestampOffsetCalculation_",value:function(e){var t=e.videoTimingInfo,n=e.audioTimingInfo,r=e.timingInfo;return this.useDtsForTimestampOffset_?t&&"number"===typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n&&"number"===typeof n.transmuxedDecodeStart?n.transmuxedDecodeStart:r.start:r.start}},{key:"updateTimingInfoEnd_",value:function(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end="number"===typeof n.end?n.end:n.start+e.duration)}},{key:"handleAppendsDone_",value:function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=pk(e,this.sourceType_);if(t&&("warn"===t.severity?Xy.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended ".concat(ck(e))),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var n=e.segment,r=e.part,i=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,a=r&&r.end&&this.currentTime_()-r.end>3*e.playlist.partTargetDuration;if(i||a)return this.logger_("bad ".concat(i?"segment":"part"," ").concat(ck(e))),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request ".concat(ck(e)))}},{key:"recordThroughput_",value:function(e){if(e.duration<lk)this.logger_("Ignoring segment's throughput because its duration of ".concat(e.duration)+" is less than the min to record ".concat(lk));else{var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(uk(n)&&uk(r)){ok(n,r,this.segmentMetadataTrack_);var i=eh().WebKitDataCue||eh().VTTCue,a={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:r},o=new i(n,r,JSON.stringify(a));o.value=a,this.segmentMetadataTrack_.addCue(o)}}}}]),n}(Xy.EventTarget);function vk(){}var gk,yk=function(e){return"string"!==typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},_k=["video","audio"],bk=function(e,t){var n=t["".concat(e,"Buffer")];return n&&n.updating||t.queuePending[e]},kk=function e(t,n){if(0!==n.queue.length){var r=0,i=n.queue[r];if("mediaSource"!==i.type){if("mediaSource"!==t&&n.ready()&&"closed"!==n.mediaSource.readyState&&!bk(t,n)){if(i.type!==t){if(r=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("mediaSource"===r.type)return null;if(r.type===e)return n}return null}(t,n.queue),null===r)return;i=n.queue[r]}return n.queue.splice(r,1),n.queuePending[t]=i,i.action(t,n),i.doneFn?void 0:(n.queuePending[t]=null,void e(t,n))}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),i.action(n),i.doneFn&&i.doneFn(),e("audio",n),e("video",n))}},Tk=function(e,t){var n=t["".concat(e,"Buffer")],r=yk(e);n&&(n.removeEventListener("updateend",t["on".concat(r,"UpdateEnd_")]),n.removeEventListener("error",t["on".concat(r,"Error_")]),t.codecs[e]=null,t["".concat(e,"Buffer")]=null)},wk=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},xk=function(e,t,n){return function(r,i){var a=i["".concat(r,"Buffer")];if(wk(i.mediaSource,a)){i.logger_("Appending segment ".concat(t.mediaIndex,"'s ").concat(e.length," bytes to ").concat(r,"Buffer"));try{a.appendBuffer(e)}catch(iV){i.logger_("Error with code ".concat(iV.code," ")+(22===iV.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment ".concat(t.mediaIndex," to ").concat(r,"Buffer")),i.queuePending[r]=null,n(iV)}}}},Sk=function(e,t){return function(n,r){var i=r["".concat(n,"Buffer")];if(wk(r.mediaSource,i)){r.logger_("Removing ".concat(e," to ").concat(t," from ").concat(n,"Buffer"));try{i.remove(e,t)}catch(iV){r.logger_("Remove ".concat(e," to ").concat(t," from ").concat(n,"Buffer failed"))}}}},Ek=function(e){return function(t,n){var r=n["".concat(t,"Buffer")];wk(n.mediaSource,r)&&(n.logger_("Setting ".concat(t,"timestampOffset to ").concat(e)),r.timestampOffset=e)}},Ck=function(e){return function(t,n){e()}},Ik=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream(".concat(e||"",")"));try{t.mediaSource.endOfStream(e)}catch(iV){Xy.log.warn("Failed to call media source endOfStream",iV)}}}},Ak=function(e){return function(t){t.logger_("Setting mediaSource duration to ".concat(e));try{t.mediaSource.duration=e}catch(iV){Xy.log.warn("Failed to set media source duration",iV)}}},Pk=function(){return function(e,t){if("open"===t.mediaSource.readyState){var n=t["".concat(e,"Buffer")];if(wk(t.mediaSource,n)){t.logger_("calling abort on ".concat(e,"Buffer"));try{n.abort()}catch(iV){Xy.log.warn("Failed to abort on ".concat(e,"Buffer"),iV)}}}}},Ok=function(e,t){return function(n){var r=yk(e),i=Lh(t);n.logger_("Adding ".concat(e,"Buffer with codec ").concat(t," to mediaSource"));var a=n.mediaSource.addSourceBuffer(i);a.addEventListener("updateend",n["on".concat(r,"UpdateEnd_")]),a.addEventListener("error",n["on".concat(r,"Error_")]),n.codecs[e]=t,n["".concat(e,"Buffer")]=a}},Lk=function(e){return function(t){var n=t["".concat(e,"Buffer")];if(Tk(e,t),wk(t.mediaSource,n)){t.logger_("Removing ".concat(e,"Buffer with codec ").concat(t.codecs[e]," from mediaSource"));try{t.mediaSource.removeSourceBuffer(n)}catch(iV){Xy.log.warn("Failed to removeSourceBuffer ".concat(e,"Buffer"),iV)}}}},Dk=function(e){return function(t,n){var r=n["".concat(t,"Buffer")],i=Lh(e);wk(n.mediaSource,r)&&n.codecs[t]!==e&&(n.logger_("changing ".concat(t,"Buffer codec from ").concat(n.codecs[t]," to ").concat(e)),r.changeType(i),n.codecs[t]=e)}},Nk=function(e){var t=e.type,n=e.sourceUpdater,r=e.action,i=e.doneFn,a=e.name;n.queue.push({type:t,action:r,doneFn:i,name:a}),kk(t,n)},Mk=function(e,t){return function(n){if(t.queuePending[e]){var r=t.queuePending[e].doneFn;t.queuePending[e]=null,r&&r(t["".concat(e,"Error_")])}kk(e,t)}},Rk=function(e){v(n,e);var t=T(n);function n(e){var r;return d(this,n),(r=t.call(this)).mediaSource=e,r.sourceopenListener_=function(){return kk("mediaSource",b(r))},r.mediaSource.addEventListener("sourceopen",r.sourceopenListener_),r.logger_=o_("SourceUpdater"),r.audioTimestampOffset_=0,r.videoTimestampOffset_=0,r.queue=[],r.queuePending={audio:null,video:null},r.delayedAudioAppendQueue_=[],r.videoAppendQueued_=!1,r.codecs={},r.onVideoUpdateEnd_=Mk("video",b(r)),r.onAudioUpdateEnd_=Mk("audio",b(r)),r.onVideoError_=function(e){r.videoError_=e},r.onAudioError_=function(e){r.audioError_=e},r.createdSourceBuffers_=!1,r.initializedEme_=!1,r.triggeredReady_=!1,r}return p(n,[{key:"initializedEme",value:function(){this.initializedEme_=!0,this.triggerReady()}},{key:"hasCreatedSourceBuffers",value:function(){return this.createdSourceBuffers_}},{key:"hasInitializedAnyEme",value:function(){return this.initializedEme_}},{key:"ready",value:function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}},{key:"createSourceBuffers",value:function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}},{key:"triggerReady",value:function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}},{key:"addSourceBuffer",value:function(e,t){Nk({type:"mediaSource",sourceUpdater:this,action:Ok(e,t),name:"addSourceBuffer"})}},{key:"abort",value:function(e){Nk({type:e,sourceUpdater:this,action:Pk(e),name:"abort"})}},{key:"removeSourceBuffer",value:function(e){this.canRemoveSourceBuffer()?Nk({type:"mediaSource",sourceUpdater:this,action:Lk(e),name:"removeSourceBuffer"}):Xy.log.error("removeSourceBuffer is not supported!")}},{key:"canRemoveSourceBuffer",value:function(){return!Xy.browser.IE_VERSION&&!Xy.browser.IS_FIREFOX&&eh().MediaSource&&eh().MediaSource.prototype&&"function"===typeof eh().MediaSource.prototype.removeSourceBuffer}},{key:"canChangeType",value:function(){return this.constructor.canChangeType()}},{key:"changeType",value:function(e,t){this.canChangeType()?Nk({type:e,sourceUpdater:this,action:Dk(t),name:"changeType"}):Xy.log.error("changeType is not supported!")}},{key:"addOrChangeSourceBuffers",value:function(e){var t=this;if(!e||"object"!==typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((function(n){var r=e[n];if(!t.hasCreatedSourceBuffers())return t.addSourceBuffer(n,r);t.canChangeType()&&t.changeType(n,r)}))}},{key:"appendBuffer",value:function(e,t){var n=this,r=e.segmentInfo,i=e.type,a=e.bytes;if(this.processedAppend_=!0,"audio"===i&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of ".concat(a.length," until video append"));if(Nk({type:i,sourceUpdater:this,action:xk(a,r||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===i){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var o=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio ".concat(o.length," appendBuffers")),this.delayedAudioAppendQueue_.length=0,o.forEach((function(e){n.appendBuffer.apply(n,e)}))}}},{key:"audioBuffered",value:function(){return wk(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:u_()}},{key:"videoBuffered",value:function(){return wk(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:u_()}},{key:"buffered",value:function(){var e=wk(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=wk(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var n=null,r=null,i=0,a=[],o=[];if(!e||!e.length||!t||!t.length)return u_();for(var s=e.length;s--;)a.push({time:e.start(s),type:"start"}),a.push({time:e.end(s),type:"end"});for(s=t.length;s--;)a.push({time:t.start(s),type:"start"}),a.push({time:t.end(s),type:"end"});for(a.sort((function(e,t){return e.time-t.time})),s=0;s<a.length;s++)"start"===a[s].type?2===++i&&(n=a[s].time):"end"===a[s].type&&1===--i&&(r=a[s].time),null!==n&&null!==r&&(o.push([n,r]),n=null,r=null);return u_(o)}(this.audioBuffered(),this.videoBuffered())}},{key:"setDuration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vk;Nk({type:"mediaSource",sourceUpdater:this,action:Ak(e),name:"duration",doneFn:t})}},{key:"endOfStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vk;"string"!==typeof e&&(e=void 0),Nk({type:"mediaSource",sourceUpdater:this,action:Ik(e),name:"endOfStream",doneFn:t})}},{key:"removeAudio",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vk;this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Nk({type:"audio",sourceUpdater:this,action:Sk(e,t),doneFn:n,name:"remove"}):n()}},{key:"removeVideo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vk;this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Nk({type:"video",sourceUpdater:this,action:Sk(e,t),doneFn:n,name:"remove"}):n()}},{key:"updating",value:function(){return!(!bk("audio",this)&&!bk("video",this))}},{key:"audioTimestampOffset",value:function(e){return"undefined"!==typeof e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Nk({type:"audio",sourceUpdater:this,action:Ek(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}},{key:"videoTimestampOffset",value:function(e){return"undefined"!==typeof e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Nk({type:"video",sourceUpdater:this,action:Ek(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}},{key:"audioQueueCallback",value:function(e){this.audioBuffer&&Nk({type:"audio",sourceUpdater:this,action:Ck(e),name:"callback"})}},{key:"videoQueueCallback",value:function(e){this.videoBuffer&&Nk({type:"video",sourceUpdater:this,action:Ck(e),name:"callback"})}},{key:"dispose",value:function(){var e=this;this.trigger("dispose"),_k.forEach((function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e["".concat(t,"QueueCallback")]((function(){return Tk(t,e)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}],[{key:"canChangeType",value:function(){return eh().SourceBuffer&&eh().SourceBuffer.prototype&&"function"===typeof eh().SourceBuffer.prototype.changeType}}]),n}(Xy.EventTarget),Uk=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},jk=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),Fk=function(e){v(n,e);var t=T(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),(r=t.call(this,e,i)).mediaSource_=null,r.subtitlesTrack_=null,r.loaderType_="subtitle",r.featuresNativeTextTracks_=e.featuresNativeTextTracks,r.shouldSaveSegmentTimingInfo_=!1,r}return p(n,[{key:"createTransmuxer_",value:function(){return null}},{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return u_();var e=this.subtitlesTrack_.cues;return u_([[e[0].startTime,e[e.length-1].startTime]])}},{key:"initSegmentForMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=ib(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=jk.byteLength+e.bytes.byteLength,a=new Uint8Array(i);a.set(e.bytes),a.set(jk,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return"undefined"===typeof e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){ok(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this,t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"timestampOffsetForSegment_",value:function(){return null}},{key:"chooseNextRequest_",value:function(){return this.skipEmptySegments_(Jc(g(n.prototype),"chooseNextRequest_",this).call(this))}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}},{key:"stopForError",value:function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}},{key:"segmentRequestFinished_",value:function(e,t,n){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===Nb&&this.handleTimeout_(),e.code===Mb?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");var a=i.segment;if(a.map&&(a.map.bytes=t.map.bytes),i.bytes=t.bytes,"function"!==typeof eh().WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var o,s=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",o),r.stopForError({message:"Error loading vtt.js"})};return o=function(){r.subtitlesTrack_.tech_.off("vttjserror",s),r.segmentRequestFinished_(e,t,n)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",o),void this.subtitlesTrack_.tech_.one("vttjserror",s)}a.requested=!0;try{this.parseVTTCues_(i)}catch(iV){return void this.stopForError({message:iV.message})}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,i.cues.forEach((function(e){r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new(eh().VTTCue)(e.startTime,e.endTime,e.text):e)})),function(e){var t=e.cues;if(t)for(var n=0;n<t.length;n++){for(var r=[],i=0,a=0;a<t.length;a++)t[n].startTime===t[a].startTime&&t[n].endTime===t[a].endTime&&t[n].text===t[a].text&&++i>1&&r.push(t[a]);r.length&&r.forEach((function(t){return e.removeCue(t)}))}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"}},{key:"handleData_",value:function(){}},{key:"updateTimingInfoEnd_",value:function(){}},{key:"parseVTTCues_",value:function(e){var t,n=!1;"function"===typeof eh().TextDecoder?t=new(eh().TextDecoder)("utf8"):(t=eh().WebVTT.StringDecoder(),n=!0);var r=new(eh().WebVTT.Parser)(eh(),eh().vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(e){Xy.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var i=e.segment.map.bytes;n&&(i=Uk(i)),r.parse(i)}var a=e.bytes;n&&(a=Uk(a)),r.parse(a),r.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var r=e.segment;if(t)if(e.cues.length){var i=e.timestampmap,a=i.MPEGTS/Ef.ONE_SECOND_IN_TS-i.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=a,e.endTime+=a})),!n.syncInfo){var o=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(o,s-r.duration)}}}else r.empty=!0}}]),n}(mk),Bk=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},zk=[{name:"VOD",run:function(e,t,n,r,i){if(n!==1/0){return{time:0,segmentIndex:0,partIndex:null}}return null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,o=null,s=__(t);i=i||0;for(var u=0;u<s.length;u++){var l=s[t.endList||0===i?u:s.length-(u+1)],c=l.segment,h=e.timelineToDatetimeMappings[c.timeline];if(h&&c.dateTimeObject){var d=c.dateTimeObject.getTime()/1e3+h;if(c.parts&&"number"===typeof l.partIndex)for(var f=0;f<l.partIndex;f++)d+=c.parts[f].duration;var p=Math.abs(i-d);if(null!==o&&(0===p||o<p))break;o=p,a={time:d,segmentIndex:l.segmentIndex,partIndex:l.partIndex}}}return a}},{name:"Segment",run:function(e,t,n,r,i){var a=null,o=null;i=i||0;for(var s=__(t),u=0;u<s.length;u++){var l=s[t.endList||0===i?u:s.length-(u+1)],c=l.segment,h=l.part&&l.part.start||c&&c.start;if(c.timeline===r&&"undefined"!==typeof h){var d=Math.abs(i-h);if(null!==o&&o<d)break;(!a||null===o||o>=d)&&(o=d,a={time:h,segmentIndex:l.segmentIndex,partIndex:l.partIndex})}}return a}},{name:"Discontinuity",run:function(e,t,n,r,i){var a=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var o=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,c=e.discontinuities[l];if(c){var h=Math.abs(i-c.time);if(null!==o&&o<h)break;(!a||null===o||o>=h)&&(o=h,a={time:c.time,segmentIndex:u,partIndex:null})}}return a}},{name:"Playlist",run:function(e,t,n,r,i){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],Vk=function(e){v(n,e);var t=T(n);function n(){var e;return d(this,n),(e=t.call(this)).timelines=[],e.discontinuities=[],e.timelineToDatetimeMappings={},e.logger_=o_("SyncController"),e}return p(n,[{key:"getSyncPoint",value:function(e,t,n,r){var i=this.runStrategies_(e,t,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+S_({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:r.segmentIndex,endIndex:0}))}},{key:"runStrategies_",value:function(e,t,n,r){for(var i=[],a=0;a<zk.length;a++){var o=zk[a],s=o.run(this,e,t,n,r);s&&(s.strategy=o.name,i.push({strategy:o.name,syncPoint:s}))}return i}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,a=1;a<e.length;a++){var o=Math.abs(e[a].syncPoint[t.key]-t.value);o<r&&(r=o,n=e[a].syncPoint,i=e[a].strategy)}return this.logger_("syncPoint for [".concat(t.key,": ").concat(t.value,"] chosen with strategy")+" [".concat(i,"]: [time:").concat(n.time,",")+" segmentIndex:".concat(n.segmentIndex)+("number"===typeof n.partIndex?",partIndex:".concat(n.partIndex):"")+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){var n=t.mediaSequence-e.mediaSequence;if(n>86400)Xy.log.warn("Not saving expired segment info. Media sequence gap ".concat(n," is too large."));else for(var r=n-1;r>=0;r--){var i=e.segments[r];if(i&&"undefined"!==typeof i.start){t.syncInfo={mediaSequence:e.mediaSequence+r,time:i.start},this.logger_("playlist refresh sync: [time:".concat(t.syncInfo.time,",")+" mediaSequence: ".concat(t.syncInfo.mediaSequence,"]")),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMappingForStart",value:function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}}},{key:"saveSegmentTimingInfo",value:function(e){var t=e.segmentInfo,n=e.shouldSaveTimelineMapping,r=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),i=t.segment;r&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:i.start}));var a=i.dateTimeObject;i.discontinuity&&n&&a&&(this.timelineToDatetimeMappings[i.timeline]=-a.getTime()/1e3)}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"===typeof this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return"undefined"===typeof this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t,n){var r,i,a=e.segment,o=e.part,s=this.timelines[e.timeline];if("number"===typeof e.timestampOffset)s={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=s,this.trigger("timestampoffset"),this.logger_("time mapping for timeline ".concat(e.timeline,": ")+"[time: ".concat(s.time,"] [mapping: ").concat(s.mapping,"]"))),r=e.startOfSegment,i=t.end+s.mapping;else{if(!s)return!1;r=t.start+s.mapping,i=t.end+s.mapping}return o&&(o.start=r,o.end=i),(!a.start||r<a.start)&&(a.start=r),a.end=i,!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i=t.discontinuityStarts[r],a=t.discontinuitySequence+r+1,o=i-e.mediaIndex,s=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>s){var u=void 0;u=o<0?n.start-S_({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:i}):n.end+S_({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:i}),this.discontinuities[a]={time:u,accuracy:s}}}}},{key:"dispose",value:function(){this.trigger("dispose"),this.off()}}]),n}(Xy.EventTarget),Hk=function(e){v(n,e);var t=T(n);function n(){var e;return d(this,n),(e=t.call(this)).pendingTimelineChanges_={},e.lastTimelineChanges_={},e}return p(n,[{key:"clearPendingTimelineChange",value:function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}},{key:"pendingTimelineChange",value:function(e){var t=e.type,n=e.from,r=e.to;return"number"===typeof n&&"number"===typeof r&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]}},{key:"lastTimelineChange",value:function(e){var t=e.type,n=e.from,r=e.to;return"number"===typeof n&&"number"===typeof r&&(this.lastTimelineChanges_[t]={type:t,from:n,to:r},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]}},{key:"dispose",value:function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}]),n}(Xy.EventTarget),qk=kb(Tb((function(){var e=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),a=t.length,o=0;o<a;++o)t[o].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();var t,r=null,i=function(){function e(t){var n,i,a;d(this,e),r||(r=function(){var e,t,n,r,i,a,o,s,u=[[[],[],[],[],[]],[[],[],[],[],[]]],l=u[0],c=u[1],h=l[4],d=c[4],f=[],p=[];for(e=0;e<256;e++)p[(f[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!h[t];t^=r||1,n=p[n]||1)for(a=(a=n^n<<1^n<<2^n<<3^n<<4)>>8^255&a^99,h[t]=a,d[a]=t,s=16843009*f[i=f[r=f[t]]]^65537*i^257*r^16843008*t,o=257*f[a]^16843008*a,e=0;e<4;e++)l[e][t]=o=o<<24^o>>>8,c[e][a]=s=s<<24^s>>>8;for(e=0;e<5;e++)l[e]=l[e].slice(0),c[e]=c[e].slice(0);return u}()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];var o=this._tables[0][4],s=this._tables[1],u=t.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");var c=t.slice(0),h=[];for(this._key=[c,h],n=u;n<4*u+28;n++)a=c[n-1],(n%u===0||8===u&&n%u===4)&&(a=o[a>>>24]<<24^o[a>>16&255]<<16^o[a>>8&255]<<8^o[255&a],n%u===0&&(a=a<<8^a>>>24^l<<24,l=l<<1^283*(l>>7))),c[n]=c[n-u]^a;for(i=0;n;i++,n--)a=c[3&i?n:n-4],h[i]=n<=4||i<4?a:s[0][o[a>>>24]]^s[1][o[a>>16&255]]^s[2][o[a>>8&255]]^s[3][o[255&a]]}return p(e,[{key:"decrypt",value:function(e,t,n,r,i,a){var o,s,u,l,c=this._key[1],h=e^c[0],d=r^c[1],f=n^c[2],p=t^c[3],m=c.length/4-2,v=4,g=this._tables[1],y=g[0],_=g[1],b=g[2],k=g[3],T=g[4];for(l=0;l<m;l++)o=y[h>>>24]^_[d>>16&255]^b[f>>8&255]^k[255&p]^c[v],s=y[d>>>24]^_[f>>16&255]^b[p>>8&255]^k[255&h]^c[v+1],u=y[f>>>24]^_[p>>16&255]^b[h>>8&255]^k[255&d]^c[v+2],p=y[p>>>24]^_[h>>16&255]^b[d>>8&255]^k[255&f]^c[v+3],v+=4,h=o,d=s,f=u;for(l=0;l<4;l++)i[(3&-l)+a]=T[h>>>24]<<24^T[d>>16&255]<<16^T[f>>8&255]<<8^T[255&p]^c[v++],o=h,h=d,d=f,f=p,p=o}}]),e}(),a=function(t){v(r,t);var n=T(r);function r(){var t;return d(this,r),(t=n.call(this,e)).jobs=[],t.delay=1,t.timeout_=null,t}return p(r,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),r}(e),o=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},s=function(){function e(t,n,r,i){d(this,e);var s=e.STEP,u=new Int32Array(t.buffer),l=new Uint8Array(t.byteLength),c=0;for(this.asyncStream_=new a,this.asyncStream_.push(this.decryptChunk_(u.subarray(c,c+s),n,r,l)),c=s;c<u.length;c+=s)r=new Uint32Array([o(u[c-4]),o(u[c-3]),o(u[c-2]),o(u[c-1])]),this.asyncStream_.push(this.decryptChunk_(u.subarray(c,c+s),n,r,l));this.asyncStream_.push((function(){var e;i(null,(e=l).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return p(e,[{key:"decryptChunk_",value:function(e,t,n,r){return function(){var a=function(e,t,n){var r,a,s,u,l,c,h,d,f,p=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),m=new i(Array.prototype.slice.call(t)),v=new Uint8Array(e.byteLength),g=new Int32Array(v.buffer);for(r=n[0],a=n[1],s=n[2],u=n[3],f=0;f<p.length;f+=4)l=o(p[f]),c=o(p[f+1]),h=o(p[f+2]),d=o(p[f+3]),m.decrypt(l,c,h,d,g,f),g[f]=o(g[f]^r),g[f+1]=o(g[f+1]^a),g[f+2]=o(g[f+2]^s),g[f+3]=o(g[f+3]^u),r=l,a=c,s=h,u=d;return v}(e,t,n);r.set(a,e.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),e}(),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};t="undefined"!==typeof window?window:"undefined"!==typeof u?u:"undefined"!==typeof self?self:{};var l=t.BigInt||Number;l("0x1"),l("0x100"),l("0x10000"),l("0x1000000"),l("0x100000000"),l("0x10000000000"),l("0x1000000000000"),l("0x100000000000000"),l("0x10000000000000000"),function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}();var c=function(e){var t={};return Object.keys(e).forEach((function(n){var r,i=e[n];r=i,("function"===ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t};self.onmessage=function(e){var t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),r=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),i=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new s(n,r,i,(function(e,n){self.postMessage(c({source:t.source,decrypted:n}),[n.buffer])}))}}))),Wk=bb(qk),Gk=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Kk=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},Qk=function(e,t){t.activePlaylistLoader=e,e.load()},Xk={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e],i=t.excludePlaylist;Kk(n,r);var a=r.activeTrack(),o=r.activeGroup(),s=(o.filter((function(e){return e.default}))[0]||o[0]).id,u=r.tracks[s];if(a!==u){for(var l in Xy.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[l].enabled=r.tracks[l]===u;r.onTrackChanged()}else i({error:{message:"Problem encountered loading the default audio track."}})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e];Xy.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Kk(n,r);var i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}}},Zk={AUDIO:function(e,t,n){if(t){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();a.playlist(e,i),(!r.paused()||e.endList&&"none"!==r.preload())&&a.load()})),t.on("loadedplaylist",(function(){a.playlist(t.media(),i),r.paused()||a.load()})),t.on("error",Xk[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[e],o=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();a.playlist(e,i),a.track(o.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&a.load()})),t.on("loadedplaylist",(function(){a.playlist(t.media(),i),r.paused()||a.load()})),t.on("error",Xk[e](e,n))}},Yk={AUDIO:function(e,t){var n=t.vhs,r=t.sourceType,i=t.segmentLoaders[e],a=t.requestOptions,o=t.main.mediaGroups,s=t.mediaTypes[e],u=s.groups,l=s.tracks,c=s.logger_,h=t.mainPlaylistLoader,d=N_(h.main);for(var f in o[e]&&0!==Object.keys(o[e]).length||(o[e]={main:{default:{default:!0}}},d&&(o[e].main.default.playlists=h.main.playlists)),o[e])for(var p in u[f]||(u[f]=[]),o[e][f]){var m=o[e][f][p],v=void 0;if(d?(c("AUDIO group '".concat(f,"' label '").concat(p,"' is a main playlist")),m.isMainPlaylist=!0,v=null):v="vhs-json"===r&&m.playlists?new X_(m.playlists[0],n,a):m.resolvedUri?new X_(m.resolvedUri,n,a):m.playlists&&"dash"===r?new gb(m.playlists[0],n,a,h):null,m=s_({id:p,playlistLoader:v},m),Zk[e](e,m.playlistLoader,t),u[f].push(m),"undefined"===typeof l[p]){var g=new Xy.AudioTrack({id:p,kind:Gk(m),enabled:!1,language:m.language,default:m.default,label:p});l[p]=g}}i.on("error",Xk[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.vhs,i=t.sourceType,a=t.segmentLoaders[e],o=t.requestOptions,s=t.main.mediaGroups,u=t.mediaTypes[e],l=u.groups,c=u.tracks,h=t.mainPlaylistLoader;for(var d in s[e])for(var f in l[d]||(l[d]=[]),s[e][d])if(!s[e][d][f].forced){var p=s[e][d][f],m=void 0;if("hls"===i)m=new X_(p.resolvedUri,r,o);else if("dash"===i){var v=p.playlists.filter((function(e){return e.excludeUntil!==1/0}));if(!v.length)return;m=new gb(p.playlists[0],r,o,h)}else"vhs-json"===i&&(m=new X_(p.playlists?p.playlists[0]:p.resolvedUri,r,o));if(p=s_({id:f,playlistLoader:m},p),Zk[e](e,p.playlistLoader,t),l[d].push(p),"undefined"===typeof c[f]){var g=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=g}}a.on("error",Xk[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.main.mediaGroups,i=t.mediaTypes[e],a=i.groups,o=i.tracks;for(var s in r[e])for(var u in a[s]||(a[s]=[]),r[e][s]){var l=r[e][s][u];if(/^(?:CC|SERVICE)/.test(l.instreamId)){var c=n.options_.vhs&&n.options_.vhs.captionServices||{},h={label:u,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(c[h.instreamId]&&(h=s_(h,c[h.instreamId])),void 0===h.default&&delete h.default,a[s].push(s_({id:u},l)),"undefined"===typeof o[u]){var d=n.addRemoteTextTrack({id:h.instreamId,kind:"captions",default:h.default,language:h.language,label:h.label},!1).track;o[u]=d}}}}},Jk=function e(t,n){for(var r=0;r<t.length;r++){if(L_(n,t[r]))return!0;if(t[r].playlists&&e(t[r].playlists,n))return!0}return!1},$k={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode||"hidden"===n[r].mode)return n[r];return null}}},eT=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){Yk[t](t,e)}));var t=e.mediaTypes,n=e.mainPlaylistLoader,r=e.tech,i=e.vhs,a=e.segmentLoaders,o=a.AUDIO,s=a.main;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var r=t.mainPlaylistLoader,i=t.mediaTypes[e].groups,a=r.media();if(!a)return null;var o=null;a.attributes[e]&&(o=i[a.attributes[e]]);var s=Object.keys(i);if(!o)if("AUDIO"===e&&s.length>1&&N_(t.main))for(var u=0;u<s.length;u++){var l=i[s[u]];if(Jk(l,a)){o=l;break}}else i.main?o=i.main:1===s.length&&(o=i[s[0]]);return"undefined"===typeof n?o:null!==n&&o&&o.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=$k[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,a=t.mediaTypes[e],o=a.activeTrack(),s=a.getActiveGroup(),u=a.activePlaylistLoader,l=a.lastGroup_;s&&l&&s.id===l.id||(a.lastGroup_=s,a.lastTrack_=o,Kk(r,a),s&&!s.isMainPlaylist&&(s.playlistLoader?(r.resyncLoader(),Qk(s.playlistLoader,a)):u&&i.resetEverything()))}}(n,e),t[n].onGroupChanging=function(e,t){return function(){var n=t.segmentLoaders[e];t.mediaTypes[e].lastGroup_=null,n.abort(),n.pause()}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.mainPlaylistLoader,r=t.segmentLoaders,i=r[e],a=r.main,o=t.mediaTypes[e],s=o.activeTrack(),u=o.getActiveGroup(),l=o.activePlaylistLoader,c=o.lastTrack_;if((!c||!s||c.id!==s.id)&&(o.lastGroup_=u,o.lastTrack_=s,Kk(i,o),u)){if(u.isMainPlaylist){if(!s||!c||s.id===c.id)return;var h=t.vhs.playlistController_,d=h.selectPlaylist();if(h.media()===d)return;return o.logger_("track change. Switching main audio from ".concat(c.id," to ").concat(s.id)),n.pause(),a.resetEverything(),void h.fastQualityChange_(d)}if("AUDIO"===e){if(!u.playlistLoader)return a.setAudio(!0),void a.resetEverything();i.setAudio(!0),a.setAudio(!1)}l!==u.playlistLoader?(i.track&&i.track(s),i.resetEverything(),Qk(u.playlistLoader,o)):Qk(u.playlistLoader,o)}}}(n,e),t[n].getActiveGroup=function(e,t){var n=t.mediaTypes;return function(){var t=n[e].activeTrack();return t?n[e].activeGroup(t):null}}(n,e)}));var u=t.AUDIO.activeGroup();if(u){var l=(u.filter((function(e){return e.default}))[0]||u[0]).id;t.AUDIO.tracks[l].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),o.setAudio(!0)):s.setAudio(!0)}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanging()}))}));var c=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};for(var h in r.audioTracks().addEventListener("change",c),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",(function(){r.audioTracks().removeEventListener("change",c),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[h])},tT=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],nT=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},rT=function(e){v(n,e);var t=T(n);function n(e){var r;d(this,n),r=t.call(this);var i=e.src,a=e.withCredentials,o=e.tech,s=e.bandwidth,u=e.externVhs,l=e.useCueTags,c=e.playlistExclusionDuration,h=e.enableLowInitialPlaylist,f=e.sourceType,p=e.cacheEncryptionKeys,m=e.bufferBasedABR,v=e.leastPixelDiffSelector,g=e.captionServices;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");var y=e.maxPlaylistRetries;null!==y&&"undefined"!==typeof y||(y=1/0),gk=u,r.bufferBasedABR=Boolean(m),r.leastPixelDiffSelector=Boolean(v),r.withCredentials=a,r.tech_=o,r.vhs_=o.vhs,r.sourceType_=f,r.useCueTags_=l,r.playlistExclusionDuration=c,r.maxPlaylistRetries=y,r.enableLowInitialPlaylist=h,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:a,maxPlaylistRetries:y,timeout:null},r.on("error",r.pauseLoading),r.mediaTypes_=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:vk,activeTrack:vk,getActiveGroup:vk,onGroupChanged:vk,onTrackChanged:vk,lastTrack_:null,logger_:o_("MediaGroups[".concat(t,"]"))}})),e}(),r.mediaSource=new(eh().MediaSource),r.handleDurationChange_=r.handleDurationChange_.bind(b(r)),r.handleSourceOpen_=r.handleSourceOpen_.bind(b(r)),r.handleSourceEnded_=r.handleSourceEnded_.bind(b(r)),r.mediaSource.addEventListener("durationchange",r.handleDurationChange_),r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_),r.mediaSource.addEventListener("sourceended",r.handleSourceEnded_),r.seekable_=u_(),r.hasPlayed_=!1,r.syncController_=new Vk(e),r.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new Wk,r.sourceUpdater_=new Rk(r.mediaSource),r.inbandTextTracks_={},r.timelineChangeController_=new Hk;var _={vhs:r.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:g,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.duration()},hasPlayed:function(){return r.hasPlayed_},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:s,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:p,sourceUpdater:r.sourceUpdater_,timelineChangeController:r.timelineChangeController_,exactManifestTimings:e.exactManifestTimings};r.mainPlaylistLoader_="dash"===r.sourceType_?new gb(i,r.vhs_,r.requestOptions_):new X_(i,r.vhs_,r.requestOptions_),r.setupMainPlaylistLoaderListeners_(),r.mainSegmentLoader_=new mk(s_(_,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),e),r.audioSegmentLoader_=new mk(s_(_,{loaderType:"audio"}),e),r.subtitleSegmentLoader_=new Fk(s_(_,{loaderType:"vtt",featuresNativeTextTracks:r.tech_.featuresNativeTextTracks}),e),r.setupSegmentLoaderListeners_(),r.bufferBasedABR&&(r.mainPlaylistLoader_.one("loadedplaylist",(function(){return r.startABRTimer_()})),r.tech_.on("pause",(function(){return r.stopABRTimer_()})),r.tech_.on("play",(function(){return r.startABRTimer_()}))),tT.forEach((function(e){r[e+"_"]=nT.bind(b(r),e)})),r.logger_=o_("pc"),r.triggeredFmp4Usage=!1,"none"===r.tech_.preload()?(r.loadOnPlay_=function(){r.loadOnPlay_=null,r.mainPlaylistLoader_.load()},r.tech_.one("play",r.loadOnPlay_)):r.mainPlaylistLoader_.load(),r.timeToLoadedData__=-1,r.mainAppendsToLoadedData__=-1,r.audioAppendsToLoadedData__=-1;var k="none"===r.tech_.preload()?"play":"loadstart";return r.tech_.one(k,(function(){var e=Date.now();r.tech_.one("loadeddata",(function(){r.timeToLoadedData__=Date.now()-e,r.mainAppendsToLoadedData__=r.mainSegmentLoader_.mediaAppends,r.audioAppendsToLoadedData__=r.audioSegmentLoader_.mediaAppends}))})),r}return p(n,[{key:"mainAppendsToLoadedData_",value:function(){return this.mainAppendsToLoadedData__}},{key:"audioAppendsToLoadedData_",value:function(){return this.audioAppendsToLoadedData__}},{key:"appendsToLoadedData_",value:function(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t}},{key:"timeToLoadedData_",value:function(){return this.timeToLoadedData__}},{key:"checkABR_",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"abr",t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}},{key:"switchMedia_",value:function(e,t,n){var r=this.media(),i=r&&(r.id||r.uri),a=e.id||e.uri;i&&i!==a&&(this.logger_("switch media ".concat(i," -> ").concat(a," from ").concat(t)),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-".concat(t)})),this.mainPlaylistLoader_.media(e,n)}},{key:"startABRTimer_",value:function(){var e=this;this.stopABRTimer_(),this.abrTimer_=eh().setInterval((function(){return e.checkABR_()}),250)}},{key:"stopABRTimer_",value:function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(eh().clearInterval(this.abrTimer_),this.abrTimer_=null)}},{key:"getAudioTrackPlaylists_",value:function(){var e=this.main(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var n,r=e.mediaGroups.AUDIO,i=Object.keys(r);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)n=this.mediaTypes_.AUDIO.activeTrack();else{var a=r.main||i.length&&r[i[0]];for(var o in a)if(a[o].default){n={label:o};break}}if(!n)return t;var s=[];for(var u in r)if(r[u][n.label]){var l=r[u][n.label];if(l.playlists&&l.playlists.length)s.push.apply(s,l.playlists);else if(l.uri)s.push(l);else if(e.playlists.length)for(var c=0;c<e.playlists.length;c++){var h=e.playlists[c];h.attributes&&h.attributes.AUDIO&&h.attributes.AUDIO===u&&s.push(h)}}return s.length?s:t}},{key:"setupMainPlaylistLoaderListeners_",value:function(){var e=this;this.mainPlaylistLoader_.on("loadedmetadata",(function(){var t=e.mainPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;O_(e.mainPlaylistLoader_.main,e.mainPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),eT({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,mainPlaylistLoader:e.mainPlaylistLoader_,vhs:e.vhs_,main:e.main(),mediaTypes:e.mediaTypes_,excludePlaylist:e.excludePlaylist.bind(e)}),e.triggerPresenceUsage_(e.main(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.mainPlaylistLoader_.on("loadedplaylist",(function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var t=e.mainPlaylistLoader_.media();if(!t){var n;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),!n||!e.shouldSwitchToMedia_(n))return;if(e.initialMedia_=n,e.switchMedia_(e.initialMedia_,"initial"),!("vhs-json"===e.sourceType_&&e.initialMedia_.segments))return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)})),this.mainPlaylistLoader_.on("error",(function(){var t=e.mainPlaylistLoader_.error;e.excludePlaylist({playlistToExclude:t.playlist,error:t})})),this.mainPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.mainPlaylistLoader_.on("mediachange",(function(){var t=e.mainPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;O_(e.mainPlaylistLoader_.main,e.mainPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainPlaylistLoader_.load(),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.mainPlaylistLoader_.on("playlistunchanged",(function(){var t=e.mainPlaylistLoader_.media();"playlist-unchanged"!==t.lastExcludeReason_&&(e.stuckAtPlaylistEnd_(t)&&(e.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),e.tech_.trigger("playliststuck")))})),this.mainPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})})),this.mainPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}))}},{key:"handleUpdatedMediaPlaylist",value:function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}},{key:"triggerPresenceUsage_",value:function(e,t){var n=e.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var o in n.AUDIO[a]){n.AUDIO[a][o].uri||(r=!1)}r&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),gk.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}},{key:"shouldSwitchToMedia_",value:function(e){var t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),r=this.bufferLowWaterLine(),i=this.bufferHighWaterLine();return function(e){var t=e.currentPlaylist,n=e.buffered,r=e.currentTime,i=e.nextPlaylist,a=e.bufferLowWaterLine,o=e.bufferHighWaterLine,s=e.duration,u=e.bufferBasedABR,l=e.log;if(!i)return Xy.log.warn("We received no playlist to switch to. Please check your stream."),!1;var c="allowing switch ".concat(t&&t.id||"null"," -> ").concat(i.id);if(!t)return l("".concat(c," as current playlist is not set")),!0;if(i.id===t.id)return!1;var h=Boolean(d_(n,r).length);if(!t.endList)return h||"number"!==typeof t.partTargetDuration?(l("".concat(c," as current playlist is live")),!0):(l("not ".concat(c," as current playlist is live llhls, but currentTime isn't in buffered.")),!1);var d=g_(n,r),f=u?yb.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:yb.MAX_BUFFER_LOW_WATER_LINE;if(s<f)return l("".concat(c," as duration < max low water line (").concat(s," < ").concat(f,")")),!0;var p=i.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(p<m&&(!u||d<o)){var v="".concat(c," as next bandwidth < current bandwidth (").concat(p," < ").concat(m,")");return u&&(v+=" and forwardBuffer < bufferHighWaterLine (".concat(d," < ").concat(o,")")),l(v),!0}if((!u||p>m)&&d>=a){var g="".concat(c," as forwardBuffer >= bufferLowWaterLine (").concat(d," >= ").concat(a,")");return u&&(g+=" and next bandwidth > current bandwidth (".concat(p," > ").concat(m,")")),l(g),!0}return l("not ".concat(c," as no switching criteria met")),!1}({buffered:this.tech_.buffered(),currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:r,bufferHighWaterLine:i,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){e.checkABR_("bandwidthupdate"),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("timeout",(function(){e.bufferBasedABR&&e.mainSegmentLoader_.load()})),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){var t=e.mainSegmentLoader_.error();e.excludePlaylist({playlistToExclude:t.playlist,error:t})})),this.mainSegmentLoader_.on("appenderror",(function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){e.logger_("main segment loader ended"),e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(t){e.bufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:120}))}));var t=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()}))}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectPlaylist();t!==this.mainPlaylistLoader_.media()?(this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything((function(){Xy.browser.IE_VERSION||Xy.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))):this.logger_("skipping fastQualityChange because new media is same as old")}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.mainPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(Xy.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(n.end(0)),e.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0}},{key:"handleSourceOpen_",value:function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();"undefined"!==typeof e&&"function"===typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")}},{key:"handleSourceEnded_",value:function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}}},{key:"handleDurationChange_",value:function(){this.tech_.trigger("durationchange")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var n=gk.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=c_;var a=i.end(i.length-1);return a-r<=c_&&n-a<=c_}},{key:"excludePlaylist",value:function(e){var t=e.playlistToExclude,n=void 0===t?this.mainPlaylistLoader_.media():t,r=e.error,i=void 0===r?{}:r,a=e.playlistExclusionDuration;if(n=n||this.mainPlaylistLoader_.media(),a=a||i.playlistExclusionDuration||this.playlistExclusionDuration,!n)return this.error=i,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));n.playlistErrors_++;var o,s=this.mainPlaylistLoader_.main.playlists,u=s.filter(A_),l=1===u.length&&u[0]===n;if(1===s.length&&a!==1/0)return Xy.log.warn("Problem encountered with playlist ".concat(n.id,". ")+"Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(l);if(l){var c=!1;s.forEach((function(e){if(e!==n){var t=e.excludeUntil;"undefined"!==typeof t&&t!==1/0&&(c=!0,delete e.excludeUntil)}})),c&&(Xy.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}o=n.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*a,n.excludeUntil=o,i.reason&&(n.lastExcludeReason_=i.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});var h=this.selectPlaylist();if(!h)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var d=i.internal?this.logger_:Xy.log.warn,f=i.message?" "+i.message:"";d("".concat(i.internal?"Internal problem":"Problem"," encountered with playlist ").concat(n.id,".")+"".concat(f," Switching to playlist ").concat(h.id,".")),h.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),h.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var p=h.targetDuration/2*1e3||5e3,m="number"===typeof h.lastRequest&&Date.now()-h.lastRequest<=p;return this.switchMedia_(h,"exclude",l||m)}},{key:"pauseLoading",value:function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}},{key:"delegateLoaders_",value:function(e,t){var n=this,r=[],i="all"===e;(i||"main"===e)&&r.push(this.mainPlaylistLoader_);var a=[];(i||"audio"===e)&&a.push("AUDIO"),(i||"subtitle"===e)&&(a.push("CLOSED-CAPTIONS"),a.push("SUBTITLES")),a.forEach((function(e){var t=n.mediaTypes_[e]&&n.mediaTypes_[e].activePlaylistLoader;t&&r.push(t)})),["main","audio","subtitle"].forEach((function(t){var i=n["".concat(t,"SegmentLoader_")];!i||e!==t&&"all"!==e||r.push(i)})),r.forEach((function(e){return t.forEach((function(t){"function"===typeof e[t]&&e[t]()}))}))}},{key:"setCurrentTime",value:function(e){var t=d_(this.tech_.buffered(),e);return this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media()&&this.mainPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){if(!this.mainPlaylistLoader_)return 0;var e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:gk.Playlist.duration(e):1/0:0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e;if(this.mainPlaylistLoader_){var t=this.mainPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.duration());if(null!==n){var r=this.mainPlaylistLoader_.main,i=gk.Playlist.seekable(t,n,gk.Playlist.liveEdgeDelay(r,t));if(0!==i.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=gk.Playlist.seekable(t,n,gk.Playlist.liveEdgeDelay(r,t))).length)return}var a,o;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>i.end(0)||i.start(0)>e.end(0)?this.seekable_=i:this.seekable_=u_([[e.start(0)>i.start(0)?e.start(0):i.start(0),e.end(0)<i.end(0)?e.end(0):i.end(0)]]):this.seekable_=i,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o||(this.logger_("seekable updated [".concat(p_(this.seekable_),"]")),this.tech_.trigger("seekablechanged"))}}}}}},{key:"updateDuration",value:function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var n=this.tech_.buffered(),r=gk.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}}},{key:"dispose",value:function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}},{key:"main",value:function(){return this.mainPlaylistLoader_.main}},{key:"media",value:function(){return this.mainPlaylistLoader_.media()||this.initialMedia_}},{key:"areMediaTypesKnown_",value:function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!n)}},{key:"getCodecsOrExclude_",value:function(){var e=this,t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};t.video=t.main;var n=Yb(this.main(),this.media()),r={},i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(r.video=n.video||t.main.videoCodec||"avc1.4d400d"),t.main.isMuxed&&(r.video+=",".concat(n.audio||t.main.audioCodec||Mh)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||i)&&(r.audio=n.audio||t.main.audioCodec||t.audio.audioCodec||Mh,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),r.audio||r.video){var a,o={};if(["video","audio"].forEach((function(e){if(r.hasOwnProperty(e)&&(i=t[e].isFmp4,s=r[e],!(i?Dh(s):Nh(s)))){var n=t[e].isFmp4?"browser":"muxer";o[n]=o[n]||[],o[n].push(r[e]),"audio"===e&&(a=n)}var i,s})),i&&a&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.main().playlists.forEach((function(t){(t.attributes&&t.attributes.AUDIO)===s&&t!==e.media()&&(t.excludeUntil=1/0)})),this.logger_("excluding audio group ".concat(s," as ").concat(a,' does not support codec(s): "').concat(r.audio,'"'))}if(!Object.keys(o).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach((function(t){var n=(Ph(e.sourceUpdater_.codecs[t]||"")[0]||{}).type,i=(Ph(r[t]||"")[0]||{}).type;n&&i&&n.toLowerCase()!==i.toLowerCase()&&u.push('"'.concat(e.sourceUpdater_.codecs[t],'" -> "').concat(r[t],'"'))})),u.length)return void this.excludePlaylist({playlistToExclude:this.media(),error:{message:"Codec switching not supported: ".concat(u.join(", "),"."),internal:!0},playlistExclusionDuration:1/0})}return r}var l=Object.keys(o).reduce((function(e,t){return e&&(e+=", "),e+="".concat(t,' does not support codec(s): "').concat(o[t].join(","),'"')}),"")+".";this.excludePlaylist({playlistToExclude:this.media(),error:{internal:!0,message:l},playlistExclusionDuration:1/0})}else this.excludePlaylist({playlistToExclude:this.media(),error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0})}},{key:"tryToCreateSourceBuffers_",value:function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}}}},{key:"excludeUnsupportedVariants_",value:function(){var e=this,t=this.main().playlists,n=[];Object.keys(t).forEach((function(r){var i=t[r];if(-1===n.indexOf(i.id)){n.push(i.id);var a=Yb(e.main,i),o=[];!a.audio||Nh(a.audio)||Dh(a.audio)||o.push("audio codec ".concat(a.audio)),!a.video||Nh(a.video)||Dh(a.video)||o.push("video codec ".concat(a.video)),a.text&&"stpp.ttml.im1t"===a.text&&o.push("text codec ".concat(a.text)),o.length&&(i.excludeUntil=1/0,e.logger_("excluding ".concat(i.id," for unsupported: ").concat(o.join(", "))))}}))}},{key:"excludeIncompatibleVariants_",value:function(e){var t=this,n=[],r=this.main().playlists,i=Xb(Ph(e)),a=Zb(i),o=i.video&&Ph(i.video)[0]||null,s=i.audio&&Ph(i.audio)[0]||null;Object.keys(r).forEach((function(e){var i=r[e];if(-1===n.indexOf(i.id)&&i.excludeUntil!==1/0){n.push(i.id);var u=[],l=Yb(t.mainPlaylistLoader_.main,i),c=Zb(l);if(l.audio||l.video){if(c!==a&&u.push('codec count "'.concat(c,'" !== "').concat(a,'"')),!t.sourceUpdater_.canChangeType()){var h=l.video&&Ph(l.video)[0]||null,d=l.audio&&Ph(l.audio)[0]||null;h&&o&&h.type.toLowerCase()!==o.type.toLowerCase()&&u.push('video codec "'.concat(h.type,'" !== "').concat(o.type,'"')),d&&s&&d.type.toLowerCase()!==s.type.toLowerCase()&&u.push('audio codec "'.concat(d.type,'" !== "').concat(s.type,'"'))}u.length&&(i.excludeUntil=1/0,t.logger_("excluding ".concat(i.id,": ").concat(u.join(" && "))))}}}))}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.segments)for(var r,i=n,a=0;a<e.segments.length;a++){var o=e.segments[a];if(r||(r=Bk(t,i+o.duration/2)),r){if("cueIn"in o){r.endTime=i,r.adEndTime=i,i+=o.duration,r=null;continue}if(i<r.endTime){i+=o.duration;continue}r.endTime+=o.duration}else if("cueOut"in o&&((r=new(eh().VTTCue)(i,i+o.duration,o.cueOut)).adStartTime=i,r.adEndTime=i+parseFloat(o.cueOut),t.addCue(r)),"cueOutCont"in o){var s=l(o.cueOutCont.split("/").map(parseFloat),2),u=s[0],c=s[1];(r=new(eh().VTTCue)(i,i+o.duration,"")).adStartTime=i-u,r.adEndTime=r.adStartTime+c,t.addCue(r)}i+=o.duration}}(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=yb.GOAL_BUFFER_LENGTH,n=yb.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,yb.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=yb.BUFFER_LOW_WATER_LINE,n=yb.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,yb.MAX_BUFFER_LOW_WATER_LINE),i=Math.max(t,yb.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.bufferBasedABR?i:r)}},{key:"bufferHighWaterLine",value:function(){return yb.BUFFER_HIGH_WATER_LINE}}]),n}(Xy.EventTarget),iT=p((function e(t,n,r){d(this,e);var i,a,o,s=t.playlistController_,u=s.fastQualityChange_.bind(s);if(n.attributes){var l=n.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=Yb(s.main(),n),this.playlist=n,this.id=r,this.enabled=(i=t.playlists,a=n.id,o=u,function(e){var t=i.main.playlists[a],n=I_(t),r=A_(t);return"undefined"===typeof e?r:(e?delete t.disabled:t.disabled=!0,e===r||n||(o(),e?i.trigger("renditionenabled"):i.trigger("renditiondisabled")),e)})})),aT=["seeking","seeked","pause","playing","error"],oT=function(){function e(t){var n=this;d(this,e),this.playlistController_=t.playlistController,this.tech_=t.tech,this.seekable=t.seekable,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=t.liveRangeSafeTimeDelta,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=o_("PlaybackWatcher"),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},i=function(){return n.monitorCurrentTime_()},a=function(){return n.techWaiting_()},o=function(){return n.resetTimeUpdate_()},s=this.playlistController_,u=["main","subtitle","audio"],l={};u.forEach((function(e){l[e]={reset:function(){return n.resetSegmentDownloads_(e)},updateend:function(){return n.checkSegmentDownloads_(e)}},s["".concat(e,"SegmentLoader_")].on("appendsdone",l[e].updateend),s["".concat(e,"SegmentLoader_")].on("playlistupdate",l[e].reset),n.tech_.on(["seeked","seeking"],l[e].reset)}));var c=function(e){["main","audio"].forEach((function(t){s["".concat(t,"SegmentLoader_")][e]("appended",n.seekingAppendCheck_)}))};this.seekingAppendCheck_=function(){n.fixesBadSeeks_()&&(n.consecutiveUpdates=0,n.lastRecordedTime=n.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=function(){return c("off")},this.watchForBadSeeking_=function(){n.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(aT,o),this.tech_.on("canplay",i),this.tech_.one("play",r),this.dispose=function(){n.clearSeekingAppendCheck_(),n.logger_("dispose"),n.tech_.off("waiting",a),n.tech_.off(aT,o),n.tech_.off("canplay",i),n.tech_.off("play",r),n.tech_.off("seeking",n.watchForBadSeeking_),n.tech_.off("seeked",n.clearSeekingAppendCheck_),u.forEach((function(e){s["".concat(e,"SegmentLoader_")].off("appendsdone",l[e].updateend),s["".concat(e,"SegmentLoader_")].off("playlistupdate",l[e].reset),n.tech_.off(["seeked","seeking"],l[e].reset)})),n.checkCurrentTimeTimeout_&&eh().clearTimeout(n.checkCurrentTimeTimeout_),n.resetTimeUpdate_()}}return p(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&eh().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=eh().setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"resetSegmentDownloads_",value:function(e){var t=this.playlistController_["".concat(e,"SegmentLoader_")];this["".concat(e,"StalledDownloads_")]>0&&this.logger_("resetting possible stalled download count for ".concat(e," loader")),this["".concat(e,"StalledDownloads_")]=0,this["".concat(e,"Buffered_")]=t.buffered_()}},{key:"checkSegmentDownloads_",value:function(e){var t=this.playlistController_,n=t["".concat(e,"SegmentLoader_")],r=n.buffered_(),i=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this["".concat(e,"Buffered_")],r);this["".concat(e,"Buffered_")]=r,i?this.resetSegmentDownloads_(e):(this["".concat(e,"StalledDownloads_")]++,this.logger_("found #".concat(this["".concat(e,"StalledDownloads_")]," ").concat(e," appends that did not increase buffer (possible stalled download)"),{playlistId:n.playlist_&&n.playlist_.id,buffered:m_(r)}),this["".concat(e,"StalledDownloads_")]<10||(this.logger_("".concat(e," loader stalled download exclusion")),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-".concat(e,"-download-exclusion")}),"subtitle"!==e&&t.excludePlaylist({error:{message:"Excessive ".concat(e," segment downloading detected.")},playlistExclusionDuration:1/0})))}},{key:"checkCurrentTime_",value:function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+c_>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"resetTimeUpdate_",value:function(){this.consecutiveUpdates=0}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1));if(this.beforeSeekableWindow_(t,n)){var r=t.start(0);e=r+(r===t.end(0)?0:c_)}if("undefined"!==typeof e)return this.logger_("Trying to seek outside of seekable at time ".concat(n," with ")+"seekable range ".concat(p_(t),". Seeking to ")+"".concat(e,".")),this.tech_.setCurrentTime(e),!0;for(var i=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),o=i.audioBuffer?i.audioBuffered():null,s=i.videoBuffer?i.videoBuffered():null,u=this.media(),l=u.partTargetDuration?u.partTargetDuration:2*(u.targetDuration-l_),c=[o,s],h=0;h<c.length;h++){if(c[h])if(g_(c[h],n)<l)return!1}var d=f_(a,n);return 0!==d.length&&(e=d.start(0)+c_,this.logger_("Buffered region starts (".concat(d.start(0),") ")+" just beyond seek point (".concat(n,"). Seeking to ").concat(e,".")),this.tech_.setCurrentTime(e),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=d_(t,e);return n.length&&e+3<=n.end(0)?(this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at ".concat(e," while inside a buffered region ")+"[".concat(n.start(0)," -> ").concat(n.end(0),"]. Attempting to resume ")+"playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time ".concat(t,". Seeking to ")+"live point (seekable end) ".concat(n)),this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}var r=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;var a=f_(i,t);return a.length>0&&(this.logger_("Stopped at ".concat(t," and seeking to ").concat(a.start(0))),this.resetTimeUpdate_(),this.skipTheGap_(t),!0)}},{key:"afterSeekableWindow_",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e.length)return!1;var i=e.end(e.length-1)+c_,a=!n.endList;return a&&r&&(i=e.end(e.length-1)+3*n.targetDuration),t>i}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}},{key:"videoUnderflow_",value:function(e){var t=e.videoBuffered,n=e.audioBuffered,r=e.currentTime;if(t){var i;if(t.length&&n.length){var a=d_(t,r-3),o=d_(t,r),s=d_(n,r);s.length&&!o.length&&a.length&&(i={start:a.end(0),end:s.end(0)})}else{f_(t,r).length||(i=this.gapFromVideoUnderflow_(t,r))}return!!i&&(this.logger_("Encountered a gap in video from ".concat(i.start," to ").concat(i.end,". ")+"Seeking to current time ".concat(r)),!0)}}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=f_(t,n);this.resetTimeUpdate_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+l_),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=function(e){if(e.length<2)return u_();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),i=e.start(n);t.push([r,i])}return u_(t)}(e),r=0;r<n.length;r++){var i=n.start(r),a=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:a}}return null}}]),e}(),sT={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},uT=function e(t,n){var r=0,i=0,a=s_(sT,n);t.ready((function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"})}));var o=function(){i&&t.currentTime(i)},s=function(e){null!==e&&void 0!==e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",o),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},u=function(){if(Date.now()-r<1e3*a.errorInterval)t.trigger({type:"usage",name:"vhs-error-reload-canceled"});else{if(a.getSource&&"function"===typeof a.getSource)return r=Date.now(),a.getSource.call(t,s);Xy.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},l=function e(){t.off("loadedmetadata",o),t.off("error",u),t.off("dispose",e)};t.on("error",u),t.on("dispose",l),t.reloadSourceOnError=function(n){l(),e(t,n)}},lT="3.0.0",cT={PlaylistLoader:X_,Playlist:M_,utils:sb,STANDARD_PLAYLIST_SELECTOR:ik,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.main.playlists.filter(M_.isEnabled);return tk(t,(function(e,t){return nk(e,t)})),t.filter((function(t){return!!Yb(e.playlists.main,t).video}))[0]||null},lastBandwidthSelector:ik,movingAverageBandwidthSelector:function(e){var t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&eh().devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),rk(this.playlists.main,t,parseInt(ek(this.tech_.el(),"width"),10)*r,parseInt(ek(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.playlistController_)}},comparePlaylistBandwidth:nk,comparePlaylistResolution:function(e,t){var n,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||eh().Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),n===(r=r||eh().Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r},xhr:J_()};Object.keys(yb).forEach((function(e){Object.defineProperty(cT,e,{get:function(){return Xy.log.warn("using Vhs.".concat(e," is UNSAFE be sure you know what you are doing")),yb[e]},set:function(t){Xy.log.warn("using Vhs.".concat(e," is UNSAFE be sure you know what you are doing")),"number"!==typeof t||t<0?Xy.log.warn("value of Vhs.".concat(e," must be greater than or equal to 0")):yb[e]=t}})}));var hT="videojs-vhs",dT=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.id){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};cT.canPlaySource=function(){return Xy.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};var fT=function(e){var t=e.player,n=e.sourceKeySystems,r=e.audioMedia,i=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var a=function(e,t){return e.reduce((function(e,n){if(!n.contentProtection)return e;var r=t.reduce((function(e,t){var r=n.contentProtection[t];return r&&r.pssh&&(e[t]={pssh:r.pssh}),e}),{});return Object.keys(r).length&&e.push(r),e}),[])}(r?i.concat([r]):i,Object.keys(n)),o=[],s=[];return a.forEach((function(e){s.push(new Promise((function(e,n){t.tech_.one("keysessioncreated",e)}))),o.push(new Promise((function(n,r){t.eme.initializeMediaKeys({keySystems:e},(function(e){e?r(e):n()}))})))})),Promise.race([Promise.all(o),Promise.race(s)])},pT=function(e){var t=e.player,n=function(e,t,n){if(!e)return e;var r={};t&&t.attributes&&t.attributes.CODECS&&(r=Xb(Ph(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);var i=Lh(r.video),a=Lh(r.audio),o={};for(var s in e)o[s]={},a&&(o[s].audioContentType=a),i&&(o[s].videoContentType=i),t.contentProtection&&t.contentProtection[s]&&t.contentProtection[s].pssh&&(o[s].pssh=t.contentProtection[s].pssh),"string"===typeof e[s]&&(o[s].url=e[s]);return s_(e,o)}(e.sourceKeySystems,e.media,e.audioMedia);return!!n&&(t.currentSource().keySystems=n,!(n&&!t.eme)||(Xy.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},mT=function(){if(!eh().localStorage)return null;var e=eh().localStorage.getItem(hT);if(!e)return null;try{return JSON.parse(e)}catch(iV){return null}};cT.supportsNativeHls=function(){if(!nh()||!nh().createElement)return!1;var e=nh().createElement("video");if(!Xy.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),cT.supportsNativeDash=!!(nh()&&nh().createElement&&Xy.getTech("Html5").isSupported())&&/maybe|probably/i.test(nh().createElement("video").canPlayType("application/dash+xml")),cT.supportsTypeNatively=function(e){return"hls"===e?cT.supportsNativeHls:"dash"===e&&cT.supportsNativeDash},cT.isSupported=function(){return Xy.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};var vT=function(e){v(n,e);var t=T(n);function n(e,r,i){var a;if(d(this,n),a=t.call(this,r,i.vhs),"number"===typeof i.initialBandwidth&&(a.options_.bandwidth=i.initialBandwidth),a.logger_=o_("VhsHandler"),r.options_&&r.options_.playerId){var o=Xy.getPlayer(r.options_.playerId);a.player_=o}if(a.tech_=r,a.source_=e,a.stats={},a.ignoreNextSeekingEvent_=!1,a.setOptions_(),a.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");return a.on(nh(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=nh().fullscreenElement||nh().webkitFullscreenElement||nh().mozFullScreenElement||nh().msFullscreenElement;t&&t.contains(a.tech_.el())?a.playlistController_.fastQualityChange_():a.playlistController_.checkABR_()})),a.on(a.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),a.on(a.tech_,"error",(function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()})),a.on(a.tech_,"play",a.play),a}return p(n,[{key:"setOptions_",value:function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage="undefined"!==typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!==typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=300),"number"!==typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=mT();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}"number"!==typeof this.options_.bandwidth&&(this.options_.bandwidth=yb.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===yb.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach((function(t){"undefined"!==typeof e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}},{key:"src",value:function(e,t){var n=this;if(e){var r;this.setOptions_(),this.options_.src=0===(r=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(r.substring(r.indexOf(",")+1)):r,this.options_.tech=this.tech_,this.options_.externVhs=cT,this.options_.sourceType=jh(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.playlistController_=new rT(this.options_);var i=s_({liveRangeSafeTimeDelta:c_},this.options_,{seekable:function(){return n.seekable()},media:function(){return n.playlistController_.media()},playlistController:this.playlistController_});this.playbackWatcher_=new oT(i),this.playlistController_.on("error",(function(){var e=Xy.players[n.tech_.options_.playerId],t=n.playlistController_.error;"object"!==typeof t||t.code?"string"===typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));var a=this.options_.bufferBasedABR?cT.movingAverageBandwidthSelector(.55):cT.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):a.bind(this),this.playlistController_.selectInitialPlaylist=cT.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.playlistController_.selectPlaylist},set:function(e){this.playlistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.playlistController_.mainSegmentLoader_.throughput.rate=e,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var e=this.playlistController_.mainSegmentLoader_.bandwidth,t=eh().navigator.connection||eh().navigator.mozConnection||eh().navigator.webkitConnection,n=1e7;if(this.options_.useNetworkInformationApi&&t){var r=1e3*t.downlink*1e3;e=r>=n&&e>=n?Math.max(e,r):r}return e},set:function(e){this.playlistController_.mainSegmentLoader_.bandwidth=e,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Xy.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.playlistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.playlistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.playlistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.playlistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.playlistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.playlistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.playlistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return n.playlistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return n.playlistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return n.playlistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return n.playlistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return n.playlistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return m_(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},main:{get:function(){return n.playlists.main},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return m_(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",(function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!eh().localStorage)return!1;var t=mT();t=t?s_(t,e):e;try{eh().localStorage.setItem(hT,JSON.stringify(t))}catch(iV){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})})),this.playlistController_.on("selectedinitialmedia",(function(){var e;(e=n).representations=function(){var t=e.playlistController_.main(),n=N_(t)?e.playlistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter((function(e){return!I_(e)})).map((function(t,n){return new iT(e,t,t.id)})):[]}})),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",(function(){n.setupEme_()})),this.on(this.playlistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.playlistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=eh().URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}}},{key:"createKeySessions_",value:function(){var e=this,t=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),fT({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.main.playlists}).then((function(){e.logger_("created EME key session"),e.playlistController_.sourceUpdater_.initializedEme()})).catch((function(t){e.logger_("error while creating EME key session",t),e.player_.error({message:"Failed to initialize media keys for EME",code:3})}))}},{key:"handleWaitingForKey_",value:function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}},{key:"setupEme_",value:function(){var e=this,t=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=pT({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});this.player_.tech_.on("keystatuschange",(function(t){if("output-restricted"===t.status){var n=e.playlistController_.main();if(n&&n.playlists){var r,i=[];if(n.playlists.forEach((function(e){e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height>=720&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,i.push(e))})),i.length)(r=Xy.log).warn.apply(r,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(i)),e.playlistController_.fastQualityChange_()}}})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Xy.browser.IE_VERSION&&n?this.createKeySessions_():this.playlistController_.sourceUpdater_.initializedEme()}},{key:"setupQualityLevels_",value:function(){var e=this,t=Xy.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.playlistController_.on("selectedinitialmedia",(function(){!function(e,t){t.representations().forEach((function(t){e.addQualityLevel(t)})),dT(e,t.playlists)}(e.qualityLevels_,e)})),this.playlists.on("mediachange",(function(){dT(e.qualityLevels_,e.playlists)})))}},{key:"version",value:function(){return this.constructor.version()}},{key:"canChangeType",value:function(){return Rk.canChangeType()}},{key:"play",value:function(){this.playlistController_.play()}},{key:"setCurrentTime",value:function(e){this.playlistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.playlistController_.duration()}},{key:"seekable",value:function(){return this.playlistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&eh().URL.revokeObjectURL&&(eh().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),Jc(g(n.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(e,t){return ub({playlist:this.playlistController_.media(),time:e,callback:t})}},{key:"seekToProgramTime",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return lb({programTime:e,playlist:this.playlistController_.media(),retryCount:r,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}],[{key:"version",value:function(){return{"@videojs/http-streaming":lT,"mux.js":"6.2.0","mpd-parser":"1.0.1","m3u8-parser":"6.0.0","aes-decrypter":"4.0.1"}}}]),n}(Xy.getComponent("Component")),gT={name:"videojs-http-streaming",VERSION:lT,canHandleSource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s_(Xy.options,t);return gT.canPlayType(e.type,n)},handleSource:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=s_(Xy.options,n);return t.vhs=new vT(e,t,r),t.vhs.xhr=J_(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s_(Xy.options,t),r=n.vhs,i=(r=void 0===r?{}:r).overrideNative,a=void 0===i?!Xy.browser.IS_ANY_SAFARI:i,o=jh(e),s=o&&(!cT.supportsTypeNatively(o)||a);return s?"maybe":""}};Dh("avc1.4d400d,mp4a.40.2")&&Xy.getTech("Html5").registerSourceHandler(gT,0),Xy.VhsHandler=vT,Xy.VhsSourceHandler=gT,Xy.Vhs=cT,Xy.use||Xy.registerComponent("Vhs",cT),Xy.options.vhs=Xy.options.vhs||{},Xy.getPlugin&&Xy.getPlugin("reloadSourceOnError")||Xy.registerPlugin("reloadSourceOnError",(function(e){uT(this,e)}));var yT=function(e){e.content;var n=e.video,r=e.closeModal,i=t.useRef();return(0,t.useEffect)((function(){if(n){var e=Xy(i.current,{controls:!0,autoplay:!0,preload:"auto"});return function(){e.dispose()}}}),[n]),(0,Hi.jsx)("div",{className:"video-modal",children:(0,Hi.jsxs)("div",{className:"video-modal-content",children:[(0,Hi.jsx)("button",{className:"close",onClick:r,children:(0,Hi.jsx)(Li,{icon:et})}),n&&(0,Hi.jsx)("div",{"data-vjs-player":!0,children:(0,Hi.jsx)("video",{ref:i,className:"video-js vjs-default-skin",children:(0,Hi.jsx)("source",{src:n,type:"video/mp4"})})})]})})};function _T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var bT=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},kT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,h=(3&a)<<4|s>>4,d=(15&s)<<2|l>>6,f=63&l;u||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bT(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},TT=function(e){return function(e){var t=bT(e);return kT.encodeByteArray(t,!0)}(e).replace(/\./g,"")},wT=function(e){try{return kT.decodeString(e,!0)}catch(iV){console.error("base64Decode failed: ",iV)}return null};function xT(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ST(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(iV){return!1}}function ET(){try{return"object"===typeof indexedDB}catch(iV){return!1}}var CT=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},IT=function(){try{return CT()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH_DOMAIN:"portfolio-dashboard-e7859.firebaseapp.com",REACT_APP_FIREBASE_API_KEY:"AIzaSyCw97tqO1u-uOzlfYZvE53LNpf2ZDx6u8c",REACT_APP_ID:"1:555089536025:web:ec173791bbffae585d7688",REACT_APP_MESSAGE_SEND_ID:"555089536025",REACT_APP_PROJECT_ID:"portfolio-dashboard-e7859",REACT_APP_STORAGE_BUCKET:"portfolio-dashboard-e7859.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(iV){return}var t=e&&wT(e[1]);return t&&JSON.parse(t)}}()}catch(iV){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(iV))}},AT=function(e){var t,n;return null===(n=null===(t=IT())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},PT=function(e){var t=AT(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},OT=function(){var e;return null===(e=IT())||void 0===e?void 0:e.config},LT=function(e){var t;return null===(t=IT())||void 0===t?void 0:t["_".concat(e)]},DT=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return p(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function NT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[TT(JSON.stringify({alg:"none",type:"JWT"})),TT(JSON.stringify(a)),""].join(".")}var MT=function(e){v(n,e);var t=T(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(b(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(b(a),RT.prototype.create),a}return p(n)}(x(Error)),RT=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return p(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?UT(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new MT(n,a,t);return o}}]),e}();function UT(e,t){return e.replace(jT,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var jT=/\{\$([^}]+)}/g;function FT(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(BT(s)&&BT(u)){if(!FT(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var h=c[l];if(!n.includes(h))return!1}return!0}function BT(e){return null!==e&&"object"===typeof e}function zT(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function VT(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function HT(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var qT=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return p(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=_T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=WT),void 0===r.error&&(r.error=WT),void 0===r.complete&&(r.complete=WT);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(iV){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(iV){"undefined"!==typeof console&&console.error&&console.error(iV)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function WT(){}function GT(e){return e&&e._delegate?e._delegate:e}var KT=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return p(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),QT="[DEFAULT]",XT=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return p(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new DT;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(iV){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(iV){if(r)return null;throw iV}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:QT})}catch(iV){}var t,n=_T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(iV){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QT;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Xc(Kc().mark((function e(){var t;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QT;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QT;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=_T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],h=this.normalizeInstanceIdentifier(u);r===h&&c.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=_T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(oM){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===QT?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(oM){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QT;return this.component?this.component.multipleInstances?e:QT:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ZT,YT,JT=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return p(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new XT(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),$T=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(YT||(YT={}));var ew={debug:YT.DEBUG,verbose:YT.VERBOSE,info:YT.INFO,warn:YT.WARN,error:YT.ERROR,silent:YT.SILENT},tw=YT.INFO,nw=(ic(ZT={},YT.DEBUG,"log"),ic(ZT,YT.VERBOSE,"log"),ic(ZT,YT.INFO,"info"),ic(ZT,YT.WARN,"warn"),ic(ZT,YT.ERROR,"error"),ZT),rw=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=nw[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},iw=function(){function e(t){d(this,e),this.name=t,this._logLevel=tw,this._logHandler=rw,this._userLogHandler=null,$T.push(this)}return p(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in YT))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ew[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,YT.DEBUG].concat(t)),this._logHandler.apply(this,[this,YT.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,YT.VERBOSE].concat(t)),this._logHandler.apply(this,[this,YT.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,YT.INFO].concat(t)),this._logHandler.apply(this,[this,YT.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,YT.WARN].concat(t)),this._logHandler.apply(this,[this,YT.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,YT.ERROR].concat(t)),this._logHandler.apply(this,[this,YT.ERROR].concat(t))}}]),e}();var aw,ow;var sw=new WeakMap,uw=new WeakMap,lw=new WeakMap,cw=new WeakMap,hw=new WeakMap;var dw={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return uw.get(e);if("objectStoreNames"===t)return e.objectStoreNames||lw.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mw(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function fw(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ow||(ow=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(vw(this),n),mw(sw.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mw(e.apply(vw(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[vw(this),t].concat(r));return lw.set(a,t.sort?t.sort():[t]),mw(a)}}function pw(e){return"function"===typeof e?fw(e):(e instanceof IDBTransaction&&function(e){if(!uw.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));uw.set(e,t)}}(e),t=e,(aw||(aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,dw):e);var t}function mw(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(mw(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&sw.set(t,e)})).catch((function(){})),hw.set(t,e),t}(e);if(cw.has(e))return cw.get(e);var t=pw(e);return t!==e&&(cw.set(e,t),hw.set(t,e)),t}var vw=function(e){return hw.get(e)};var gw,yw,_w=["get","getKey","getAll","getAllKeys","count"],bw=["put","add","delete","clear"],kw=new Map;function Tw(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(kw.get(t))return kw.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=bw.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||_w.includes(n))){var a=function(){var e=Xc(Kc().mark((function e(t){var a,o,s,u,l,c,h=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=h[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return kw.set(t,a),a}}}dw=function(e){return oc(oc({},e),{},{get:function(t,n,r){return Tw(t,n)||e.get(t,n,r)},has:function(t,n){return!!Tw(t,n)||e.has(t,n)}})}(dw);var ww=function(){function e(t){d(this,e),this.container=t}return p(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var xw="@firebase/app",Sw="0.9.0",Ew=new iw("@firebase/app"),Cw="[DEFAULT]",Iw=(ic(gw={},xw,"fire-core"),ic(gw,"@firebase/app-compat","fire-core-compat"),ic(gw,"@firebase/analytics","fire-analytics"),ic(gw,"@firebase/analytics-compat","fire-analytics-compat"),ic(gw,"@firebase/app-check","fire-app-check"),ic(gw,"@firebase/app-check-compat","fire-app-check-compat"),ic(gw,"@firebase/auth","fire-auth"),ic(gw,"@firebase/auth-compat","fire-auth-compat"),ic(gw,"@firebase/database","fire-rtdb"),ic(gw,"@firebase/database-compat","fire-rtdb-compat"),ic(gw,"@firebase/functions","fire-fn"),ic(gw,"@firebase/functions-compat","fire-fn-compat"),ic(gw,"@firebase/installations","fire-iid"),ic(gw,"@firebase/installations-compat","fire-iid-compat"),ic(gw,"@firebase/messaging","fire-fcm"),ic(gw,"@firebase/messaging-compat","fire-fcm-compat"),ic(gw,"@firebase/performance","fire-perf"),ic(gw,"@firebase/performance-compat","fire-perf-compat"),ic(gw,"@firebase/remote-config","fire-rc"),ic(gw,"@firebase/remote-config-compat","fire-rc-compat"),ic(gw,"@firebase/storage","fire-gcs"),ic(gw,"@firebase/storage-compat","fire-gcs-compat"),ic(gw,"@firebase/firestore","fire-fst"),ic(gw,"@firebase/firestore-compat","fire-fst-compat"),ic(gw,"fire-js","fire-js"),ic(gw,"firebase","fire-js-all"),gw),Aw=new Map,Pw=new Map;function Ow(e,t){try{e.container.addComponent(t)}catch(iV){Ew.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),iV)}}function Lw(e){var t=e.name;if(Pw.has(t))return Ew.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pw.set(t,e);var n,r=_T(Aw.values());try{for(r.s();!(n=r.n()).done;){Ow(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Dw(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Nw=(ic(yw={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ic(yw,"bad-app-name","Illegal App name: '{$appName}"),ic(yw,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ic(yw,"app-deleted","Firebase App named '{$appName}' already deleted"),ic(yw,"no-options","Need to provide options, when not being deployed to hosting via source."),ic(yw,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ic(yw,"invalid-log-argument","First argument to `onLog` must be null or a function."),ic(yw,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ic(yw,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ic(yw,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ic(yw,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),yw),Mw=new RT("app","Firebase",Nw),Rw=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new KT("app",(function(){return i}),"PUBLIC"))}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Mw.create("app-deleted",{appName:this._name})}}]),e}(),Uw="9.15.0";function jw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Cw,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Mw.create("bad-app-name",{appName:String(a)});if(n||(n=OT()),!n)throw Mw.create("no-options");var o=Aw.get(a);if(o){if(FT(n,o.options)&&FT(i,o.config))return o;throw Mw.create("duplicate-app",{appName:a})}var s,u=new JT(a),l=_T(Pw.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;u.addComponent(c)}}catch(d){l.e(d)}finally{l.f()}var h=new Rw(n,i,u);return Aw.set(a,h),h}function Fw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cw,t=Aw.get(e);if(!t&&e===Cw)return jw();if(!t)throw Mw.create("no-app",{appName:e});return t}function Bw(e,t,n){var r,i=null!==(r=Iw[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ew.warn(s.join(" "))}Lw(new KT("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var zw="firebase-heartbeat-store",Vw=null;function Hw(){return Vw||(Vw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=mw(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(mw(s.result),e.oldVersion,e.newVersion,mw(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(zw)}}).catch((function(e){throw Mw.create("idb-open",{originalErrorMessage:e.message})}))),Vw}function qw(e){return Ww.apply(this,arguments)}function Ww(){return Ww=Xc(Kc().mark((function e(t){var n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hw();case 3:return n=e.sent,e.abrupt("return",n.transaction(zw).objectStore(zw).get(Qw(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof MT?Ew.warn(e.t0.message):(r=Mw.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ew.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ww.apply(this,arguments)}function Gw(e,t){return Kw.apply(this,arguments)}function Kw(){return Kw=Xc(Kc().mark((function e(t,n){var r,i,a,o;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hw();case 3:return r=e.sent,i=r.transaction(zw,"readwrite"),a=i.objectStore(zw),e.next=8,a.put(n,Qw(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof MT?Ew.warn(e.t0.message):(o=Mw.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ew.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Kw.apply(this,arguments)}function Qw(e){return"".concat(e.name,"!").concat(e.options.appId)}var Xw=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new $w(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return p(e,[{key:"triggerHeartbeat",value:function(){var e=Xc(Kc().mark((function e(){var t,n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Zw(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Xc(Kc().mark((function e(){var t,n,r,i,a;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Zw(),n=Yw(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=TT(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Zw(){return(new Date).toISOString().substring(0,10)}function Yw(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=_T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ex(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ex(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Jw,$w=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return p(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ET()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Xc(Kc().mark((function e(){var t;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,qw(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Xc(Kc().mark((function e(t){var n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Gw(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Xc(Kc().mark((function e(t){var n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Gw(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ex(e){return TT(JSON.stringify({version:2,heartbeats:e})).length}Jw="",Lw(new KT("platform-logger",(function(e){return new ww(e)}),"PRIVATE")),Lw(new KT("heartbeat",(function(e){return new Xw(e)}),"PRIVATE")),Bw(xw,Sw,Jw),Bw(xw,Sw,"esm2017"),Bw("fire-js","");var tx,nx="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},rx={},ix=ix||{},ax=nx||self;function ox(){}function sx(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ux(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var lx="closure_uid_"+(1e9*Math.random()>>>0),cx=0;function hx(e,t,n){return e.call.apply(e.bind,arguments)}function dx(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function fx(e,t,n){return(fx=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hx:dx).apply(null,arguments)}function px(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function mx(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function vx(){this.s=this.s,this.o=this.o}vx.prototype.s=!1,vx.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,lx)&&e[lx]||(e[lx]=++cx))},vx.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var gx=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function yx(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function _x(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(sx(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function bx(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}bx.prototype.h=function(){this.defaultPrevented=!0};var kx=function(){if(!ax.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ax.addEventListener("test",ox,t),ax.removeEventListener("test",ox,t)}catch(n){}return e}();function Tx(e){return/^[\s\xa0]*$/.test(e)}var wx=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function xx(e,t){return e<t?-1:e>t?1:0}function Sx(){var e=ax.navigator;return e&&(e=e.userAgent)?e:""}function Ex(e){return-1!=Sx().indexOf(e)}function Cx(e){return Cx[" "](e),e}Cx[" "]=ox;var Ix,Ax=Ex("Opera"),Px=Ex("Trident")||Ex("MSIE"),Ox=Ex("Edge"),Lx=Ox||Px,Dx=Ex("Gecko")&&!(-1!=Sx().toLowerCase().indexOf("webkit")&&!Ex("Edge"))&&!(Ex("Trident")||Ex("MSIE"))&&!Ex("Edge"),Nx=-1!=Sx().toLowerCase().indexOf("webkit")&&!Ex("Edge");function Mx(){var e=ax.document;return e?e.documentMode:void 0}e:{var Rx="",Ux=function(){var e=Sx();return Dx?/rv:([^\);]+)(\)|;)/.exec(e):Ox?/Edge\/([\d\.]+)/.exec(e):Px?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Nx?/WebKit\/(\S+)/.exec(e):Ax?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ux&&(Rx=Ux?Ux[1]:""),Px){var jx=Mx();if(null!=jx&&jx>parseFloat(Rx)){Ix=String(jx);break e}}Ix=Rx}var Fx,Bx={};function zx(){return function(e){var t=Bx;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=wx(String(Ix)).split("."),n=wx("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=xx(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||xx(0==a[2].length,0==o[2].length)||xx(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ax.document&&Px){var Vx=Mx();Fx=Vx||(parseInt(Ix,10)||void 0)}else Fx=void 0;var Hx=Fx;function qx(e,t){if(bx.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Dx){e:{try{Cx(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Wx[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qx.X.h.call(this)}}mx(qx,bx);var Wx={2:"touch",3:"pen",4:"mouse"};qx.prototype.h=function(){qx.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gx="closure_listenable_"+(1e6*Math.random()|0),Kx=0;function Qx(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Kx,this.ba=this.ea=!1}function Xx(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Zx(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Yx(e){var t={};for(var n in e)t[n]=e[n];return t}var Jx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $x(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Jx.length;a++)n=Jx[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function eS(e){this.src=e,this.g={},this.h=0}function tS(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=gx(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Xx(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function nS(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}eS.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=nS(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Qx(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var rS="closure_lm_"+(1e6*Math.random()|0),iS={};function aS(e,t,n,r,i){if(r&&r.once)return sS(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)aS(e,t[a],n,r,i);return null}return n=pS(n),e&&e[Gx]?e.N(t,n,ux(r)?!!r.capture:!!r,i):oS(e,t,n,!1,r,i)}function oS(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ux(i)?!!i.capture:!!i,s=dS(e);if(s||(e[rS]=s=new eS(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=hS;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)kx||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(cS(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function sS(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)sS(e,t[a],n,r,i);return null}return n=pS(n),e&&e[Gx]?e.O(t,n,ux(r)?!!r.capture:!!r,i):oS(e,t,n,!0,r,i)}function uS(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)uS(e,t[a],n,r,i);else r=ux(r)?!!r.capture:!!r,n=pS(n),e&&e[Gx]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=nS(a=e.g[t],n,r,i))&&(Xx(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=dS(e))&&(t=e.g[t.toString()],e=-1,t&&(e=nS(t,n,r,i)),(n=-1<e?t[e]:null)&&lS(n))}function lS(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Gx])tS(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(cS(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=dS(t))?(tS(n,e),0==n.h&&(n.src=null,t[rS]=null)):Xx(e)}}}function cS(e){return e in iS?iS[e]:iS[e]="on"+e}function hS(e,t){if(e.ba)e=!0;else{t=new qx(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&lS(e),e=n.call(r,t)}return e}function dS(e){return(e=e[rS])instanceof eS?e:null}var fS="__closure_events_fn_"+(1e9*Math.random()>>>0);function pS(e){return"function"===typeof e?e:(e[fS]||(e[fS]=function(t){return e.handleEvent(t)}),e[fS])}function mS(){vx.call(this),this.i=new eS(this),this.P=this,this.I=null}function vS(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new bx(t,e);else if(t instanceof bx)t.target=t.target||e;else{var i=t;$x(t=new bx(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=gS(o,r,!0,t)&&i}if(i=gS(o=t.g=e,r,!0,t)&&i,i=gS(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=gS(o=t.g=n[a],r,!1,t)&&i}function gS(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&tS(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}mx(mS,vx),mS.prototype[Gx]=!0,mS.prototype.removeEventListener=function(e,t,n,r){uS(this,e,t,n,r)},mS.prototype.M=function(){if(mS.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xx(n[r]);delete t.g[e],t.h--}}this.I=null},mS.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},mS.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var yS=ax.JSON.stringify;function _S(){var e=CS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var bS,kS=function(){function e(){d(this,e),this.h=this.g=null}return p(e,[{key:"add",value:function(e,t){var n=TS.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),TS=new(function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return p(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new wS}),(function(e){return e.reset()})),wS=function(){function e(){d(this,e),this.next=this.g=this.h=null}return p(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function xS(e){ax.setTimeout((function(){throw e}),0)}function SS(e,t){bS||function(){var e=ax.Promise.resolve(void 0);bS=function(){e.then(IS)}}(),ES||(bS(),ES=!0),CS.add(e,t)}var ES=!1,CS=new kS;function IS(){for(var e;e=_S();){try{e.h.call(e.g)}catch(n){xS(n)}var t=TS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ES=!1}function AS(e,t){mS.call(this),this.h=e||1,this.g=t||ax,this.j=fx(this.lb,this),this.l=Date.now()}function PS(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function OS(e,t,n){if("function"===typeof e)n&&(e=fx(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=fx(e.handleEvent,e)}return 2147483647<Number(t)?-1:ax.setTimeout(e,t||0)}function LS(e){e.g=OS((function(){e.g=null,e.i&&(e.i=!1,LS(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}mx(AS,mS),(tx=AS.prototype).ca=!1,tx.R=null,tx.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),vS(this,"tick"),this.ca&&(PS(this),this.start()))}},tx.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tx.M=function(){AS.X.M.call(this),PS(this),delete this.g};var DS=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return p(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:LS(this)}},{key:"M",value:function(){Jc(g(n.prototype),"M",this).call(this),this.g&&(ax.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(vx);function NS(e){vx.call(this),this.h=e,this.g={}}mx(NS,vx);var MS=[];function RS(e,t,n,r){Array.isArray(n)||(n&&(MS[0]=n.toString()),n=MS);for(var i=0;i<n.length;i++){var a=aS(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function US(e){Zx(e.g,(function(e,t){this.g.hasOwnProperty(t)&&lS(e)}),e),e.g={}}function jS(){this.g=!0}function FS(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return yS(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}NS.prototype.M=function(){NS.X.M.call(this),US(this)},NS.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jS.prototype.Aa=function(){this.g=!1},jS.prototype.info=function(){};var BS={},zS=null;function VS(){return zS=zS||new mS}function HS(e){bx.call(this,BS.Pa,e)}function qS(e){var t=VS();vS(t,new HS(t))}function WS(e,t){bx.call(this,BS.STAT_EVENT,e),this.stat=t}function GS(e){var t=VS();vS(t,new WS(t,e))}function KS(e,t){bx.call(this,BS.Qa,e),this.size=t}function QS(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ax.setTimeout((function(){e()}),t)}BS.Pa="serverreachability",mx(HS,bx),BS.STAT_EVENT="statevent",mx(WS,bx),BS.Qa="timingevent",mx(KS,bx);var XS={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ZS={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function YS(){}function JS(e){return e.h||(e.h=e.i())}function $S(){}YS.prototype.h=null;var eE,tE={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function nE(){bx.call(this,"d")}function rE(){bx.call(this,"c")}function iE(){}function aE(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new NS(this),this.O=sE,e=Lx?125:void 0,this.T=new AS(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new oE}function oE(){this.i=null,this.g="",this.h=!1}mx(nE,bx),mx(rE,bx),mx(iE,YS),iE.prototype.g=function(){return new XMLHttpRequest},iE.prototype.i=function(){return{}},eE=new iE;var sE=45e3,uE={},lE={};function cE(e,t,n){e.K=1,e.v=AE(xE(t)),e.s=n,e.P=!0,hE(e,null)}function hE(e,t){e.F=Date.now(),mE(e),e.A=xE(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),VE(n.i,"t",r),e.C=0,n=e.l.H,e.h=new oE,e.g=HC(e.l,n?t:null,!e.s),0<e.N&&(e.L=new DS(fx(e.La,e,e.g),e.N)),RS(e.S,e.g,"readystatechange",e.ib),t=e.H?Yx(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),qS(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function dE(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function fE(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=pE(e,n))==lE){4==t&&(e.o=4,GS(14),i=!1),FS(e.j,e.m,null,"[Incomplete Response]");break}if(r==uE){e.o=4,GS(15),FS(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}FS(e.j,e.m,r,null),bE(e,r)}dE(e)&&r!=lE&&r!=uE&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,GS(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),MC(t),t.K=!0,GS(11))):(FS(e.j,e.m,n,"[Invalid Chunked Response]"),_E(e),yE(e))}function pE(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?lE:(n=Number(t.substring(n,r)),isNaN(n)?uE:(r+=1)+n>t.length?lE:(t=t.substr(r,n),e.C=r+n,t))}function mE(e){e.V=Date.now()+e.O,vE(e,e.O)}function vE(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=QS(fx(e.gb,e),t)}function gE(e){e.B&&(ax.clearTimeout(e.B),e.B=null)}function yE(e){0==e.l.G||e.I||jC(e.l,e)}function _E(e){gE(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,PS(e.T),US(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function bE(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ZE(n.h,e)))if(!e.J&&ZE(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;UC(n),CC(n)}NC(n),GS(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=QS(fx(n.cb,n),6e3));if(1>=XE(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else BC(n,11)}else if((e.J||n.g==e)&&UC(n),!Tx(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.h;h.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(YE(h,h.h),h.h=null))}if(r.D){var d=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,IE(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var f=e;if((r=n).sa=VC(r,r.H?r.ka:null,r.V),f.J){JE(r.h,f);var p=f,m=r.J;m&&p.setTimeout(m),p.B&&(gE(p),mE(p)),r.g=f}else DC(r);0<n.i.length&&AC(n)}else"stop"!=a[0]&&"close"!=a[0]||BC(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?BC(n,7):EC(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}qS()}catch(a){}}function kE(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(sx(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(sx(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(sx(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(tx=aE.prototype).setTimeout=function(e){this.O=e},tx.ib=function(e){e=e.target;var t=this.L;t&&3==bC(e)?t.l():this.La(e)},tx.La=function(e){try{if(e==this.g)e:{var t=bC(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Lx||this.g&&(this.h.h||this.g.fa()||kC(this.g)))){this.I||4!=t||7==n||qS(),gE(this);var r=this.g.aa();this.Y=r;t:if(dE(this)){var i=kC(this.g);e="";var a=i.length,o=4==bC(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_E(this),yE(this);var s="";break t}this.h.i=new ax.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tx(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,GS(12),_E(this),yE(this);break e}FS(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bE(this,r)}this.P?(fE(this,t,s),Lx&&this.i&&3==t&&(RS(this.S,this.T,"tick",this.hb),this.T.start())):(FS(this.j,this.m,s,null),bE(this,s)),4==t&&_E(this),this.i&&!this.I&&(4==t?jC(this.l,this):(this.i=!1,mE(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,GS(12)):(this.o=0,GS(13)),_E(this),yE(this)}}}catch(t){}},tx.hb=function(){if(this.g){var e=bC(this.g),t=this.g.fa();this.C<t.length&&(gE(this),fE(this,e,t),this.i&&4!=e&&mE(this))}},tx.cancel=function(){this.I=!0,_E(this)},tx.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(qS(),GS(17)),_E(this),this.o=2,yE(this)):vE(this,this.V-e)};var TE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wE(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof wE){this.h=void 0!==t?t:e.h,SE(this,e.j),this.s=e.s,this.g=e.g,EE(this,e.m),this.l=e.l,t=e.i;var n=new jE;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),CE(this,n),this.o=e.o}else e&&(n=String(e).match(TE))?(this.h=!!t,SE(this,n[1]||"",!0),this.s=PE(n[2]||""),this.g=PE(n[3]||"",!0),EE(this,n[4]),this.l=PE(n[5]||"",!0),CE(this,n[6]||"",!0),this.o=PE(n[7]||"")):(this.h=!!t,this.i=new jE(null,this.h))}function xE(e){return new wE(e)}function SE(e,t,n){e.j=n?PE(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function EE(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function CE(e,t,n){t instanceof jE?(e.i=t,function(e,t){t&&!e.j&&(FE(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(BE(this,t),VE(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=OE(t,RE)),e.i=new jE(t,e.h))}function IE(e,t,n){e.i.set(t,n)}function AE(e){return IE(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function PE(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function OE(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,LE),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function LE(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}wE.prototype.toString=function(){var e=[],t=this.j;t&&e.push(OE(t,DE,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(OE(t,DE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(OE(n,"/"==n.charAt(0)?ME:NE,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",OE(n,UE)),e.join("")};var DE=/[#\/\?@]/g,NE=/[#\?:]/g,ME=/[#\?]/g,RE=/[#\?@]/g,UE=/#/g;function jE(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function FE(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function BE(e,t){FE(e),t=HE(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zE(e,t){return FE(e),t=HE(e,t),e.g.has(t)}function VE(e,t,n){BE(e,t),0<n.length&&(e.i=null,e.g.set(HE(e,t),yx(n)),e.h+=n.length)}function HE(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(tx=jE.prototype).add=function(e,t){FE(this),this.i=null,e=HE(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},tx.forEach=function(e,t){FE(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},tx.oa=function(){FE(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},tx.W=function(e){FE(this);var t=[];if("string"===typeof e)zE(this,e)&&(t=t.concat(this.g.get(HE(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},tx.set=function(e,t){return FE(this),this.i=null,zE(this,e=HE(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},tx.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},tx.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var qE=p((function e(t,n){d(this,e),this.h=t,this.g=n}));function WE(e){this.l=e||KE,ax.PerformanceNavigationTiming?e=0<(e=ax.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ax.g&&ax.g.Ga&&ax.g.Ga()&&ax.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var GE,KE=10;function QE(e){return!!e.h||!!e.g&&e.g.size>=e.j}function XE(e){return e.h?1:e.g?e.g.size:0}function ZE(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function YE(e,t){e.g?e.g.add(t):e.h=t}function JE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $E(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=_T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return yx(e.i)}function eC(){}function tC(){this.g=new eC}function nC(e,t,n){var r=n||"";try{kE(e,(function(e,n){var i=e;ux(e)&&(i=yS(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(iV){throw t.push(r+"type="+encodeURIComponent("_badmap")),iV}}function rC(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function iC(e){this.l=e.ac||null,this.j=e.jb||!1}function aC(e,t){mS.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=oC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}WE.prototype.cancel=function(){if(this.i=$E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=_T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},eC.prototype.stringify=function(e){return ax.JSON.stringify(e,void 0)},eC.prototype.parse=function(e){return ax.JSON.parse(e,void 0)},mx(iC,YS),iC.prototype.g=function(){return new aC(this.l,this.j)},iC.prototype.i=(GE={},function(){return GE}),mx(aC,mS);var oC=0;function sC(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function uC(e){e.readyState=4,e.l=null,e.j=null,e.A=null,lC(e)}function lC(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(tx=aC.prototype).open=function(e,t){if(this.readyState!=oC)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,lC(this)},tx.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ax).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},tx.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uC(this)),this.readyState=oC},tx.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,lC(this)),this.g&&(this.readyState=3,lC(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof ax.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sC(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},tx.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?uC(this):lC(this),3==this.readyState&&sC(this)}},tx.Va=function(e){this.g&&(this.response=this.responseText=e,uC(this))},tx.Ua=function(e){this.g&&(this.response=e,uC(this))},tx.ga=function(){this.g&&uC(this)},tx.setRequestHeader=function(e,t){this.v.append(e,t)},tx.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},tx.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(aC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var cC=ax.JSON.parse;function hC(e){mS.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dC,this.K=this.L=!1}mx(hC,mS);var dC="",fC=/^https?$/i,pC=["POST","PUT"];function mC(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vC(e),yC(e)}function vC(e){e.D||(e.D=!0,vS(e,"complete"),vS(e,"error"))}function gC(e){if(e.h&&"undefined"!=typeof ix&&(!e.C[1]||4!=bC(e)||2!=e.aa()))if(e.v&&4==bC(e))OS(e.Ha,0,e);else if(vS(e,"readystatechange"),4==bC(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(TE)[1]||null;if(!a&&ax.self&&ax.self.location){var o=ax.self.location.protocol;a=o.substr(0,o.length-1)}i=!fC.test(a?a.toLowerCase():"")}t=i}if(t)vS(e,"complete"),vS(e,"success");else{e.m=6;try{var s=2<bC(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",vC(e)}}finally{yC(e)}}}function yC(e,t){if(e.g){_C(e);var n=e.g,r=e.C[0]?ox:null;e.g=null,e.C=null,t||vS(e,"ready");try{n.onreadystatechange=r}catch(iV){}}}function _C(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ax.clearTimeout(e.A),e.A=null)}function bC(e){return e.g?e.g.readyState:0}function kC(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case dC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(aI){return null}}function TC(e){var t="";return Zx(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function wC(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TC(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):IE(e,t,n))}function xC(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function SC(e){this.Ca=0,this.i=[],this.j=new jS,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=xC("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=xC("baseRetryDelayMs",5e3,e),this.bb=xC("retryDelaySeedMs",1e4,e),this.$a=xC("forwardChannelMaxRetries",2,e),this.ta=xC("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new WE(e&&e.concurrentRequestLimit),this.Fa=new tC,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function EC(e){if(IC(e),3==e.G){var t=e.U++,n=xE(e.F);IE(n,"SID",e.I),IE(n,"RID",t),IE(n,"TYPE","terminate"),OC(e,n),(t=new aE(e,e.j,t,void 0)).K=2,t.v=AE(xE(n)),n=!1,ax.navigator&&ax.navigator.sendBeacon&&(n=ax.navigator.sendBeacon(t.v.toString(),"")),!n&&ax.Image&&((new Image).src=t.v,n=!0),n||(t.g=HC(t.l,null),t.g.da(t.v)),t.F=Date.now(),mE(t)}zC(e)}function CC(e){e.g&&(MC(e),e.g.cancel(),e.g=null)}function IC(e){CC(e),e.u&&(ax.clearTimeout(e.u),e.u=null),UC(e),e.h.cancel(),e.m&&("number"===typeof e.m&&ax.clearTimeout(e.m),e.m=null)}function AC(e){QE(e.h)||e.m||(e.m=!0,SS(e.Ja,e),e.C=0)}function PC(e,t){var n;n=t?t.m:e.U++;var r=xE(e.F);IE(r,"SID",e.I),IE(r,"RID",n),IE(r,"AID",e.T),OC(e,r),e.o&&e.s&&wC(r,e.o,e.s),n=new aE(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=LC(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),YE(e.h,n),cE(n,r,t)}function OC(e,t){e.ia&&Zx(e.ia,(function(e,n){IE(t,n,e)})),e.l&&kE({},(function(e,n){IE(t,n,e)}))}function LC(e,t,n){n=Math.min(e.i.length,n);var r=e.l?fx(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{nC(c,o,"req"+l+"_")}catch(h){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function DC(e){e.g||e.u||(e.Z=1,SS(e.Ia,e),e.A=0)}function NC(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=QS(fx(e.Ia,e),FC(e,e.A)),e.A++,!0)}function MC(e){null!=e.B&&(ax.clearTimeout(e.B),e.B=null)}function RC(e){e.g=new aE(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=xE(e.sa);IE(t,"RID","rpc"),IE(t,"SID",e.I),IE(t,"CI",e.L?"0":"1"),IE(t,"AID",e.T),IE(t,"TYPE","xmlhttp"),OC(e,t),e.o&&e.s&&wC(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=AE(xE(t)),n.s=null,n.P=!0,hE(n,e)}function UC(e){null!=e.v&&(ax.clearTimeout(e.v),e.v=null)}function jC(e,t){var n=null;if(e.g==t){UC(e),MC(e),e.g=null;var r=2}else{if(!ZE(e.h,t))return;n=t.D,JE(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;vS(r=VS(),new KS(r,n)),AC(e)}else DC(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(XE(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=QS(fx(e.Ja,e,t),FC(e,e.C)),e.C++,!0))}(e,t)||2==r&&NC(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:BC(e,5);break;case 4:BC(e,10);break;case 3:BC(e,6);break;default:BC(e,2)}}function FC(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function BC(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=fx(e.kb,e);n||(n=new wE("//www.google.com/images/cleardot.gif"),ax.location&&"http"==ax.location.protocol||SE(n,"https"),AE(n)),function(e,t){var n=new jS;if(ax.Image){var r=new Image;r.onload=px(rC,n,r,"TestLoadImage: loaded",!0,t),r.onerror=px(rC,n,r,"TestLoadImage: error",!1,t),r.onabort=px(rC,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=px(rC,n,r,"TestLoadImage: timeout",!1,t),ax.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else GS(2);e.G=0,e.l&&e.l.va(t),zC(e),IC(e)}function zC(e){if(e.G=0,e.la=[],e.l){var t=$E(e.h);0==t.length&&0==e.i.length||(_x(e.la,t),_x(e.la,e.i),e.h.i.length=0,yx(e.i),e.i.length=0),e.l.ua()}}function VC(e,t,n){var r=n instanceof wE?xE(n):new wE(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),EE(r,r.m);else{var i=ax.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new wE(null,void 0);r&&SE(a,r),t&&(a.g=t),i&&EE(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&IE(r,n,t),IE(r,"VER",e.ma),OC(e,r),r}function HC(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new hC(new iC({jb:!0})):new hC(e.ra)).Ka(e.H),t}function qC(){}function WC(){if(Px&&!(10<=Number(Hx)))throw Error("Environmental error: no available transport.")}function GC(e,t){mS.call(this),this.g=new SC(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Tx(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tx(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new XC(this)}function KC(e){nE.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function QC(){rE.call(this),this.status=1}function XC(e){this.g=e}(tx=hC.prototype).Ka=function(e){this.L=e},tx.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():eE.g(),this.C=this.u?JS(this.u):JS(eE),this.g.onreadystatechange=fx(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void mC(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=_T(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ax.FormData&&e instanceof ax.FormData,!(0<=gx(pC,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=_T(n);try{for(c.s();!(u=c.n()).done;){var h=l(u.value,2),d=h[0],f=h[1];this.g.setRequestHeader(d,f)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_C(this),0<this.B&&((this.K=function(e){return Px&&zx()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fx(this.qa,this)):this.A=OS(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){mC(this,s)}},tx.qa=function(){"undefined"!=typeof ix&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vS(this,"timeout"),this.abort(8))},tx.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,vS(this,"complete"),vS(this,"abort"),yC(this))},tx.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yC(this,!0)),hC.X.M.call(this)},tx.Ha=function(){this.s||(this.F||this.v||this.l?gC(this):this.fb())},tx.fb=function(){gC(this)},tx.aa=function(){try{return 2<bC(this)?this.g.status:-1}catch(GE){return-1}},tx.fa=function(){try{return this.g?this.g.responseText:""}catch(GE){return""}},tx.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cC(t)}},tx.Ea=function(){return this.m},tx.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(tx=SC.prototype).ma=8,tx.G=1,tx.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new aE(this,this.j,e,void 0),n=this.s;if(this.S&&(n?$x(n=Yx(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=LC(this,t,r),IE(i=xE(this.F),"RID",e),IE(i,"CVER",22),this.D&&IE(i,"X-HTTP-Session-Id",this.D),OC(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(TC(n)))+"&"+r:this.o&&wC(i,this.o,n)),YE(this.h,t),this.Ya&&IE(i,"TYPE","init"),this.O?(IE(i,"$req",r),IE(i,"SID","null"),t.Z=!0,cE(t,i,null)):cE(t,i,r),this.G=2}}else 3==this.G&&(e?PC(this,e):0==this.i.length||QE(this.h)||PC(this))},tx.Ia=function(){if(this.u=null,RC(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=QS(fx(this.eb,this),e)}},tx.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,GS(10),CC(this),RC(this))},tx.cb=function(){null!=this.v&&(this.v=null,CC(this),NC(this),GS(19))},tx.kb=function(e){e?(this.j.info("Successfully pinged google.com"),GS(2)):(this.j.info("Failed to ping google.com"),GS(1))},(tx=qC.prototype).xa=function(){},tx.wa=function(){},tx.va=function(){},tx.ua=function(){},tx.Ra=function(){},WC.prototype.g=function(e,t){return new GC(e,t)},mx(GC,mS),GC.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;GS(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=VC(e,null,e.V),AC(e)},GC.prototype.close=function(){EC(this.g)},GC.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=yS(e),e=n);t.i.push(new qE(t.ab++,e)),3==t.G&&AC(t)},GC.prototype.M=function(){this.g.l=null,delete this.j,EC(this.g),delete this.g,GC.X.M.call(this)},mx(KC,nE),mx(QC,rE),mx(XC,qC),XC.prototype.xa=function(){vS(this.g,"a")},XC.prototype.wa=function(e){vS(this.g,new KC(e))},XC.prototype.va=function(e){vS(this.g,new QC)},XC.prototype.ua=function(){vS(this.g,"b")},WC.prototype.createWebChannel=WC.prototype.g,GC.prototype.send=GC.prototype.u,GC.prototype.open=GC.prototype.m,GC.prototype.close=GC.prototype.close,XS.NO_ERROR=0,XS.TIMEOUT=8,XS.HTTP_ERROR=6,ZS.COMPLETE="complete",$S.EventType=tE,tE.OPEN="a",tE.CLOSE="b",tE.ERROR="c",tE.MESSAGE="d",mS.prototype.listen=mS.prototype.N,hC.prototype.listenOnce=hC.prototype.O,hC.prototype.getLastError=hC.prototype.Oa,hC.prototype.getLastErrorCode=hC.prototype.Ea,hC.prototype.getStatus=hC.prototype.aa,hC.prototype.getResponseJson=hC.prototype.Sa,hC.prototype.getResponseText=hC.prototype.fa,hC.prototype.send=hC.prototype.da,hC.prototype.setWithCredentials=hC.prototype.Ka;var ZC=rx.createWebChannelTransport=function(){return new WC},YC=rx.getStatEventTarget=function(){return VS()},JC=rx.ErrorCode=XS,$C=rx.EventType=ZS,eI=rx.Event=BS,tI=rx.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},nI=rx.FetchXmlHttpFactory=iC,rI=rx.WebChannel=$S,iI=rx.XhrIo=hC,aI="@firebase/firestore",oI=function(){function e(t){d(this,e),this.uid=t}return p(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();oI.UNAUTHENTICATED=new oI(null),oI.GOOGLE_CREDENTIALS=new oI("google-credentials-uid"),oI.FIRST_PARTY=new oI("first-party-uid"),oI.MOCK_USER=new oI("mock-user");var sI="9.15.0",uI=new iw("@firebase/firestore");function lI(){return uI.logLevel}function cI(e){if(uI.logLevel<=YT.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(fI);uI.debug.apply(uI,["Firestore (".concat(sI,"): ").concat(e)].concat(h(i)))}}function hI(e){if(uI.logLevel<=YT.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(fI);uI.error.apply(uI,["Firestore (".concat(sI,"): ").concat(e)].concat(h(i)))}}function dI(e){if(uI.logLevel<=YT.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(fI);uI.warn.apply(uI,["Firestore (".concat(sI,"): ").concat(e)].concat(h(i)))}}function fI(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function pI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(sI,") INTERNAL ASSERTION FAILED: ")+e;throw hI(t),new Error(t)}function mI(e,t){e||pI()}function vI(e,t){return e}var gI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yI=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return p(n)}(MT),_I=p((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),bI=p((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),kI=function(){function e(){d(this,e)}return p(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(oI.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),TI=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return p(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),wI=function(){function e(t){d(this,e),this.t=t,this.currentUser=oI.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new _I;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new _I,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){cI("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(cI("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _I)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(cI("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(mI("string"==typeof n.accessToken),new bI(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return mI(null===e||"string"==typeof e),new oI(e)}}]),e}(),xI=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=oI.FIRST_PARTY,this.p=new Map}return p(e,[{key:"I",value:function(){return this.g?this.g():(mI(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),SI=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return p(e,[{key:"getToken",value:function(){return Promise.resolve(new xI(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(oI.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),EI=p((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),CI=function(){function e(t){d(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&cI("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,cI("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){cI("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):cI("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(mI("string"==typeof t.token),e.A=t.token,new EI(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function II(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var AI=function(){function e(){d(this,e)}return p(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=II(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function PI(e,t){return e<t?-1:e>t?1:0}function OI(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var LI=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new yI(gI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yI(gI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new yI(gI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yI(gI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return p(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?PI(this.nanoseconds,e.nanoseconds):PI(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),DI=function(){function e(t){d(this,e),this.timestamp=t}return p(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new LI(0,0))}},{key:"max",value:function(){return new e(new LI(253402300799,999999999))}}]),e}(),NI=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&pI(),void 0===r?r=t.length-n:r>t.length-n&&pI(),this.segments=t,this.offset=n,this.len=r}return p(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),MI=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new yI(gI.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(NI),RI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,UI=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return RI.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new yI(gI.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new yI(gI.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new yI(gI.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new yI(gI.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(NI),jI=function(){function e(t){d(this,e),this.path=t}return p(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===MI.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(MI.fromString(t))}},{key:"fromName",value:function(t){return new e(MI.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(MI.emptyPath())}},{key:"comparator",value:function(e,t){return MI.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new MI(t.slice()))}}]),e}(),FI=p((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));FI.UNKNOWN_ID=-1;function BI(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=DI.fromTimestamp(1e9===r?new LI(n+1,0):new LI(n,r));return new VI(i,jI.empty(),t)}function zI(e){return new VI(e.readTime,e.key,-1)}var VI=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return p(e,null,[{key:"min",value:function(){return new e(DI.min(),jI.empty(),-1)}},{key:"max",value:function(){return new e(DI.max(),jI.empty(),-1)}}]),e}();function HI(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=jI.comparator(e.documentKey,t.documentKey))?n:PI(e.largestBatchId,t.largestBatchId)}var qI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",WI=function(){function e(){d(this,e),this.onCommittedListeners=[]}return p(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function GI(e){return KI.apply(this,arguments)}function KI(){return KI=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===gI.FAILED_PRECONDITION&&t.message===qI){e.next=2;break}throw t;case 2:cI("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),KI.apply(this,arguments)}var QI=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return p(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&pI(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=_T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function XI(e){return"IndexedDbTransactionError"===e.name}var ZI=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return p(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();ZI.at=-1;var YI=p((function e(t,n,r,i,a,o,s,u){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),JI=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return p(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function $I(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function eA(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function nA(e){return null==e}function rA(e){return 0===e&&1/e==-1/0}function iA(e){return"number"==typeof e&&Number.isInteger(e)&&!rA(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var aA=function(e){function t(e){d(this,t),this.binaryString=e}return p(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return PI(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();aA.EMPTY_BYTE_STRING=new aA("");var oA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sA(e){if(mI(!!e),"string"==typeof e){var t=0,n=oA.exec(e);if(mI(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:uA(e.seconds),nanos:uA(e.nanos)}}function uA(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lA(e){return"string"==typeof e?aA.fromBase64String(e):aA.fromUint8Array(e)}function cA(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hA(e){var t=e.mapValue.fields.__previous_value__;return cA(t)?hA(t):t}function dA(e){var t=sA(e.mapValue.fields.__local_write_time__.timestampValue);return new LI(t.seconds,t.nanos)}var fA={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pA(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cA(e)?4:CA(e)?9007199254740991:10:pI()}function mA(e,t){if(e===t)return!0;var n=pA(e);if(n!==pA(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dA(e).isEqual(dA(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=sA(e.timestampValue),r=sA(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lA(e.bytesValue).isEqual(lA(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return uA(e.geoPointValue.latitude)===uA(t.geoPointValue.latitude)&&uA(e.geoPointValue.longitude)===uA(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return uA(e.integerValue)===uA(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=uA(e.doubleValue),r=uA(t.doubleValue);return n===r?rA(n)===rA(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return OI(e.arrayValue.values||[],t.arrayValue.values||[],mA);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($I(n)!==$I(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!mA(n[i],r[i])))return!1;return!0}(e,t);default:return pI()}}function vA(e,t){return void 0!==(e.values||[]).find((function(e){return mA(e,t)}))}function gA(e,t){if(e===t)return 0;var n=pA(e),r=pA(t);if(n!==r)return PI(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return PI(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=uA(e.integerValue||e.doubleValue),r=uA(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yA(e.timestampValue,t.timestampValue);case 4:return yA(dA(e),dA(t));case 5:return PI(e.stringValue,t.stringValue);case 6:return function(e,t){var n=lA(e),r=lA(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=PI(n[i],r[i]);if(0!==a)return a}return PI(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=PI(uA(e.latitude),uA(t.latitude));return 0!==n?n:PI(uA(e.longitude),uA(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=gA(n[i],r[i]);if(a)return a}return PI(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===fA.mapValue&&t===fA.mapValue)return 0;if(e===fA.mapValue)return 1;if(t===fA.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=PI(r[o],a[o]);if(0!==s)return s;var u=gA(n[r[o]],i[a[o]]);if(0!==u)return u}return PI(r.length,a.length)}(e.mapValue,t.mapValue);default:throw pI()}}function yA(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return PI(e,t);var n=sA(e),r=sA(t),i=PI(n.seconds,r.seconds);return 0!==i?i:PI(n.nanos,r.nanos)}function _A(e){return bA(e)}function bA(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=sA(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?lA(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,jI.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=_T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=bA(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=_T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(bA(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):pI();var t,n}function kA(e){return!!e&&"integerValue"in e}function TA(e){return!!e&&"arrayValue"in e}function wA(e){return!!e&&"nullValue"in e}function xA(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function SA(e){return!!e&&"mapValue"in e}function EA(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return eA(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=EA(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=EA(e.arrayValue.values[r]);return n}return Object.assign({},e)}function CA(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var IA=p((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function AA(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?jI.comparator(jI.fromName(o.referenceValue),n.key):gA(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function PA(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!mA(e.position[n],t.position[n]))return!1;return!0}var OA=p((function e(){d(this,e)})),LA=function(e){v(n,e);var t=T(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(gA(t,this.value)):null!==t&&pA(this.value)===pA(t)&&this.matchesComparison(gA(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pI()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new BA(e,t,r):"array-contains"===t?new qA(e,r):"in"===t?new WA(e,r):"not-in"===t?new GA(e,r):"array-contains-any"===t?new KA(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new zA(e,n):new VA(e,n)}}]),n}(OA),DA=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return p(n,[{key:"matches",value:function(e){return NA(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=_T(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(OA);function NA(e){return"and"===e.op}function MA(e){return RA(e)&&NA(e)}function RA(e){var t,n=_T(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof DA)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function UA(e){if(e instanceof LA)return e.field.canonicalString()+e.op.toString()+_A(e.value);var t=e.filters.map((function(e){return UA(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function jA(e,t){return e instanceof LA?function(e,t){return t instanceof LA&&e.op===t.op&&e.field.isEqual(t.field)&&mA(e.value,t.value)}(e,t):e instanceof DA?function(e,t){return t instanceof DA&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&jA(n,t.filters[r])}),!0)}(e,t):void pI()}function FA(e){return e instanceof LA?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(_A(e.value))}(e):e instanceof DA?function(e){return e.op.toString()+" {"+e.getFilters().map(FA).join(" ,")+"}"}(e):"Filter"}var BA=function(e){v(n,e);var t=T(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=jI.fromName(i.referenceValue),a}return p(n,[{key:"matches",value:function(e){var t=jI.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(LA),zA=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=HA("in",r),i}return p(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(LA),VA=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=HA("not-in",r),i}return p(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(LA);function HA(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return jI.fromName(e.referenceValue)}))}var qA=function(e){v(n,e);var t=T(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return TA(t)&&vA(t.arrayValue,this.value)}}]),n}(LA),WA=function(e){v(n,e);var t=T(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&vA(this.value.arrayValue,t)}}]),n}(LA),GA=function(e){v(n,e);var t=T(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return p(n,[{key:"matches",value:function(e){if(vA(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!vA(this.value.arrayValue,t)}}]),n}(LA),KA=function(e){v(n,e);var t=T(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return p(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!TA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return vA(t.value.arrayValue,e)}))}}]),n}(LA),QA=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function XA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ZA=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||JA.EMPTY}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,JA.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,JA.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new YA(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new YA(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new YA(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new YA(this.root,e,this.comparator,!0)}}]),e}(),YA=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return p(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),JA=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw pI();if(this.right.isRed())throw pI();var e=this.left.check();if(e!==this.right.check())throw pI();return e+(this.isRed()?0:1)}}]),e}();JA.EMPTY=null,JA.RED=!0,JA.BLACK=!1,JA.EMPTY=new(function(){function e(){d(this,e),this.size=0}return p(e,[{key:"key",get:function(){throw pI()}},{key:"value",get:function(){throw pI()}},{key:"color",get:function(){throw pI()}},{key:"left",get:function(){throw pI()}},{key:"right",get:function(){throw pI()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new JA(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var $A=function(){function e(t){d(this,e),this.comparator=t,this.data=new ZA(this.comparator)}return p(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new eP(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new eP(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),eP=function(){function e(t){d(this,e),this.iter=t}return p(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var tP=function(){function e(t){d(this,e),this.fields=t,t.sort(UI.comparator)}return p(e,[{key:"unionWith",value:function(t){var n,r=new $A(UI.comparator),i=_T(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=_T(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=_T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return OI(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),nP=function(){function e(t){d(this,e),this.value=t}return p(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!SA(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=EA(t)}},{key:"setAll",value:function(e){var t=this,n=UI.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=EA(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());SA(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return mA(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];SA(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){eA(t,(function(t,n){return e[t]=n}));var r,i=_T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(EA(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function rP(e){var t=[];return eA(e.fields,(function(e,n){var r=new UI([e]);if(SA(n)){var i=rP(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=_T(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new tP(t)}var iP=function(){function e(t,n,r,i,a,o,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return p(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(DI.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=nP.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=nP.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=DI.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,DI.min(),DI.min(),DI.min(),nP.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,DI.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,DI.min(),DI.min(),nP.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,DI.min(),DI.min(),nP.empty(),2)}}]),e}(),aP=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function oP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new aP(e,t,n,r,i,a,o)}function sP(e){var t=vI(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return UA(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),nA(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return _A(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return _A(e)})).join(",")),t.ft=n}return t.ft}function uP(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!XA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!jA(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!PA(e.startAt,t.startAt)&&PA(e.endAt,t.endAt)}function lP(e){return jI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var cP=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function hP(e,t,n,r,i,a,o,s){return new cP(e,t,n,r,i,a,o,s)}function dP(e){return new cP(e)}function fP(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function pP(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mP(e){var t,n=_T(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function vP(e){return null!==e.collectionGroup}function gP(e){var t=vI(e);if(null===t.dt){t.dt=[];var n=mP(t),r=pP(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new QA(n)),t.dt.push(new QA(UI.keyField(),"asc"));else{var i,a=!1,o=_T(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new QA(UI.keyField(),u))}}}return t.dt}function yP(e){var t=vI(e);if(!t._t)if("F"===t.limitType)t._t=oP(t.path,t.collectionGroup,gP(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=_T(gP(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new QA(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new IA(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new IA(t.startAt.position,t.startAt.inclusive):null;t._t=oP(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function _P(e,t,n){return new cP(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bP(e,t){return uP(yP(e),yP(t))&&e.limitType===t.limitType}function kP(e){return"".concat(sP(yP(e)),"|lt:").concat(e.limitType)}function TP(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return FA(e)})).join(", "),"]")),nA(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return _A(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return _A(e)})).join(",")),"Target(".concat(t,")")}(yP(e)),"; limitType=").concat(e.limitType,")")}function wP(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jI.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=_T(gP(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=_T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=AA(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,gP(e),t))&&!(e.endAt&&!function(e,t,n){var r=AA(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,gP(e),t))}(e,t)}function xP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function SP(e){return function(t,n){var r,i=!1,a=_T(gP(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=EP(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function EP(e,t,n){var r=e.field.isKeyField()?jI.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?gA(r,i):pI()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pI()}}function CP(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rA(t)?"-0":t}}function IP(e){return{integerValue:""+e}}function AP(e,t){return iA(t)?IP(t):CP(e,t)}var PP=p((function e(){d(this,e),this._=void 0}));function OP(e,t,n){return e instanceof NP?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof MP?RP(e,t):e instanceof UP?jP(e,t):function(e,t){var n=DP(e,t),r=BP(n)+BP(e.gt);return kA(n)&&kA(e.gt)?IP(r):CP(e.yt,r)}(e,t)}function LP(e,t,n){return e instanceof MP?RP(e,t):e instanceof UP?jP(e,t):n}function DP(e,t){return e instanceof FP?kA(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var NP=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n)}(PP),MP=function(e){v(n,e);var t=T(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return p(n)}(PP);function RP(e,t){var n,r=zP(t),i=_T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return mA(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var UP=function(e){v(n,e);var t=T(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return p(n)}(PP);function jP(e,t){var n,r=zP(t),i=_T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!mA(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var FP=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return p(n)}(PP);function BP(e){return uA(e.integerValue||e.doubleValue)}function zP(e){return TA(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var VP=p((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),HP=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return p(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function qP(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var WP=p((function e(){d(this,e)}));function GP(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new iO(e.key,HP.none()):new YP(e.key,e.data,HP.none());var n,r=e.data,i=nP.empty(),a=new $A(UI.comparator),o=_T(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new JP(e.key,i,new tP(a.toArray()),HP.none())}function KP(e,t,n){e instanceof YP?function(e,t,n){var r=e.value.clone(),i=eO(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof JP?function(e,t,n){if(qP(e.precondition,t)){var r=eO(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($P(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function QP(e,t,n,r){return e instanceof YP?function(e,t,n,r){if(!qP(e.precondition,t))return n;var i=e.value.clone(),a=tO(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof JP?function(e,t,n,r){if(!qP(e.precondition,t))return n;var i=tO(e.fieldTransforms,r,t),a=t.data;return a.setAll($P(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return qP(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function XP(e,t){var n,r=null,i=_T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=DP(a.transform,o||null);null!=s&&(null===r&&(r=nP.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function ZP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&OI(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof MP&&t instanceof MP||e instanceof UP&&t instanceof UP?OI(e.elements,t.elements,mA):e instanceof FP&&t instanceof FP?mA(e.gt,t.gt):e instanceof NP&&t instanceof NP}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var YP=function(e){v(n,e);var t=T(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(WP),JP=function(e){v(n,e);var t=T(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return p(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(WP);function $P(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function eO(e,t,n){var r=new Map;mI(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,LP(o,s,n[i]))}return r}function tO(e,t,n){var r,i=new Map,a=_T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,OP(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var nO,rO,iO=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(WP),aO=function(e){v(n,e);var t=T(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(WP),oO=p((function e(t){d(this,e),this.count=t}));function sO(e){switch(e){default:return pI();case gI.CANCELLED:case gI.UNKNOWN:case gI.DEADLINE_EXCEEDED:case gI.RESOURCE_EXHAUSTED:case gI.INTERNAL:case gI.UNAVAILABLE:case gI.UNAUTHENTICATED:return!1;case gI.INVALID_ARGUMENT:case gI.NOT_FOUND:case gI.ALREADY_EXISTS:case gI.PERMISSION_DENIED:case gI.FAILED_PRECONDITION:case gI.ABORTED:case gI.OUT_OF_RANGE:case gI.UNIMPLEMENTED:case gI.DATA_LOSS:return!0}}function uO(e){if(void 0===e)return hI("GRPC error has no .code"),gI.UNKNOWN;switch(e){case nO.OK:return gI.OK;case nO.CANCELLED:return gI.CANCELLED;case nO.UNKNOWN:return gI.UNKNOWN;case nO.DEADLINE_EXCEEDED:return gI.DEADLINE_EXCEEDED;case nO.RESOURCE_EXHAUSTED:return gI.RESOURCE_EXHAUSTED;case nO.INTERNAL:return gI.INTERNAL;case nO.UNAVAILABLE:return gI.UNAVAILABLE;case nO.UNAUTHENTICATED:return gI.UNAUTHENTICATED;case nO.INVALID_ARGUMENT:return gI.INVALID_ARGUMENT;case nO.NOT_FOUND:return gI.NOT_FOUND;case nO.ALREADY_EXISTS:return gI.ALREADY_EXISTS;case nO.PERMISSION_DENIED:return gI.PERMISSION_DENIED;case nO.FAILED_PRECONDITION:return gI.FAILED_PRECONDITION;case nO.ABORTED:return gI.ABORTED;case nO.OUT_OF_RANGE:return gI.OUT_OF_RANGE;case nO.UNIMPLEMENTED:return gI.UNIMPLEMENTED;case nO.DATA_LOSS:return gI.DATA_LOSS;default:return pI()}}(rO=nO||(nO={}))[rO.OK=0]="OK",rO[rO.CANCELLED=1]="CANCELLED",rO[rO.UNKNOWN=2]="UNKNOWN",rO[rO.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rO[rO.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rO[rO.NOT_FOUND=5]="NOT_FOUND",rO[rO.ALREADY_EXISTS=6]="ALREADY_EXISTS",rO[rO.PERMISSION_DENIED=7]="PERMISSION_DENIED",rO[rO.UNAUTHENTICATED=16]="UNAUTHENTICATED",rO[rO.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rO[rO.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rO[rO.ABORTED=10]="ABORTED",rO[rO.OUT_OF_RANGE=11]="OUT_OF_RANGE",rO[rO.UNIMPLEMENTED=12]="UNIMPLEMENTED",rO[rO.INTERNAL=13]="INTERNAL",rO[rO.UNAVAILABLE=14]="UNAVAILABLE",rO[rO.DATA_LOSS=15]="DATA_LOSS";var lO=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return p(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=_T(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){eA(this.inner,(function(t,n){var r,i=_T(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return tA(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),cO=new ZA(jI.comparator);function hO(){return cO}var dO=new ZA(jI.comparator);function fO(){for(var e=dO,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function pO(e){var t=dO;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function mO(){return gO()}function vO(){return gO()}function gO(){return new lO((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var yO=new ZA(jI.comparator),_O=new $A(jI.comparator);function bO(){for(var e=_O,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var kO=new $A(PI);function TO(){return kO}var wO=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return p(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,xO.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(DI.min(),i,TO(),hO(),bO())}}]),e}(),xO=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return p(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,bO(),bO(),bO())}}]),e}(),SO=p((function e(t,n,r,i){d(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),EO=p((function e(t,n){d(this,e),this.targetId=t,this.Et=n})),CO=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aA.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),IO=function(){function e(){d(this,e),this.At=0,this.Rt=OO(),this.bt=aA.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return p(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=bO(),t=bO(),n=bO();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pI()}})),new xO(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=OO()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),AO=function(){function e(t){d(this,e),this.$t=t,this.Bt=new Map,this.Lt=hO(),this.qt=PO(),this.Ut=new $A(PI)}return p(e,[{key:"Kt",value:function(e){var t,n=_T(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=_T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:pI()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(lP(i))if(0===n){var a=new jI(i.path);this.Qt(t,a,iP.newNoDocument(a,DI.min()))}else mI(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&lP(a.target)){var o=new jI(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,iP.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=bO();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new wO(e,n,this.Ut,this.Lt,r);return this.Lt=hO(),this.qt=PO(),this.Ut=new $A(PI),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new IO,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new $A(PI),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||cI("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new IO),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function PO(){return new ZA(jI.comparator)}function OO(){return new ZA(jI.comparator)}var LO={asc:"ASCENDING",desc:"DESCENDING"},DO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NO={and:"AND",or:"OR"},MO=p((function e(t,n){d(this,e),this.databaseId=t,this.wt=n}));function RO(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function UO(e,t){return e.wt?t.toBase64():t.toUint8Array()}function jO(e,t){return RO(e,t.toTimestamp())}function FO(e){return mI(!!e),DI.fromTimestamp(function(e){var t=sA(e);return new LI(t.seconds,t.nanos)}(e))}function BO(e,t){return function(e){return new MI(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zO(e){var t=MI.fromString(e);return mI(sL(t)),t}function VO(e,t){return BO(e.databaseId,t.path)}function HO(e,t){var n=zO(t);if(n.get(1)!==e.databaseId.projectId)throw new yI(gI.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yI(gI.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jI(KO(n))}function qO(e,t){return BO(e.databaseId,t)}function WO(e){var t=zO(e);return 4===t.length?MI.emptyPath():KO(t)}function GO(e){return new MI(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function KO(e){return mI(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function QO(e,t,n){return{name:VO(e,t),fields:n.value.mapValue.fields}}function XO(e,t){var n;if(t instanceof YP)n={update:QO(e,t.key,t.value)};else if(t instanceof iO)n={delete:VO(e,t.key)};else if(t instanceof JP)n={update:QO(e,t.key,t.data),updateMask:oL(t.fieldMask)};else{if(!(t instanceof aO))return pI();n={verify:VO(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof NP)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof MP)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof UP)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof FP)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw pI()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jO(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pI()}(e,t.precondition)),n}function ZO(e,t){return{documents:[qO(e,t.path)]}}function YO(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=qO(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=qO(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return aL(DA.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:rL(e.field),direction:eL(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||nA(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function JO(e){var t=WO(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){mI(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=$O(e);return t instanceof DA&&MA(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new QA(iL(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return nA(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new IA(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new IA(n,t)}(n.endAt)),hP(t,i,s,o,u,"F",l,c)}function $O(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=iL(e.unaryFilter.field);return LA.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=iL(e.unaryFilter.field);return LA.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=iL(e.unaryFilter.field);return LA.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=iL(e.unaryFilter.field);return LA.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pI()}}(e):void 0!==e.fieldFilter?function(e){return LA.create(iL(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pI()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return DA.create(e.compositeFilter.filters.map((function(e){return $O(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pI()}}(e.compositeFilter.op))}(e):pI()}function eL(e){return LO[e]}function tL(e){return DO[e]}function nL(e){return NO[e]}function rL(e){return{fieldPath:e.canonicalString()}}function iL(e){return UI.fromServerFormat(e.fieldPath)}function aL(e){return e instanceof LA?function(e){if("=="===e.op){if(xA(e.value))return{unaryFilter:{field:rL(e.field),op:"IS_NAN"}};if(wA(e.value))return{unaryFilter:{field:rL(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xA(e.value))return{unaryFilter:{field:rL(e.field),op:"IS_NOT_NAN"}};if(wA(e.value))return{unaryFilter:{field:rL(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rL(e.field),op:tL(e.op),value:e.value}}}(e):e instanceof DA?function(e){var t=e.getFilters().map((function(e){return aL(e)}));return 1===t.length?t[0]:{compositeFilter:{op:nL(e.op),filters:t}}}(e):pI()}function oL(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function sL(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var uL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),lL=([].concat(h(uL),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),cL=lL;[].concat(cL,["indexConfiguration","indexState","indexEntries"]);var hL=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return p(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&KP(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=_T(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=QP(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=_T(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=QP(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=vO();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=GP(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(DI.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),bO())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&OI(this.mutations,e.mutations,(function(e,t){return ZP(e,t)}))&&OI(this.baseMutations,e.baseMutations,(function(e,t){return ZP(e,t)}))}}]),e}(),dL=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return p(e,null,[{key:"from",value:function(t,n,r){mI(t.mutations.length===r.length);for(var i=yO,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),fL=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return p(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),pL=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:DI.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:DI.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:aA.EMPTY_BYTE_STRING;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return p(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),mL=p((function e(t){d(this,e),this.ie=t}));function vL(e){var t=JO({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_P(t,t.limit,"L"):t}var gL=function(){function e(){d(this,e)}return p(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(uA(e.integerValue));else if("doubleValue"in e){var n=uA(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),rA(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(lA(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?CA(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):pI()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=_T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),jI.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();gL.Ie=new gL;var yL=function(){function e(){d(this,e),this.Je=new _L}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),QI.resolve()}},{key:"getCollectionParents",value:function(e,t){return QI.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return QI.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return QI.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return QI.resolve(null)}},{key:"getIndexType",value:function(e,t){return QI.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return QI.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return QI.resolve(null)}},{key:"getMinOffset",value:function(e,t){return QI.resolve(VI.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return QI.resolve(VI.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return QI.resolve()}},{key:"updateIndexEntries",value:function(e,t){return QI.resolve()}}]),e}(),_L=function(){function e(){d(this,e),this.index={}}return p(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $A(MI.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new $A(MI.comparator)).toArray()}}]),e}();new Uint8Array(0);var bL=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return p(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();bL.DEFAULT_COLLECTION_PERCENTILE=10,bL.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bL.DEFAULT=new bL(41943040,bL.DEFAULT_COLLECTION_PERCENTILE,bL.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bL.DISABLED=new bL(-1,0,0);var kL=function(){function e(t){d(this,e),this.bn=t}return p(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var TL=function(){function e(){d(this,e),this.changes=new lO((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return p(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,iP.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?QI.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var wL=p((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),xL=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return p(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&QP(r.mutation,e,tP.empty(),LI.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,bO()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bO(),i=mO();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=fO();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=mO();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,bO())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=hO(),a=gO(),o=gO();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof JP)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),QP(o.mutation,t,o.mutation.getFieldMask(),LI.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new wL(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=gO(),i=new ZA((function(e,t){return e-t})),a=bO();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=_T(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||tP.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||bO()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=vO();l.forEach((function(e){if(!a.has(e)){var n=GP(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return QI.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return jI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):QI.resolve(mO()),s=-1,u=a;return o.next((function(t){return QI.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?QI.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,bO())})).next((function(e){return{batchId:s,changes:pO(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new jI(t)).next((function(e){var t=fO();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=fO();return this.indexManager.getCollectionParents(e,i).next((function(o){return QI.forEach(o,(function(o){var s=function(e,t){return new cP(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,iP.newInvalidDocument(n)))}));var n=fO();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&QP(a.mutation,i,tP.empty(),LI.now()),wP(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),SL=function(){function e(t){d(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return p(e,[{key:"getBundleMetadata",value:function(e,t){return QI.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:FO(n.createTime)}),QI.resolve()}},{key:"getNamedQuery",value:function(e,t){return QI.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:vL(e.bundledQuery),readTime:FO(e.readTime)}}(t)),QI.resolve()}}]),e}(),EL=function(){function e(){d(this,e),this.overlays=new ZA(jI.comparator),this.es=new Map}return p(e,[{key:"getOverlay",value:function(e,t){return QI.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=mO();return QI.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),QI.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),QI.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=mO(),i=t.length+1,a=new jI(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return QI.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ZA((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=mO(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=mO(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return QI.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new fL(t,n));var a=this.es.get(t);void 0===a&&(a=bO(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),CL=function(){function e(){d(this,e),this.ns=new $A(IL.ss),this.rs=new $A(IL.os)}return p(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new IL(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new IL(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new jI(new MI([])),r=new IL(n,e),i=new IL(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new jI(new MI([])),n=new IL(t,e),r=new IL(t,e+1),i=bO();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new IL(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),IL=function(){function e(t,n){d(this,e),this.key=t,this._s=n}return p(e,null,[{key:"ss",value:function(e,t){return jI.comparator(e.key,t.key)||PI(e._s,t._s)}},{key:"os",value:function(e,t){return PI(e._s,t._s)||jI.comparator(e.key,t.key)}}]),e}(),AL=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new $A(IL.ss)}return p(e,[{key:"checkEmpty",value:function(e){return QI.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new hL(i,t,n,r);this.mutationQueue.push(a);var o,s=_T(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new IL(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return QI.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return QI.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return QI.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return QI.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return QI.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new IL(t,0),i=new IL(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),QI.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new $A(PI);return t.forEach((function(e){var t=new IL(e,0),i=new IL(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),QI.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;jI.isDocumentKey(i)||(i=i.child(""));var a=new IL(new jI(i),0),o=new $A(PI);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),QI.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;mI(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return QI.forEach(t.mutations,(function(i){var a=new IL(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new IL(t,0),r=this.gs.firstAfterOrEqual(n);return QI.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,QI.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),PL=function(){function e(t){d(this,e),this.Es=t,this.docs=new ZA(jI.comparator),this.size=0}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return QI.resolve(n?n.document.mutableCopy():iP.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hO();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():iP.newInvalidDocument(e))})),QI.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=hO(),i=new jI(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||HI(zI(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return QI.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){pI()}},{key:"As",value:function(e,t){return QI.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new OL(this)}},{key:"getSize",value:function(e){return QI.resolve(this.size)}}]),e}(),OL=function(e){v(n,e);var t=T(n);function n(e){var r;return d(this,n),(r=t.call(this)).Yn=e,r}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),QI.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(TL),LL=function(){function e(t){d(this,e),this.persistence=t,this.Rs=new lO((function(e){return sP(e)}),uP),this.lastRemoteSnapshotVersion=DI.min(),this.highestTargetId=0,this.bs=0,this.Ps=new CL,this.targetCount=0,this.vs=kL.Pn()}return p(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),QI.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return QI.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return QI.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),QI.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),QI.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new kL(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,QI.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),QI.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,QI.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),QI.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return QI.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return QI.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),QI.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),QI.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),QI.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return QI.resolve(n)}},{key:"containsKey",value:function(e,t){return QI.resolve(this.Ps.containsKey(t))}}]),e}(),DL=function(){function e(t,n){var r=this;d(this,e),this.Vs={},this.overlays={},this.Ss=new ZI(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new LL(this),this.indexManager=new yL,this.remoteDocumentCache=new PL((function(e){return r.referenceDelegate.xs(e)})),this.yt=new mL(n),this.Ns=new SL(this.yt)}return p(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new EL,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new AL(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;cI("MemoryPersistence","Starting transaction:",e);var i=new NL(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return QI.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),NL=function(e){v(n,e);var t=T(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return p(n)}(WI),ML=function(){function e(t){d(this,e),this.persistence=t,this.Fs=new CL,this.$s=null}return p(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw pI()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),QI.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),QI.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),QI.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return QI.forEach(this.Ls,(function(r){var i=jI.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,DI.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return QI.or([function(){return QI.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var RL=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return p(e,null,[{key:"Ci",value:function(t,n){var r,i=bO(),a=bO(),o=_T(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),UL=function(){function e(){d(this,e),this.xi=!1}return p(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(fP(t))return QI.resolve(null);var r=yP(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=_P(t,null,"F"),r=yP(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=bO.apply(void 0,h(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,_P(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return fP(t)||r.isEqual(DI.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(lI()<=YT.DEBUG&&cI("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),TP(t)),i.Bi(e,o,t,BI(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new $A(SP(e));return t.forEach((function(t,r){wP(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return lI()<=YT.DEBUG&&cI("QueryEngine","Using full collection scan to execute query:",TP(t)),this.Ni.getDocumentsMatchingQuery(e,t,VI.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),jL=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new ZA(PI),this.Ui=new lO((function(e){return sP(e)}),uP),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return p(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function FL(e,t,n,r){return new jL(e,t,n,r)}function BL(e,t){return zL.apply(this,arguments)}function zL(){return zL=Xc(Kc().mark((function e(t,n){var r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vI(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=bO(),u=_T(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,h=_T(l.mutations);try{for(h.s();!(c=h.n()).done;){var d=c.value;s=s.add(d.key)}}catch(_){h.e(_)}finally{h.f()}}}catch(_){u.e(_)}finally{u.f()}var f,p=_T(n);try{for(p.s();!(f=p.n()).done;){var m=f.value;o.push(m.batchId);var v,g=_T(m.mutations);try{for(g.s();!(v=g.n()).done;){var y=v.value;s=s.add(y.key)}}catch(_){g.e(_)}finally{g.f()}}}catch(_){p.e(_)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),zL.apply(this,arguments)}function VL(e,t){var n=vI(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=QI.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);mI(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=bO(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function HL(e){var t=vI(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function qL(e,t){var n=vI(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(aA.EMPTY_BYTE_STRING,DI.min()).withLastLimboFreeSnapshotVersion(DI.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Cs.updateTargetData(e,l))}}));var s=hO(),u=bO();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(WL(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(DI.min())){var l=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return QI.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function WL(e,t,n){var r=bO(),i=bO();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=hO();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(DI.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):cI("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function GL(e,t){var n=vI(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function KL(e,t){var n=vI(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,QI.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new pL(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function QL(e,t,n){return XL.apply(this,arguments)}function XL(){return XL=Xc(Kc().mark((function e(t,n,r){var i,a,o;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=vI(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),XI(e.t1)){e.next=12;break}throw e.t1;case 12:cI("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),XL.apply(this,arguments)}function ZL(e,t,n){var r=vI(e),i=DI.min(),a=bO();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=vI(e),i=r.Ui.get(n);return void 0!==i?QI.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,yP(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:DI.min(),n?a:bO())})).next((function(e){return YL(r,xP(t),e),{documents:e,Hi:a}}))}))}function YL(e,t,n){var r=e.Ki.get(t)||DI.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var JL=function(){function e(){d(this,e),this.activeTargetIds=TO()}return p(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),$L=function(){function e(){d(this,e),this.Lr=new JL,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return p(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new JL,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),eD=function(){function e(){d(this,e)}return p(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),tD=function(){function e(){var t=this;d(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return p(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){cI("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=_T(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){cI("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=_T(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),nD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},rD=function(){function e(t){d(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return p(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),iD=function(e){v(n,e);var t=T(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return p(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new iI;o.setWithCredentials(!0),o.listenOnce($C.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case JC.NO_ERROR:var t=o.getResponseJson();cI("Connection","XHR received:",JSON.stringify(t)),i(t);break;case JC.TIMEOUT:cI("Connection",'RPC "'+e+'" timed out'),a(new yI(gI.DEADLINE_EXCEEDED,"Request time out"));break;case JC.HTTP_ERROR:var n=o.getStatus();if(cI("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(gI).indexOf(t)>=0?t:gI.UNKNOWN}(s.status);a(new yI(u,s.message))}else a(new yI(gI.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new yI(gI.UNAVAILABLE,"Connection failed."));break;default:pI()}}finally{cI("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ZC(),a=YC(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new nI({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");cI("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,h=new rD({Hr:function(e){c?cI("Connection","Not sending because WebChannel is closed:",e):(l||(cI("Connection","Opening WebChannel transport."),u.open(),l=!0),cI("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(u,rI.EventType.OPEN,(function(){c||cI("Connection","WebChannel transport opened.")})),d(u,rI.EventType.CLOSE,(function(){c||(c=!0,cI("Connection","WebChannel transport closed"),h.io())})),d(u,rI.EventType.ERROR,(function(e){c||(c=!0,dI("Connection","WebChannel transport errored:",e),h.io(new yI(gI.UNAVAILABLE,"The operation could not be completed")))})),d(u,rI.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];mI(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){cI("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=nO[e];if(void 0!==t)return uO(t)}(a),s=i.message;void 0===o&&(o=gI.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,h.io(new yI(o,s)),u.close()}else cI("Connection","WebChannel received:",n),h.ro(n)}})),d(a,eI.STAT_EVENT,(function(e){e.stat===tI.PROXY?cI("Connection","Detected buffering proxy"):e.stat===tI.NOPROXY&&cI("Connection","Detected no buffering proxy")})),setTimeout((function(){h.so()}),0),h}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return p(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);cI("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return cI("RestConnection","Received: ",e),e}),(function(t){throw dI("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sI,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=nD[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function aD(){return"undefined"!=typeof document?document:null}function oD(e){return new MO(e,!0)}var sD=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return p(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&cI("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),uD=function(){function e(t,n,r,i,a,o,s,u){d(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new sD(t,n)}return p(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===gI.RESOURCE_EXHAUSTED?(hI(n.toString()),hI("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===gI.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new yI(gI.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Xc(Kc().mark((function t(){return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return cI("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(cI("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),lD=function(e){v(n,e);var t=T(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return p(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pI()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(mI(void 0===t||"string"==typeof t),aA.fromBase64String(t||"")):(mI(void 0===t||t instanceof Uint8Array),aA.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?gI.UNKNOWN:uO(e.code);return new yI(t,e.message||"")}(o);n=new CO(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=HO(e,u.document.name),c=FO(u.document.updateTime),h=u.document.createTime?FO(u.document.createTime):DI.min(),d=new nP({mapValue:{fields:u.document.fields}}),f=iP.newFoundDocument(l,c,h,d),p=u.targetIds||[],m=u.removedTargetIds||[];n=new SO(p,m,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var g=HO(e,v.document),y=v.readTime?FO(v.readTime):DI.min(),_=iP.newNoDocument(g,y),b=v.removedTargetIds||[];n=new SO([],b,_.key,_)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var T=HO(e,k.document),w=k.removedTargetIds||[];n=new SO([],w,T,null)}else{if(!("filter"in t))return pI();t.filter;var x=t.filter;x.targetId;var S=x.count||0,E=new oO(S),C=x.targetId;n=new EO(C,E)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return DI.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?DI.min():t.readTime?FO(t.readTime):DI.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=GO(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=lP(r)?{documents:ZO(e,r)}:{query:YO(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=UO(e,t.resumeToken):t.snapshotVersion.compareTo(DI.min())>0&&(n.readTime=RO(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pI()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=GO(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(uD),cD=function(e){v(n,e);var t=T(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return p(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Jc(g(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(mI(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(mI(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?FO(e.updateTime):FO(t);return n.isEqual(DI.min())&&(n=FO(t)),new VP(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=FO(e.commitTime);return this.listener.Zo(n,t)}return mI(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=GO(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return XO(t.yt,e)}))};this.Bo(n)}}]),n}(uD),hD=function(e){v(n,e);var t=T(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return p(n,[{key:"su",value:function(){if(this.nu)throw new yI(gI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gI.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new yI(gI.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gI.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new yI(gI.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return p((function e(){d(this,e)}))}());var dD=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return p(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(hI(t),this.ou=!1):cI("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),fD=p((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=xD(o),!e.t0){e.next=5;break}return cI("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=vI(t))._u.add(4),e.next=4,vD(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,pD(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new dD(r,i)}));function pD(e){return mD.apply(this,arguments)}function mD(){return mD=Xc(Kc().mark((function e(t){var n,r,i;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xD(t)){e.next=18;break}n=_T(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),mD.apply(this,arguments)}function vD(e){return gD.apply(this,arguments)}function gD(){return gD=Xc(Kc().mark((function e(t){var n,r,i;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_T(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),gD.apply(this,arguments)}function yD(e,t){var n=vI(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),wD(n)?TD(n):$D(n).ko()&&bD(n,t))}function _D(e,t){var n=vI(e),r=$D(n);n.du.delete(t),r.ko()&&kD(n,t),0===n.du.size&&(r.ko()?r.Fo():xD(n)&&n.gu.set("Unknown"))}function bD(e,t){e.yu.Ot(t.targetId),$D(e).zo(t)}function kD(e,t){e.yu.Ot(t),$D(e).Ho(t)}function TD(e){e.yu=new AO({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),$D(e).start(),e.gu.uu()}function wD(e){return xD(e)&&!$D(e).No()&&e.du.size>0}function xD(e){return 0===vI(e)._u.size}function SD(e){e.yu=void 0}function ED(e){return CD.apply(this,arguments)}function CD(){return CD=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){bD(t,e)}));case 1:case"end":return e.stop()}}),e)}))),CD.apply(this,arguments)}function ID(e,t){return AD.apply(this,arguments)}function AD(){return AD=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:SD(t),wD(t)?(t.gu.hu(n),TD(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),AD.apply(this,arguments)}function PD(e,t,n){return OD.apply(this,arguments)}function OD(){return OD=Xc(Kc().mark((function e(t,n,r){var i;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof CO&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Xc(Kc().mark((function e(t,n){var r,i,a,o;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=_T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),cI("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,LD(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof SO?t.yu.Kt(n):n instanceof EO?t.yu.Jt(n):t.yu.jt(n),r.isEqual(DI.min())){e.next=29;break}return e.prev=14,e.next=17,HL(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(aA.EMPTY_BYTE_STRING,n.snapshotVersion)),kD(e,t);var r=new pL(n.target,t,1,n.sequenceNumber);bD(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),cI("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,LD(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),OD.apply(this,arguments)}function LD(e,t,n){return DD.apply(this,arguments)}function DD(){return DD=Xc(Kc().mark((function e(t,n,r){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(XI(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,vD(t);case 5:t.gu.set("Offline"),r||(r=function(){return HL(t.localStore)}),t.asyncQueue.enqueueRetryable(Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cI("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,pD(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),DD.apply(this,arguments)}function ND(e,t){return t().catch((function(n){return LD(e,n,t)}))}function MD(e){return RD.apply(this,arguments)}function RD(){return RD=Xc(Kc().mark((function e(t){var n,r,i,a;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vI(t),r=eN(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!UD(n)){e.next=19;break}return e.prev=3,e.next=6,GL(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,jD(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,LD(n,e.t0);case 17:e.next=2;break;case 19:FD(n)&&BD(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),RD.apply(this,arguments)}function UD(e){return xD(e)&&e.fu.length<10}function jD(e,t){e.fu.push(t);var n=eN(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function FD(e){return xD(e)&&!eN(e).No()&&e.fu.length>0}function BD(e){eN(e).start()}function zD(e){return VD.apply(this,arguments)}function VD(){return VD=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:eN(t).eu();case 1:case"end":return e.stop()}}),e)}))),VD.apply(this,arguments)}function HD(e){return qD.apply(this,arguments)}function qD(){return qD=Xc(Kc().mark((function e(t){var n,r,i,a;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=eN(t),r=_T(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),qD.apply(this,arguments)}function WD(e,t,n){return GD.apply(this,arguments)}function GD(){return GD=Xc(Kc().mark((function e(t,n,r){var i,a;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=dL.from(i,n,r),e.next=3,ND(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,MD(t);case 5:case"end":return e.stop()}}),e)}))),GD.apply(this,arguments)}function KD(e,t){return QD.apply(this,arguments)}function QD(){return QD=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&eN(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Xc(Kc().mark((function e(t,n){var r,i;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sO(i=n.code)||i===gI.ABORTED){e.next=7;break}return r=t.fu.shift(),eN(t).Mo(),e.next=5,ND(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,MD(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:FD(t)&&BD(t);case 5:case"end":return e.stop()}}),e)}))),QD.apply(this,arguments)}function XD(e,t){return ZD.apply(this,arguments)}function ZD(){return ZD=Xc(Kc().mark((function e(t,n){var r,i;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=vI(t)).asyncQueue.verifyOperationInProgress(),cI("RemoteStore","RemoteStore received new credentials"),i=xD(r),r._u.add(3),e.next=6,vD(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,pD(r);case 12:case"end":return e.stop()}}),e)}))),ZD.apply(this,arguments)}function YD(e,t){return JD.apply(this,arguments)}function JD(){return JD=Xc(Kc().mark((function e(t,n){var r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vI(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,pD(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,vD(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),JD.apply(this,arguments)}function $D(e){return e.pu||(e.pu=function(e,t,n){var r=vI(e);return r.su(),new lD(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:ED.bind(null,e),Zr:ID.bind(null,e),Wo:PD.bind(null,e)}),e.wu.push(function(){var t=Xc(Kc().mark((function t(n){return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),wD(e)?TD(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:SD(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function eN(e){return e.Iu||(e.Iu=function(e,t,n){var r=vI(e);return r.su(),new cD(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:zD.bind(null,e),Zr:KD.bind(null,e),tu:HD.bind(null,e),Zo:WD.bind(null,e)}),e.wu.push(function(){var t=Xc(Kc().mark((function t(n){return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,MD(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(cI("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var tN=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _I,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return p(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yI(gI.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function nN(e,t){if(hI("AsyncQueue","".concat(t,": ").concat(e)),XI(e))return new yI(gI.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var rN=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||jI.comparator(e.key,n.key)}:function(e,t){return jI.comparator(e.key,t.key)},this.keyedMap=fO(),this.sortedSet=new ZA(this.comparator)}return p(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),iN=function(){function e(){d(this,e),this.Tu=new ZA(jI.comparator)}return p(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):pI():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),aN=function(){function e(t,n,r,i,a,o,s,u,l){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return p(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bP(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,rN.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),oN=p((function e(){d(this,e),this.Au=void 0,this.listeners=[]})),sN=p((function e(){d(this,e),this.queries=new lO((function(e){return kP(e)}),bP),this.onlineState="Unknown",this.Ru=new Set}));function uN(e,t){return lN.apply(this,arguments)}function lN(){return lN=Xc(Kc().mark((function e(t,n){var r,i,a,o,s;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vI(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new oN),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=nN(e.t0,"Initialization of query '".concat(TP(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&pN(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),lN.apply(this,arguments)}function cN(e,t){return hN.apply(this,arguments)}function hN(){return hN=Xc(Kc().mark((function e(t,n){var r,i,a,o,s;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vI(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),hN.apply(this,arguments)}function dN(e,t){var n,r=vI(e),i=!1,a=_T(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=_T(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Pu(o)&&(i=!0)}}catch(h){c.e(h)}finally{c.f()}u.Au=o}}}catch(h){a.e(h)}finally{a.f()}i&&pN(r)}function fN(e,t,n){var r=vI(e),i=r.queries.get(t);if(i){var a,o=_T(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function pN(e){e.Ru.forEach((function(e){e.next()}))}var mN=function(){function e(t,n,r){d(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return p(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=_T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new aN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=aN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}();var vN=p((function e(t){d(this,e),this.key=t})),gN=p((function e(t){d(this,e),this.key=t})),yN=function(){function e(t,n){d(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=bO(),this.mutatedKeys=bO(),this.Gu=SP(t),this.Qu=new rN(this.Gu)}return p(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new iN,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),h=wP(n.query,t)?t:null,d=!!c&&n.mutatedKeys.has(c.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Hu(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Gu(h,u)>0||l&&n.Gu(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(o=o.add(h),a=f?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pI()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new aN(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new iN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=bO(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new gN(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new vN(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=bO();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return aN.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),_N=p((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),bN=p((function e(t){d(this,e),this.key=t,this.nc=!1})),kN=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new lO((function(e){return kP(e)}),bP),this.rc=new Map,this.oc=new Set,this.uc=new ZA(jI.comparator),this.cc=new Map,this.ac=new CL,this.hc={},this.lc=new Map,this.fc=kL.vn(),this.onlineState="Unknown",this.dc=void 0}return p(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function TN(e,t){return wN.apply(this,arguments)}function wN(){return wN=Xc(Kc().mark((function e(t,n){var r,i,a,o,s,u;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=YN(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,KL(r.localStore,yP(n));case 8:return s=e.sent,r.isPrimaryClient&&yD(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,xN(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),wN.apply(this,arguments)}function xN(e,t,n,r,i){return SN.apply(this,arguments)}function SN(){return SN=Xc(Kc().mark((function e(t,n,r,i,a){var o,s,u,l,c,h;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Xc(Kc().mark((function e(t,n,r,i){var a,o,s;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,ZL(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(HN(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ZL(t.localStore,n,!0);case 3:return o=e.sent,s=new yN(n,o.Hi),u=s.Wu(o.documents),l=xO.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=s.applyChanges(u,t.isPrimaryClient,l),HN(t,r,c.Xu),h=new _N(n,r,s),e.abrupt("return",(t.ic.set(n,h),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),SN.apply(this,arguments)}function EN(e,t){return CN.apply(this,arguments)}function CN(){return CN=Xc(Kc().mark((function e(t,n){var r,i,a;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vI(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!bP(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,QL(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),_D(r.remoteStore,i.targetId),zN(r,i.targetId)})).catch(GI);case 9:e.next=14;break;case 11:return zN(r,i.targetId),e.next=14,QL(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),CN.apply(this,arguments)}function IN(e,t,n){return AN.apply(this,arguments)}function AN(){return AN=Xc(Kc().mark((function e(t,n,r){var i,a,o;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JN(t),e.prev=1,e.next=4,function(e,t){var n,r,i=vI(e),a=LI.now(),o=t.reduce((function(e,t){return e.add(t.key)}),bO());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=hO(),u=bO();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=_T(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=XP(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new JP(l.key,c,rP(c.value.mapValue),HP.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:pO(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new ZA(PI)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,GN(i,a.changes);case 9:return e.next=11,MD(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=nN(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),AN.apply(this,arguments)}function PN(e,t){return ON.apply(this,arguments)}function ON(){return ON=Xc(Kc().mark((function e(t,n){var r,i;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vI(t),e.prev=1,e.next=4,qL(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(mI(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?mI(n.nc):e.removedDocuments.size>0&&(mI(n.nc),n.nc=!1))})),e.next=8,GN(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,GI(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ON.apply(this,arguments)}function LN(e,t,n){var r=vI(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=vI(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=_T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&pN(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function DN(e,t,n){return NN.apply(this,arguments)}function NN(){return NN=Xc(Kc().mark((function e(t,n,r){var i,a,o,s,u,l;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=vI(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new ZA(jI.comparator)).insert(o,iP.newNoDocument(o,DI.min())),u=bO().add(o),l=new wO(DI.min(),new Map,new $A(PI),s,u),e.next=9,PN(i,l);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),WN(i),e.next=16;break;case 14:return e.next=16,QL(i.localStore,n,!1).then((function(){return zN(i,n,r)})).catch(GI);case 16:case"end":return e.stop()}}),e)}))),NN.apply(this,arguments)}function MN(e,t){return RN.apply(this,arguments)}function RN(){return RN=Xc(Kc().mark((function e(t,n){var r,i,a;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vI(t),i=n.batch.batchId,e.prev=1,e.next=4,VL(r.localStore,n);case 4:return a=e.sent,BN(r,i,null),FN(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,GN(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,GI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),RN.apply(this,arguments)}function UN(e,t,n){return jN.apply(this,arguments)}function jN(){return jN=Xc(Kc().mark((function e(t,n,r){var i,a;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vI(t),e.prev=1,e.next=4,function(e,t){var n=vI(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return mI(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,BN(i,n,r),FN(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,GN(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,GI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),jN.apply(this,arguments)}function FN(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function BN(e,t,n){var r=vI(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function zN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=_T(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||VN(e,t)}))}function VN(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(_D(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),WN(e))}function HN(e,t,n){var r,i=_T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof vN?(e.ac.addReference(a.key,t),qN(e,a)):a instanceof gN?(cI("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||VN(e,a.key)):pI()}}catch(o){i.e(o)}finally{i.f()}}function qN(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(cI("SyncEngine","New document in limbo: "+n),e.oc.add(r),WN(e))}function WN(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new jI(MI.fromString(t)),r=e.fc.next();e.cc.set(r,new bN(n)),e.uc=e.uc.insert(n,r),yD(e.remoteStore,new pL(yP(dP(n.path)),r,2,ZI.at))}}function GN(e,t,n){return KN.apply(this,arguments)}function KN(){return KN=Xc(Kc().mark((function e(t,n,r){var i,a,o,s;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=vI(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=RL.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Xc(Kc().mark((function e(t,n){var r,i,a,o,s,u,l,c;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vI(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return QI.forEach(n,(function(t){return QI.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return QI.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),XI(e.t0)){e.next=10;break}throw e.t0;case 10:cI("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=_T(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.qi=r.qi.insert(s,c))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),KN.apply(this,arguments)}function QN(e,t){return XN.apply(this,arguments)}function XN(){return XN=Xc(Kc().mark((function e(t,n){var r,i;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=vI(t)).currentUser.isEqual(n)){e.next=11;break}return cI("SyncEngine","User change. New user:",n.toKey()),e.next=5,BL(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new yI(gI.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,GN(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),XN.apply(this,arguments)}function ZN(e,t){var n=vI(e),r=n.cc.get(t);if(r&&r.nc)return bO().add(r.key);var i=bO(),a=n.rc.get(t);if(!a)return i;var o,s=_T(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.ic.get(u);i=i.unionWith(l.view.ju)}}catch(c){s.e(c)}finally{s.f()}return i}function YN(e){var t=vI(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=PN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DN.bind(null,t),t.sc.Wo=dN.bind(null,t.eventManager),t.sc.wc=fN.bind(null,t.eventManager),t}function JN(e){var t=vI(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UN.bind(null,t),t}var $N=function(){function e(){d(this,e),this.synchronizeTabs=!1}return p(e,[{key:"initialize",value:function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=oD(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return FL(this.persistence,new UL,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new DL(ML.Bs,this.yt)}},{key:"gc",value:function(e){return new $L}},{key:"terminate",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),eM=function(){function e(){d(this,e)}return p(e,[{key:"initialize",value:function(){var e=Xc(Kc().mark((function e(t,n){var r=this;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return LN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=QN.bind(null,this.syncEngine),e.next=12,YD(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new sN}},{key:"createDatastore",value:function(e){var t,n=oD(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new iD(t));return function(e,t,n,r){return new hD(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return LN(o.syncEngine,e,0)},a=tD.C()?new tD:new eD,new fD(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new kN(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vI(t),cI("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,vD(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function tM(e,t,n){if(!n)throw new yI(gI.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function nM(e){if(!jI.isDocumentKey(e))throw new yI(gI.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rM(e){if(jI.isDocumentKey(e))throw new yI(gI.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function iM(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":pI()}function aM(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yI(gI.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iM(e);throw new yI(gI.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var oM=new Map,sM=function(){function e(t){var n;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new yI(gI.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yI(gI.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new yI(gI.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return p(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),uM=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sM({}),this._settingsFrozen=!1}return p(e,[{key:"app",get:function(){if(!this._app)throw new yI(gI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new yI(gI.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sM(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new kI;switch(e.type){case"gapi":var t=e.client;return new SI(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yI(gI.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=oM.get(e);t&&(cI("ComponentProvider","Removing Datastore"),oM.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function lM(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=aM(e,uM))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&dI("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=oI.MOCK_USER;else{o=NT(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new yI(gI.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new oI(u)}e._authCredentials=new TI(new bI(o,s))}}var cM=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return p(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new dM(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),hM=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return p(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),dM=function(e){v(n,e);var t=T(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,dP(i)))._path=i,a.type="collection",a}return p(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new cM(this.firestore,null,new jI(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hM);function fM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=GT(e),tM("collection","path",t),e instanceof uM){var a=MI.fromString.apply(MI,[t].concat(r));return rM(a),new dM(e,null,a)}if(!(e instanceof cM||e instanceof dM))throw new yI(gI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(MI.fromString.apply(MI,[t].concat(r)));return rM(o),new dM(e.firestore,null,o)}var pM=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return p(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):hI("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),mM=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=oI.UNAUTHENTICATED,this.clientId=AI.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cI("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return cI("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return p(e,[{key:"getConfiguration",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new yI(gI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new _I;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Xc(Kc().mark((function n(){var r;return Kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=nN(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function vM(e,t){return gM.apply(this,arguments)}function gM(){return gM=Xc(Kc().mark((function e(t,n){var r,i;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),cI("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,BL(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),gM.apply(this,arguments)}function yM(e,t){return _M.apply(this,arguments)}function _M(){return _M=Xc(Kc().mark((function e(t,n){var r,i;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,bM(t);case 3:return r=e.sent,cI("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return XD(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return XD(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),_M.apply(this,arguments)}function bM(e){return kM.apply(this,arguments)}function kM(){return kM=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return cI("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,vM(t,new $N);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),kM.apply(this,arguments)}function TM(e){return wM.apply(this,arguments)}function wM(){return wM=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return cI("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,yM(t,new eM);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),wM.apply(this,arguments)}function xM(e){return TM(e).then((function(e){return e.syncEngine}))}function SM(e){return EM.apply(this,arguments)}function EM(){return EM=Xc(Kc().mark((function e(t){var n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TM(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=TN.bind(null,n.syncEngine),r.onUnlisten=EN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),EM.apply(this,arguments)}function CM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _I;return e.asyncQueue.enqueueAndForget(Xc(Kc().mark((function i(){return Kc().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new pM({next:function(n){t.enqueueAndForget((function(){return cN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new yI(gI.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new mN(n,a,{includeMetadataChanges:!0,Nu:!0});return uN(e,o)},i.next=3,SM(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var IM=function(){function e(){var t=this;d(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new sD(this,"async_queue_retry"),this.Wc=function(){var e=aD();e&&cI("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=aD();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return p(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=aD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new _I;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Xc(Kc().mark((function e(){var t=this;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),XI(e.t0)){e.next=12;break}throw e.t0;case 12:cI("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw hI("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=tN.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&pI()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Xc(Kc().mark((function e(){var t;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=_T(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=_T(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();var AM=function(e){v(n,e);var t=T(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new IM,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return p(n,[{key:"_terminate",value:function(){return this._firestoreClient||OM(this),this._firestoreClient.terminate()}}]),n}(uM);function PM(e){return e._firestoreClient||OM(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function OM(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new YI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mM(e._authCredentials,e._appCheckCredentials,e._queue,r)}var LM=function(){function e(t){d(this,e),this._byteString=t}return p(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(aA.fromBase64String(t))}catch(t){throw new yI(gI.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(aA.fromUint8Array(t))}}]),e}(),DM=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new yI(gI.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new UI(n)}return p(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var NM=p((function e(t){d(this,e),this._methodName=t})),MM=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new yI(gI.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yI(gI.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return p(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return PI(this._lat,e._lat)||PI(this._long,e._long)}}]),e}(),RM=/^__.*__$/,UM=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new JP(e,this.data,this.fieldMask,t,this.fieldTransforms):new YP(e,this.data,t,this.fieldTransforms)}}]),e}();function jM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pI()}}var FM=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return p(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return ZM(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(jM(this.sa)&&RM.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),BM=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||oD(t)}return p(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new FM({sa:e,methodName:t,fa:n,path:UI.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function zM(e){var t=e._freezeSettings(),n=oD(e._databaseId);return new BM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function VM(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);GM("Data must be an object, but it was:",o,r);var s,u,l=qM(r,o);if(a.merge)s=new tP(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,h=[],d=_T(a.mergeFields);try{for(d.s();!(c=d.n()).done;){var f=c.value,p=KM(t,f,n);if(!o.contains(p))throw new yI(gI.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));YM(h,p)||h.push(p)}}catch(m){d.e(m)}finally{d.f()}s=new tP(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new UM(new nP(l),s,u)}function HM(e,t){if(WM(e=GT(e)))return GM("Unsupported field value:",t,e),qM(e,t);if(e instanceof NM)return function(e,t){if(!jM(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=_T(e);try{for(a.s();!(n=a.n()).done;){var o=HM(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=GT(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return AP(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=LI.fromDate(e);return{timestampValue:RO(t.yt,n)}}if(e instanceof LI){var r=new LI(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:RO(t.yt,r)}}if(e instanceof MM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof LM)return{bytesValue:UO(t.yt,e._byteString)};if(e instanceof cM){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:BO(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(iM(e)))}(e,t)}function qM(e,t){var n={};return tA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eA(e,(function(e,r){var i=HM(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function WM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof LI||e instanceof MM||e instanceof LM||e instanceof cM||e instanceof NM)}function GM(e,t,n){if(!WM(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=iM(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function KM(e,t,n){if((t=GT(t))instanceof DM)return t._internalPath;if("string"==typeof t)return XM(e,t);throw ZM("Field path arguments must be of type string or ",e,!1,void 0,n)}var QM=new RegExp("[~\\*/\\[\\]]");function XM(e,t,n){if(t.search(QM)>=0)throw ZM("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return w(DM,h(t.split(".")))._internalPath}catch(r){throw ZM("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ZM(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new yI(gI.INVALID_ARGUMENT,s+e+u)}function YM(e,t){return e.some((function(e){return e.isEqual(t)}))}var JM=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return p(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new cM(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new $M(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(eR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),$M=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){return Jc(g(n.prototype),"data",this).call(this)}}]),n}(JM);function eR(e,t){return"string"==typeof t?XM(e,t):t instanceof DM?t._internalPath:t._delegate._internalPath}function tR(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yI(gI.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nR=function(){function e(){d(this,e)}return p(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(pA(e)){case 0:return null;case 1:return e.booleanValue;case 2:return uA(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lA(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pI()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return eA(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new MM(uA(e.latitude),uA(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=hA(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(dA(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=sA(e);return new LI(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=MI.fromString(e);mI(sL(n));var r=new JI(n.get(1),n.get(3)),i=new jI(n.popFirst(5));return r.isEqual(t)||hI("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function rR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var iR=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return p(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),aR=function(e){v(n,e);var t=T(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return p(n,[{key:"exists",value:function(){return Jc(g(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new oR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(eR("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(JM),oR=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jc(g(n.prototype),"data",this).call(this,e)}}]),n}(aR),sR=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new iR(i.hasPendingWrites,i.fromCache),this.query=r}return p(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new oR(n._firestore,n._userDataWriter,r.key,r,new iR(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yI(gI.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new oR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new oR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:uR(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function uR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pI()}}var lR=function(e){v(n,e);var t=T(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new LM(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new cM(this.firestore,null,t)}}]),n}(nR);function cR(e){e=aM(e,hM);var t=aM(e.firestore,AM),n=PM(t),r=new lR(t);return tR(e._query),CM(n,e._query).then((function(n){return new sR(t,r,e,n)}))}function hR(e,t){var n=aM(e.firestore,AM),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=GT(e),1===arguments.length&&(t=AI.R()),tM("doc","path",t),e instanceof uM){var a=MI.fromString.apply(MI,[t].concat(r));return nM(a),new cM(e,null,new jI(a))}if(!(e instanceof cM||e instanceof dM))throw new yI(gI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(MI.fromString.apply(MI,[t].concat(r)));return nM(o),new cM(e.firestore,e instanceof dM?e.converter:null,new jI(o))}(e),i=rR(e.converter,t);return dR(n,[VM(zM(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,HP.exists(!1))]).then((function(){return r}))}function dR(e,t){return function(e,t){var n=new _I;return e.asyncQueue.enqueueAndForget(Xc(Kc().mark((function r(){return Kc().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=IN,r.next=3,xM(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(PM(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];sI="9.15.0",Lw(new KT("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new AM(new wI(e.getProvider("auth-internal")),new CI(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yI(gI.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new JI(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Bw(aI,"3.8.0",e),Bw(aI,"3.8.0","esm2017")}();Bw("firebase","9.15.0","app");function fR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var pR;Object.create;function mR(){return ic({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var vR=mR,gR=new RT("auth","Firebase",mR()),yR=new iw("@firebase/auth");function _R(e){if(yR.logLevel<=YT.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];yR.error.apply(yR,["Auth (".concat(Uw,"): ").concat(e)].concat(n))}}function bR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xR.apply(void 0,[e].concat(n))}function kR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xR.apply(void 0,[e].concat(n))}function TR(e,t,n){var r=Object.assign(Object.assign({},vR()),ic({},t,n));return new RT("auth","Firebase",r).create(t,{appName:e.name})}function wR(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&bR(e,"argument-error"),TR(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function xR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return gR.create.apply(gR,[e].concat(n))}function SR(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xR.apply(void 0,[t].concat(r))}}function ER(e){var t="INTERNAL ASSERTION FAILED: "+e;throw _R(t),new Error(t)}function CR(e,t){e||ER(t)}var IR=new Map;function AR(e){CR(e instanceof Function,"Expected a class definition");var t=IR.get(e);return t?(CR(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,IR.set(e,t),t)}function PR(e,t){var n=Dw(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(FT(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;bR(r,"already-initialized")}return n.initialize({options:t})}function OR(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function LR(){return"http:"===DR()||"https:"===DR()}function DR(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function NR(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(LR()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var MR=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,CR(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xT())||"object"===typeof navigator&&"ReactNative"===navigator.product}return p(e,[{key:"get",value:function(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function RR(e,t){CR(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var UR=function(){function e(){d(this,e)}return p(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ER("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ER("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ER("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),jR=(ic(pR={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ic(pR,"MISSING_CUSTOM_TOKEN","internal-error"),ic(pR,"INVALID_IDENTIFIER","invalid-email"),ic(pR,"MISSING_CONTINUE_URI","internal-error"),ic(pR,"INVALID_PASSWORD","wrong-password"),ic(pR,"MISSING_PASSWORD","internal-error"),ic(pR,"EMAIL_EXISTS","email-already-in-use"),ic(pR,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ic(pR,"INVALID_IDP_RESPONSE","invalid-credential"),ic(pR,"INVALID_PENDING_TOKEN","invalid-credential"),ic(pR,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ic(pR,"MISSING_REQ_TYPE","internal-error"),ic(pR,"EMAIL_NOT_FOUND","user-not-found"),ic(pR,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ic(pR,"EXPIRED_OOB_CODE","expired-action-code"),ic(pR,"INVALID_OOB_CODE","invalid-action-code"),ic(pR,"MISSING_OOB_CODE","internal-error"),ic(pR,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ic(pR,"INVALID_ID_TOKEN","invalid-user-token"),ic(pR,"TOKEN_EXPIRED","user-token-expired"),ic(pR,"USER_NOT_FOUND","user-token-expired"),ic(pR,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ic(pR,"INVALID_CODE","invalid-verification-code"),ic(pR,"INVALID_SESSION_INFO","invalid-verification-id"),ic(pR,"INVALID_TEMPORARY_PROOF","invalid-credential"),ic(pR,"MISSING_SESSION_INFO","missing-verification-id"),ic(pR,"SESSION_EXPIRED","code-expired"),ic(pR,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ic(pR,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ic(pR,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ic(pR,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ic(pR,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ic(pR,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ic(pR,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ic(pR,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ic(pR,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ic(pR,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ic(pR,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),pR),FR=new MR(3e4,6e4);function BR(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function zR(e,t,n,r){return VR.apply(this,arguments)}function VR(){return VR=Xc(Kc().mark((function e(t,n,r,i){var a,o=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",HR(t,a,Xc(Kc().mark((function e(){var a,o,s,u;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=zT(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",UR.fetch()(KR(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),VR.apply(this,arguments)}function HR(e,t,n){return qR.apply(this,arguments)}function qR(){return qR=Xc(Kc().mark((function e(t,n,r){var i,a,o,s,u,c,h,d,f,p;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},jR),n),e.prev=2,a=new QR(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw XR(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),h=l(c,2),d=h[0],f=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw XR(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw XR(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw XR(t,"user-disabled",s);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=34;break}throw TR(t,p,f);case 34:bR(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof MT)){e.next=41;break}throw e.t0;case 41:bR(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),qR.apply(this,arguments)}function WR(e,t,n,r){return GR.apply(this,arguments)}function GR(){return GR=Xc(Kc().mark((function e(t,n,r,i){var a,o,s=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,zR(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&bR(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),GR.apply(this,arguments)}function KR(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?RR(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var QR=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(kR(n.auth,"network-request-failed"))}),FR.get())}))}return p(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function XR(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=kR(e,t,r);return i.customData._tokenResponse=n,i}function ZR(e,t){return YR.apply(this,arguments)}function YR(){return YR=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zR(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),YR.apply(this,arguments)}function JR(e,t){return $R.apply(this,arguments)}function $R(){return $R=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zR(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),$R.apply(this,arguments)}function eU(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(iV){}}function tU(){return tU=Xc(Kc().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=GT(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,SR((a=rU(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:eU(nU(a.auth_time)),issuedAtTime:eU(nU(a.iat)),expirationTime:eU(nU(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),tU.apply(this,arguments)}function nU(e){return 1e3*Number(e)}function rU(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return _R("JWT malformed, contained fewer than 3 sections"),null;try{var a=wT(r);return a?JSON.parse(a):(_R("Failed to decode base64 JWT payload"),null)}catch(iV){return _R("Caught error parsing JWT payload as JSON",null===iV||void 0===iV?void 0:iV.toString()),null}}function iU(e,t){return aU.apply(this,arguments)}function aU(){return aU=Xc(Kc().mark((function e(t,n){var r=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof MT&&oU(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),aU.apply(this,arguments)}function oU(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var sU=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return p(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Xc(Kc().mark((function t(){return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),uU=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return p(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=eU(this.lastLoginAt),this.creationTime=eU(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function lU(e){return cU.apply(this,arguments)}function cU(){return cU=Xc(Kc().mark((function e(t){var n,r,i,a,o,s,u,l,c,h,d;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,iU(t,JR(r,{idToken:i}));case 6:SR(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?fU(o.providerUserInfo):[],u=dU(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new uU(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),cU.apply(this,arguments)}function hU(){return(hU=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=GT(t),e.next=3,lU(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dU(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function fU(e){return e.map((function(e){var t=e.providerId,n=fR(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function pU(e,t){return mU.apply(this,arguments)}function mU(){return mU=Xc(Kc().mark((function e(t,n){var r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HR(t,{},Xc(Kc().mark((function e(){var r,i,a,o,s,u;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zT({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=KR(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",UR.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),mU.apply(this,arguments)}var vU=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return p(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){SR(e.idToken,"internal-error"),SR("undefined"!==typeof e.idToken,"internal-error"),SR("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=rU(e);return SR(t,"internal-error"),SR("undefined"!==typeof t.exp,"internal-error"),SR("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Xc(Kc().mark((function e(t){var n,r=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],SR(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Xc(Kc().mark((function e(t,n){var r,i,a,o;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pU(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ER("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(SR("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(SR("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(SR("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function gU(e,t){SR("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var yU=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=fR(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new uU(a.createdAt||void 0,a.lastLoginAt||void 0)}return p(e,[{key:"getIdToken",value:function(){var e=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iU(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(SR(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return tU.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return hU.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(SR(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){SR(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Xc(Kc().mark((function e(t){var n,r,i=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,lU(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Xc(Kc().mark((function e(){var t;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,iU(this,ZR(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(s=n.tenantId)&&void 0!==s?s:void 0,v=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,_=n.uid,b=n.emailVerified,k=n.isAnonymous,T=n.providerData,w=n.stsTokenManager;SR(_&&w,t,"internal-error");var x=vU.fromJSON(this.name,w);SR("string"===typeof _,t,"internal-error"),gU(h,t.name),gU(d,t.name),SR("boolean"===typeof b,t,"internal-error"),SR("boolean"===typeof k,t,"internal-error"),gU(f,t.name),gU(p,t.name),gU(m,t.name),gU(v,t.name),gU(g,t.name),gU(y,t.name);var S=new e({uid:_,auth:t,email:d,emailVerified:b,displayName:h,isAnonymous:k,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:x,createdAt:g,lastLoginAt:y});return T&&Array.isArray(T)&&(S.providerData=T.map((function(e){return Object.assign({},e)}))),v&&(S._redirectEventId=v),S}},{key:"_fromIdTokenResponse",value:function(){var t=Xc(Kc().mark((function t(n,r){var i,a,o,s=arguments;return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new vU).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,lU(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),_U=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return p(e,[{key:"_isAvailable",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();_U.type="NONE";var bU=_U;function kU(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var TU=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=kU(this.userKey,a.apiKey,o),this.fullPersistenceKey=kU("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return p(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Xc(Kc().mark((function e(){var t;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?yU._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Xc(Kc().mark((function t(n,r){var i,a,o,s,u,l,c,h,d,f,p,m=arguments;return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(AR(bU),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||AR(bU),s=kU(i,n.config.apiKey,n.name),u=null,l=_T(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return h=c.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return f=yU._fromJSON(n,d),h!==o&&(u=f),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function wU(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(CU(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xU(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AU(t))return"Blackberry";if(PU(t))return"Webos";if(SU(t))return"Safari";if((t.includes("chrome/")||EU(t))&&!t.includes("edge/"))return"Chrome";if(IU(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function xU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT();return/firefox\//i.test(e)}function SU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function EU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT();return/crios\//i.test(e)}function CU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT();return/iemobile/i.test(e)}function IU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT();return/android/i.test(e)}function AU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT();return/blackberry/i.test(e)}function PU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT();return/webos/i.test(e)}function OU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function LU(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT();return OU(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function DU(){return function(){var e=xT();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function NU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT();return OU(e)||IU(e)||PU(e)||AU(e)||/windows phone/i.test(e)||CU(e)}function MU(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wU(xT());break;case"Worker":t="".concat(wU(xT()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Uw,"/").concat(r)}var RU=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return p(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(iV){r(iV)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Xc(Kc().mark((function e(t){var n,r,i,a,o,s,u;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=_T(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=_T(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(l){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),UU=function(){function e(t,n,r){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FU(this),this.idTokenSubscription=new FU(this),this.beforeStateQueue=new RU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gR,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return p(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=AR(t)),this._initializationPromise=this.queue(Xc(Kc().mark((function r(){var i,a;return Kc().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,TU.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Xc(Kc().mark((function e(){var t;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Xc(Kc().mark((function e(t){var n,r,i,a,o,s,u;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return SR(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lU(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?GT(t):null)&&SR(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Xc(Kc().mark((function e(t){var n,r=this,i=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&SR(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Xc(Kc().mark((function n(){return Kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(AR(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new RT("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Xc(Kc().mark((function e(t,n){var r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return SR(n=t&&AR(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,TU.create(this,[AR(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Xc(Kc().mark((function e(t){var n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Xc(Kc().mark((function e(t){var n=this;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return SR(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return SR(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MU(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Xc(Kc().mark((function e(){var t,n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ic({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jU(e){return GT(e)}var FU=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new qT(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return p(e,[{key:"next",get:function(){return SR(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function BU(e,t,n){var r=jU(e);SR(r._canInitEmulator,r,"emulator-config-failed"),SR(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=zU(t),o=function(e){var t=zU(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:VU(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:VU(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zU(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function VU(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var HU=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return p(e,[{key:"toJSON",value:function(){return ER("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ER("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ER("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ER("not implemented")}}]),e}();function qU(e,t){return WU.apply(this,arguments)}function WU(){return WU=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zR(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),WU.apply(this,arguments)}function GU(e,t){return KU.apply(this,arguments)}function KU(){return KU=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WR(t,"POST","/v1/accounts:signInWithPassword",BR(t,n)));case 1:case"end":return e.stop()}}),e)}))),KU.apply(this,arguments)}function QU(e,t){return XU.apply(this,arguments)}function XU(){return XU=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WR(t,"POST","/v1/accounts:signInWithEmailLink",BR(t,n)));case 1:case"end":return e.stop()}}),e)}))),XU.apply(this,arguments)}function ZU(e,t){return YU.apply(this,arguments)}function YU(){return YU=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WR(t,"POST","/v1/accounts:signInWithEmailLink",BR(t,n)));case 1:case"end":return e.stop()}}),e)}))),YU.apply(this,arguments)}var JU=function(e){v(n,e);var t=T(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return p(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",GU(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",QU(t,{email:this._email,oobCode:this._password}));case 5:bR(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qU(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ZU(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:bR(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(HU);function $U(e,t){return ej.apply(this,arguments)}function ej(){return ej=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WR(t,"POST","/v1/accounts:signInWithIdp",BR(t,n)));case 1:case"end":return e.stop()}}),e)}))),ej.apply(this,arguments)}var tj=function(e){v(n,e);var t=T(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return p(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return $U(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,$U(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,$U(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zT(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bR("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=fR(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(HU);function nj(e,t){return rj.apply(this,arguments)}function rj(){return rj=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zR(t,"POST","/v1/accounts:sendVerificationCode",BR(t,n)));case 1:case"end":return e.stop()}}),e)}))),rj.apply(this,arguments)}function ij(){return ij=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WR(t,"POST","/v1/accounts:signInWithPhoneNumber",BR(t,n)));case 1:case"end":return e.stop()}}),e)}))),ij.apply(this,arguments)}function aj(){return aj=Xc(Kc().mark((function e(t,n){var r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WR(t,"POST","/v1/accounts:signInWithPhoneNumber",BR(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw XR(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),aj.apply(this,arguments)}var oj=ic({},"USER_NOT_FOUND","user-not-found");function sj(){return sj=Xc(Kc().mark((function e(t,n){var r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",WR(t,"POST","/v1/accounts:signInWithPhoneNumber",BR(t,r),oj));case 2:case"end":return e.stop()}}),e)}))),sj.apply(this,arguments)}var uj=function(e){v(n,e);var t=T(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ij.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return aj.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return sj.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(HU);var lj=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=VT(HT(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);SR(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return p(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=VT(HT(e)).link,n=t?VT(HT(t)).deep_link_id:null,r=VT(HT(e)).deep_link_id;return(r?VT(HT(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(oM){return null}}}]),e}();var cj=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return p(e,null,[{key:"credential",value:function(e,t){return JU._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=lj.parseLink(t);return SR(n,"argument-error"),JU._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();cj.PROVIDER_ID="password",cj.EMAIL_PASSWORD_SIGN_IN_METHOD="password",cj.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var hj=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return p(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),dj=function(e){v(n,e);var t=T(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return p(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(hj),fj=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.call(this,"facebook.com")}return p(n,null,[{key:"credential",value:function(e){return tj._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(oM){return null}}}]),n}(dj);fj.FACEBOOK_SIGN_IN_METHOD="facebook.com",fj.PROVIDER_ID="facebook.com";var pj=function(e){v(n,e);var t=T(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return p(n,null,[{key:"credential",value:function(e,t){return tj._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(oM){return null}}}]),n}(dj);pj.GOOGLE_SIGN_IN_METHOD="google.com",pj.PROVIDER_ID="google.com";var mj=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.call(this,"github.com")}return p(n,null,[{key:"credential",value:function(e){return tj._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(oM){return null}}}]),n}(dj);mj.GITHUB_SIGN_IN_METHOD="github.com",mj.PROVIDER_ID="github.com";var vj=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.call(this,"twitter.com")}return p(n,null,[{key:"credential",value:function(e,t){return tj._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(oM){return null}}}]),n}(dj);vj.TWITTER_SIGN_IN_METHOD="twitter.com",vj.PROVIDER_ID="twitter.com";var gj=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return p(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Xc(Kc().mark((function t(n,r,i){var a,o,s,u,l=arguments;return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,yU._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=yj(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Xc(Kc().mark((function t(n,r,i){var a;return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=yj(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function yj(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var _j=function(e){v(n,e);var t=T(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(b(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return p(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(MT);function bj(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw _j._fromErrorAndOperation(e,n,t,r);throw n}))}function kj(e,t){return Tj.apply(this,arguments)}function Tj(){return Tj=Xc(Kc().mark((function e(t,n){var r,i,a=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=iU,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",gj._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Tj.apply(this,arguments)}function wj(e,t){return xj.apply(this,arguments)}function xj(){return xj=Xc(Kc().mark((function e(t,n){var r,i,a,o,s,u,l=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,iU(t,bj(i,a,n,t),r);case 6:return SR((o=e.sent).idToken,i,"internal-error"),SR(s=rU(o.idToken),i,"internal-error"),u=s.sub,SR(t.uid===u,i,"user-mismatch"),e.abrupt("return",gj._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&bR(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),xj.apply(this,arguments)}function Sj(e,t){return Ej.apply(this,arguments)}function Ej(){return Ej=Xc(Kc().mark((function e(t,n){var r,i,a,o,s=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,bj(t,i,n);case 4:return a=e.sent,e.next=7,gj._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ej.apply(this,arguments)}function Cj(e,t,n,r){return GT(e).onIdTokenChanged(t,n,r)}function Ij(e,t,n){return GT(e).beforeAuthStateChanged(t,n)}function Aj(e,t){return zR(e,"POST","/v2/accounts/mfaEnrollment:start",BR(e,t))}new WeakMap;var Pj="__sak",Oj=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return p(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Pj,"1"),this.storage.removeItem(Pj),Promise.resolve(!0)):Promise.resolve(!1)}catch(oM){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Lj=function(e){v(n,e);var t=T(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=xT();return SU(e)||OU(e)}()&&function(){try{return!(!window||window===window.top)}catch(iV){return!1}}(),e.fallbackToPolling=NU(),e._shouldAllowMigration=!0,e}return p(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);DU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Xc(Kc().mark((function e(t,r){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc(g(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xc(Kc().mark((function e(t){var r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc(g(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc(g(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Oj);Lj.type="LOCAL";var Dj=Lj,Nj=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return p(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Oj);Nj.type="SESSION";var Mj=Nj;function Rj(e){return Promise.all(e.map(function(){var e=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Uj=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return p(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Xc(Kc().mark((function e(t){var n,r,i,a,o,s,u,l;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Rj(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function jj(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Uj.receivers=[];var Fj=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return p(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Xc(Kc().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=jj("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Bj(){return window}function zj(){return"undefined"!==typeof Bj().WorkerGlobalScope&&"function"===typeof Bj().importScripts}function Vj(){return Hj.apply(this,arguments)}function Hj(){return(Hj=Xc(Kc().mark((function e(){var t;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function qj(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Wj="firebaseLocalStorageDb",Gj="firebaseLocalStorage",Kj="fbase_key",Qj=function(){function e(t){d(this,e),this.request=t}return p(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Xj(e,t){return e.transaction([Gj],t?"readwrite":"readonly").objectStore(Gj)}function Zj(){var e=indexedDB.deleteDatabase(Wj);return new Qj(e).toPromise()}function Yj(){var e=indexedDB.open(Wj,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Gj,{keyPath:Kj})}catch(iV){n(iV)}})),e.addEventListener("success",Xc(Kc().mark((function n(){var r;return Kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Gj)){n.next=12;break}return r.close(),n.next=5,Zj();case 5:return n.t0=t,n.next=8,Yj();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Jj(e,t,n){return $j.apply(this,arguments)}function $j(){return $j=Xc(Kc().mark((function e(t,n,r){var i,a;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xj(t,!0).put((ic(i={},Kj,n),ic(i,"value",r),i)),e.abrupt("return",new Qj(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),$j.apply(this,arguments)}function eF(e,t){return tF.apply(this,arguments)}function tF(){return tF=Xc(Kc().mark((function e(t,n){var r,i;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xj(t,!1).get(n),e.next=3,new Qj(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),tF.apply(this,arguments)}function nF(e,t){var n=Xj(e,!0).delete(t);return new Qj(n).toPromise()}var rF=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return p(e,[{key:"_openDb",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Yj();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Xc(Kc().mark((function e(t){var n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zj()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Xc(Kc().mark((function e(){var t=this;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Uj._getInstance(zj()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Xc(Kc().mark((function e(n,r){var i;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Xc(Kc().mark((function e(t,n){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Xc(Kc().mark((function e(){var t,n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vj();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Fj(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&qj()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Xc(Kc().mark((function e(){var t;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Yj();case 5:return t=e.sent,e.next=8,Jj(t,Pj,"1");case 8:return e.next=10,nF(t,Pj);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Xc(Kc().mark((function e(t,n){var r=this;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Jj(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return eF(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xc(Kc().mark((function e(t){var n=this;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return nF(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Xc(Kc().mark((function e(){var t,n,r,i,a,o,s,u,l,c,h;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Xj(e,!1).getAll();return new Qj(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=_T(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)h=c[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Xc(Kc().mark((function t(){return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();rF.type="LOCAL";var iF=rF;function aF(e,t){return zR(e,"POST","/v2/accounts/mfaSignIn:start",BR(e,t))}function oF(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=kR("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function sF(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}sF("rcb"),new MR(3e4,6e4);var uF="recaptcha";function lF(e,t,n){return cF.apply(this,arguments)}function cF(){return cF=Xc(Kc().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,d;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,SR("string"===typeof a,t,"argument-error"),SR(r.type===uF,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return SR("enroll"===s.type,t,"internal-error"),e.next=13,Aj(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return SR("signin"===s.type,t,"internal-error"),SR(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,aF(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,nj(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),cF.apply(this,arguments)}var hF=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=jU(t)}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return lF(this.auth,e,GT(t))}}],[{key:"credential",value:function(e,t){return uj._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?uj._fromTokenResponse(n,r):null}}]),e}();function dF(e,t){return t?AR(t):(SR(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}hF.PROVIDER_ID="phone",hF.PHONE_SIGN_IN_METHOD="phone";var fF=function(e){v(n,e);var t=T(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return $U(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return $U(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return $U(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(HU);function pF(e){return Sj(e.auth,new fF(e),e.bypassAuthState)}function mF(e){var t=e.auth,n=e.user;return SR(n,t,"internal-error"),wj(n,new fF(e),e.bypassAuthState)}function vF(e){return gF.apply(this,arguments)}function gF(){return gF=Xc(Kc().mark((function e(t){var n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,SR(r=t.user,n,"internal-error"),e.abrupt("return",kj(r,new fF(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),gF.apply(this,arguments)}var yF=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return p(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Xc(Kc().mark((function t(n,r){return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Xc(Kc().mark((function e(t){var n,r,i,a,o,s,u;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pF;case"linkViaPopup":case"linkViaRedirect":return vF;case"reauthViaPopup":case"reauthViaRedirect":return mF;default:bR(this.auth,"internal-error")}}},{key:"resolve",value:function(e){CR(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){CR(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),_F=new MR(2e3,1e4);function bF(){return bF=Xc(Kc().mark((function e(t,n,r){var i,a,o;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jU(t),wR(t,n,hj),a=dF(i,r),o=new kF(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),bF.apply(this,arguments)}var kF=function(e){v(n,e);var t=T(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=b(s),s}return p(n,[{key:"executeNotNull",value:function(){var e=Xc(Kc().mark((function e(){var t;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return SR(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Xc(Kc().mark((function e(){var t,n=this;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CR(1===this.filter.length,"Popup operations only handle one event"),t=jj(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(kR(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(kR(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(kR(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,_F.get())}()}}]),n}(yF);kF.currentPopupAction=null;var TF=new Map,wF=function(e){v(n,e);var t=T(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return p(n,[{key:"execute",value:function(){var e=Xc(Kc().mark((function e(){var t,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=TF.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,xF(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Jc(g(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:TF.set(this.auth._key(),t);case 21:return this.bypassAuthState||TF.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Xc(Kc().mark((function e(t){var r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Jc(g(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Jc(g(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Xc(Kc().mark((function e(){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(yF);function xF(e,t){return SF.apply(this,arguments)}function SF(){return SF=Xc(Kc().mark((function e(t,n){var r,i,a;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=IF(n),i=CF(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),SF.apply(this,arguments)}function EF(e,t){TF.set(e._key(),t)}function CF(e){return AR(e._redirectPersistence)}function IF(e){return kU("pendingRedirect",e.config.apiKey,e.name)}function AF(e,t){return PF.apply(this,arguments)}function PF(){return PF=Xc(Kc().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=jU(t),a=dF(i,n),o=new wF(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),PF.apply(this,arguments)}var OF=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return p(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DF(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!DF(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(kR(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(LF(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(LF(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function LF(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function DF(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function NF(e){return MF.apply(this,arguments)}function MF(){return MF=Xc(Kc().mark((function e(t){var n,r=arguments;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",zR(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),MF.apply(this,arguments)}var RF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UF=/^https?/;function jF(){return jF=Xc(Kc().mark((function e(t){var n,r,i,a,o;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,NF(t);case 4:n=e.sent,r=n.authorizedDomains,i=_T(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!FF(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:bR(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),jF.apply(this,arguments)}function FF(e){var t=OR(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!UF.test(r))return!1;if(RF.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var BF=new MR(3e4,6e4);function zF(){var e=Bj().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var VF=null;function HF(e){return VF=VF||function(e){return new Promise((function(t,n){var r,i,a;function o(){zF(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){zF(),n(kR(e,"network-request-failed"))},timeout:BF.get()})}if(null===(i=null===(r=Bj().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Bj().gapi)||void 0===a?void 0:a.load)){var s=sF("iframefcb");return Bj()[s]=function(){gapi.load?o():n(kR(e,"network-request-failed"))},oF("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw VF=null,e}))}(e),VF}var qF=new MR(5e3,15e3),WF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KF(e){var t=e.config;SR(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?RR(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Uw},i=GF.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(zT(r).slice(1))}function QF(e){return XF.apply(this,arguments)}function XF(){return XF=Xc(Kc().mark((function e(t){var n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HF(t);case 2:return n=e.sent,SR(r=Bj().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:KF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WF,dontclear:!0},(function(e){return new Promise(function(){var n=Xc(Kc().mark((function n(r,i){var a,o,s;return Kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Bj().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=kR(t,"network-request-failed"),o=Bj().setTimeout((function(){i(a)}),qF.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),XF.apply(this,arguments)}var ZF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YF="_blank",JF="http://localhost",$F=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return p(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(iV){}}}]),e}();function eB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},ZF),{width:r.toString(),height:i.toString(),top:a,left:o}),c=xT().toLowerCase();n&&(s=EU(c)?YF:n),xU(c)&&(t=t||JF,u.scrollbars="yes");var h=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(LU(c)&&"_self"!==s)return tB(t||"",s),new $F(null);var d=window.open(t||"",s,h);SR(d,e,"popup-blocked");try{d.focus()}catch(iV){}return new $F(d)}function tB(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var nB="__/auth/handler",rB="emulator/auth/handler";function iB(e,t,n,r,i,a){SR(e.config.authDomain,e,"auth-domain-config-required"),SR(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Uw,eventId:i};if(t instanceof hj){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=l(u[s],2),h=c[0],d=c[1];o[h]=d}}if(t instanceof dj){var f=t.getScopes().filter((function(e){return""!==e}));f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,m=0,v=Object.keys(p);m<v.length;m++){var g=v[m];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(nB);return RR(t,rB)}(e),"?").concat(zT(p).slice(1))}var aB="webStorageSupport",oB=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mj,this._completeRedirectFn=AF,this._overrideRedirectResult=EF}return p(e,[{key:"_openPopup",value:function(){var e=Xc(Kc().mark((function e(t,n,r,i){var a,o;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CR(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=iB(t,n,r,OR(),i),e.abrupt("return",eB(t,o,jj()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Xc(Kc().mark((function e(t,n,r,i){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=iB(t,n,r,OR(),i),Bj().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(CR(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Xc(Kc().mark((function e(t){var n,r;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QF(t);case 2:return n=e.sent,r=new OF(t),n.register("authEvent",(function(e){return SR(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(aB,{type:aB},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),bR(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return jF.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return NU()||SU()||OU()}}]),e}(),sB=oB,uB=function(){function e(t){d(this,e),this.factorId=t}return p(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ER("unexpected MultiFactorSessionType")}}}]),e}(),lB=function(e){v(n,e);var t=T(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return p(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return zR(e,"POST","/v2/accounts/mfaEnrollment:finalize",BR(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return zR(e,"POST","/v2/accounts/mfaSignIn:finalize",BR(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(uB);(function(){function e(){d(this,e)}return p(e,null,[{key:"assertion",value:function(e){return lB._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var cB="@firebase/auth",hB="0.21.0",dB=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return p(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Xc(Kc().mark((function e(t){var n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){SR(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var fB,pB=LT("authIdTokenMaxAge")||300,mB=null,vB=function(e){return function(){var t=Xc(Kc().mark((function t(n){var r,i,a;return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>pB)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,mB!==a){t.next=12;break}return t.abrupt("return");case 12:return mB=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function gB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fw(),t=Dw(e,"auth");if(t.isInitialized())return t.getImmediate();var n=PR(e,{popupRedirectResolver:sB,persistence:[iF,Dj,Mj]}),r=LT("authTokenSyncURL");if(r){var i=vB(r);Ij(n,i,(function(){return i(n.currentUser)})),Cj(n,(function(e){return i(e)}))}var a=AT("auth");return a&&BU(n,"http://".concat(a)),n}fB="Browser",Lw(new KT("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){SR(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),SR(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:fB,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MU(fB)},i=new UU(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(AR);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Lw(new KT("auth-internal",(function(e){return function(e){return new dB(e)}(jU(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Bw(cB,hB,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fB)),Bw(cB,hB,"esm2017");var yB="firebasestorage.googleapis.com",_B=function(e){v(n,e);var t=T(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,bB(e),"Firebase Storage: ".concat(r," (").concat(bB(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(b(i),n.prototype),i}return p(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return bB(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(MT);function bB(e){return"storage/"+e}function kB(){return new _B("unknown","An unknown error occurred, please check the error payload for server response.")}function TB(){return new _B("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function wB(){return new _B("canceled","User canceled the upload/download.")}function xB(){return new _B("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function SB(e){return new _B("invalid-argument",e)}function EB(){return new _B("app-deleted","The Firebase app was deleted.")}function CB(e,t){return new _B("invalid-format","String does not match format '"+e+"': "+t)}function IB(e){throw new _B("internal-error","Internal error: "+e)}var AB,PB=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return p(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(iV){return new e(t,"")}if(""===r.path)return r;throw new _B("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===yB?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<u.length;l++){var c=u[l],h=c.regex.exec(t);if(h){var d=h[c.indices.bucket],f=h[c.indices.path];f||(f=""),r=new e(d,f),c.postModify(r);break}}if(null==r)throw function(e){return new _B("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),OB=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return p(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function LB(e){return"string"===typeof e||e instanceof String}function DB(e){return NB()&&e instanceof Blob}function NB(){return"undefined"!==typeof Blob&&!ST()}function MB(e,t,n,r){if(r<t)throw SB("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw SB("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function RB(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function UB(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function jB(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(AB||(AB={}));var FB=function(){function e(t,n,r,i,a,o,s,u,l,c,h){var f=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return p(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(iV){i(iV)}else if(null!==a){var s=kB();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?EB():wB());else i(TB())}};this.canceled_?t(0,new BB(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((function(){i=null,e(f,u())}),t)}function d(){a&&clearTimeout(a)}function f(e){if(l)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||o)return d(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),h(a)}}var p=!1;function m(e){p||(p=!0,d(),l||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),a=setTimeout((function(){o=!0,m(!0)}),n),m}((function(t,n){if(n)t(!1,new BB(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===AB.NO_ERROR,a=r.getStatus();if(n&&!jB(a,e.additionalRetryCodes_)||!e.retry){var o=-1!==e.successCodes_.indexOf(a);t(!0,new BB(o,r))}else{var s=r.getErrorCode()===AB.ABORT;t(!1,new BB(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),BB=p((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function zB(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function VB(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function HB(e,t){t&&(e["X-Firebase-GMPID"]=t)}function qB(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function WB(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=UB(e.urlParams),u=e.url+s,l=Object.assign({},e.headers);return HB(l,t),zB(l,n),VB(l,a),qB(l,r),new FB(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function GB(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function KB(){for(var e=GB(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(NB())return new Blob(n);throw new _B("unsupported-environment","This browser doesn't seem to support creating Blobs")}function QB(e){if("undefined"===typeof atob)throw new _B("unsupported-environment","".concat("base-64"," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));return atob(e)}var XB="raw",ZB="base64",YB="base64url",JB="data_url",$B=p((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function ez(e,t){switch(e){case XB:return new $B(tz(t));case ZB:case YB:return new $B(nz(e,t));case JB:return new $B(function(e){var t=new rz(e);return t.base64?nz(ZB,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(iV){throw CB(JB,"Malformed data URL.")}return tz(t)}(t.rest)}(t),new rz(t).contentType)}throw kB()}function tz(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function nz(e,t){switch(e){case ZB:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw CB(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case YB:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw CB(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=QB(t)}catch(iV){if(iV.message.includes("polyfill"))throw iV;throw CB(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var rz=p((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw CB(JB,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var iz=function(){function e(t,n){d(this,e);var r=0,i="";DB(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return p(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(DB(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(NB()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(KB.apply(null,i))}var a=n.map((function(e){return LB(e)?ez(XB,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function az(e){var t;try{t=JSON.parse(e)}catch(iV){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function oz(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function sz(e,t){return t}var uz=p((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||sz})),lz=null;function cz(){if(lz)return lz;var e=[];e.push(new uz("bucket")),e.push(new uz("generation")),e.push(new uz("metageneration")),e.push(new uz("name","fullPath",!0));var t=new uz("name");t.xform=function(e,t){return function(e){return!LB(e)||e.length<2?e:oz(e)}(t)},e.push(t);var n=new uz("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new uz("timeCreated")),e.push(new uz("updated")),e.push(new uz("md5Hash",null,!0)),e.push(new uz("cacheControl",null,!0)),e.push(new uz("contentDisposition",null,!0)),e.push(new uz("contentEncoding",null,!0)),e.push(new uz("contentLanguage",null,!0)),e.push(new uz("contentType",null,!0)),e.push(new uz("metadata","customMetadata",!0)),lz=e}function hz(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new PB(n,r);return t._makeStorageReference(i)}})}(r,e),r}function dz(e,t,n){var r=az(t);return null===r?null:hz(e,r,n)}function fz(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var pz=p((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function mz(e){if(!e)throw kB()}function vz(e,t){return function(n,r){var i=dz(e,r,t);return mz(null!==i),i}}function gz(e,t){return function(n,r){var i=dz(e,r,t);return mz(null!==i),function(e,t,n,r){var i=az(t);if(null===i)return null;if(!LB(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return RB("/b/"+o(i)+"/o/"+o(a),n,r)+UB({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function yz(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new _B("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new _B("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new _B("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new _B("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function _z(e){var t=yz(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new _B("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function bz(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function kz(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=bz(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+fz(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",h=iz.getBlob(l,r,c);if(null===h)throw xB();var d={name:u.fullPath},f=RB(a,e.host,e._protocol),p=e.maxUploadRetryTime,m=new pz(f,"POST",vz(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=yz(t),m}var Tz=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=AB.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=AB.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=AB.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return p(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw IB("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw IB("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw IB("cannot .getStatus() before sending");try{return this.xhr_.status}catch(iV){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw IB("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw IB("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),wz=function(e){v(n,e);var t=T(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Tz);function xz(){return new wz}var Sz=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof PB?n:PB.makeFromUrl(n,t.host)}return p(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new PB(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return oz(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new PB(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new _B("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Ez(e,t,n){e._throwIfRoot("uploadBytes");var r=kz(e.storage,e._location,cz(),new iz(t,!0),n);return e.storage.makeRequestWithTokens(r,xz).then((function(t){return{metadata:t,ref:e}}))}function Cz(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=RB(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new pz(r,"GET",gz(e,n),i);return a.errorHandler=_z(t),a}(e.storage,e._location,cz());return e.storage.makeRequestWithTokens(t,xz).then((function(e){if(null===e)throw new _B("no-download-url","The given file does not have any download URLs.");return e}))}function Iz(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new PB(e._location.bucket,n);return new Sz(e.storage,r)}function Az(e,t){if(e instanceof Dz){var n=e;if(null==n._bucket)throw new _B("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Sz(n,n._bucket);return null!=t?Az(r,t):r}return void 0!==t?Iz(e,t):e}function Pz(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Dz)return new Sz(e,t);throw SB("To use ref(service, url), the first argument must be a Storage instance.")}return Az(e,t)}function Oz(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:PB.makeFromBucketSpec(n,e)}function Lz(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:NT(i,e.app.options.projectId))}var Dz=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=yB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?PB.makeFromBucketSpec(i,this._host):Oz(this._host,this.app.options)}return p(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=PB.makeFromBucketSpec(this._url,e):this._bucket=Oz(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){MB("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){MB("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Xc(Kc().mark((function e(){var t,n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Xc(Kc().mark((function e(){var t,n;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Sz(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new OB(EB());var o=WB(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Xc(Kc().mark((function e(t,n){var r,i,a,o;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Nz="@firebase/storage",Mz="0.10.0",Rz="storage";function Uz(e,t,n){return Ez(e=GT(e),t,n)}function jz(e){return Cz(e=GT(e))}function Fz(e,t){return Pz(e=GT(e),t)}function Bz(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Lz(e,t,n,r)}function zz(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Dz(r,i,a,n,Uw)}Lw(new KT(Rz,zz,"PUBLIC").setMultipleInstances(!0)),Bw(Nz,Mz,""),Bw(Nz,Mz,"esm2017");var Vz=jw({apiKey:"".concat("AIzaSyCw97tqO1u-uOzlfYZvE53LNpf2ZDx6u8c"),authDomain:"".concat("portfolio-dashboard-e7859.firebaseapp.com"),projectId:"".concat("portfolio-dashboard-e7859"),storageBucket:"".concat("portfolio-dashboard-e7859.appspot.com"),messagingSenderId:"".concat("555089536025"),appId:"".concat("1:555089536025:web:ec173791bbffae585d7688")}),Hz=gB(),qz=new pj,Wz=function(e,t){var n="string"==typeof e?e:t||"(default)",r=Dw("object"==typeof e?e:Fw(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=PT("firestore");i&&lM.apply(void 0,[r].concat(h(i)))}return r}(Vz),Gz=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fw(),t=arguments.length>1?arguments[1]:void 0,n=Dw(e=GT(e),Rz),r=n.getImmediate({identifier:t}),i=PT("storage");return i&&Bz.apply(void 0,[r].concat(h(i))),r}(Vz),Kz=function(){return function(e,t,n){return bF.apply(this,arguments)}(Hz,qz)},Qz=function(){var e=l((0,t.useState)("text-animate"),2),n=e[0],r=e[1],i=l((0,t.useState)([]),2),a=i[0],o=i[1],s=l((0,t.useState)(!1),2),u=s[0],c=s[1],h=l((0,t.useState)(""),2),d=h[0],f=h[1],p=_e();(0,t.useEffect)((function(){var e=setTimeout((function(){return r("text-animate-hover")}),3e3);return function(){return clearTimeout(e)}}),[]),(0,t.useEffect)((function(){v()}),[]);var m,v=function(){var e=Xc(Kc().mark((function e(){var t;return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cR(fM(Wz,"portfolio"));case 2:t=e.sent,o(t.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Hi.jsxs)(Hi.Fragment,{children:[(0,Hi.jsxs)("div",{className:"container portfolio-page",children:[(0,Hi.jsxs)("h1",{className:"page-title",children:[(0,Hi.jsx)(Gi,{letterClass:n,strArray:"My Projects".split(""),idx:15}),(0,Hi.jsx)(Li,{icon:$e,color:"#4d4d4e",className:"plus-btn",onClick:function(){return p("/dashboard")}})]}),(0,Hi.jsx)("div",{children:(m=a,(0,Hi.jsx)(Hi.Fragment,{children:(0,Hi.jsx)("div",{className:"images-container",children:m.map((function(e,t){return(0,Hi.jsxs)("div",{className:"image",children:[(0,Hi.jsx)("img",{src:e.image,alt:"project",className:"project-image"}),(0,Hi.jsxs)("div",{className:"content",children:[(0,Hi.jsx)("p",{className:"title",children:e.name}),(0,Hi.jsx)("h4",{className:"description",children:e.description}),(0,Hi.jsx)("button",{className:"btn",onClick:function(){return window.open(e.repo)},children:"Repo"}),(0,Hi.jsx)("button",{className:"btn",onClick:function(){return f({content:(t=e).video,video:t.video}),void c(!0);var t},children:"Video Demo"}),e.demo?(0,Hi.jsx)("button",{className:"demo-btn",onClick:function(){return window.open(e.demo)},children:"Live Demo"}):null]})]},t)}))})}))}),u&&(0,Hi.jsx)(yT,{content:d.content,video:d.video,closeModal:function(){c(!1)}})]}),(0,Hi.jsx)(rc(),{type:"line-scale-pulse-out"})]})},Xz=n(770),Zz=n.n(Xz),Yz=function(){var e=l((0,t.useState)(!0),2),n=e[0],r=e[1],i=["TypeScript","JavaScript","Python","HTML5","Tailwind CSS","SASS/SCSS","React","PostgreSQL","MongoDB","Prisma","Three.js/WebGL","Materialize","DevOps","NodeJs","npm","Git","Django4","FastAPI"],a={radius:450,maxSpeed:"normal",initSpeed:"fast",direction:90,keep:!1};return(0,t.useEffect)((function(){n&&(Zz()(".content",i,a),r(!1))})),(0,Hi.jsx)("div",{className:"main",children:(0,Hi.jsx)("span",{className:"content"})})},Jz=function(){var e=l((0,t.useState)("text-animate"),2),n=e[0],r=e[1],i="Skills".split("");return(0,t.useEffect)((function(){var e=setTimeout((function(){return r("text-animate-hover")}),4050);return function(){return clearTimeout(e)}}),[]),(0,Hi.jsxs)(Hi.Fragment,{children:[(0,Hi.jsxs)("div",{className:"container skills-page",children:[(0,Hi.jsxs)("div",{className:"text-area",children:[(0,Hi.jsxs)("h1",{children:[(0,Hi.jsx)(Gi,{letterClass:n,strArray:i,idx:15}),(0,Hi.jsx)("br",{})]}),(0,Hi.jsxs)("p",{children:["As a graduate of a cutting-edge software engineering bootcamp, I have honed my skills in a wide array of programming languages, frameworks, and technologies to maximize my potential in securing a fulfilling career. My proficiency spans across ",(0,Hi.jsx)("span",{children:"Python"}),",",(0,Hi.jsx)("span",{children:"TypeScript"}),",",(0,Hi.jsx)("span",{children:"JavaScript"}),",",(0,Hi.jsx)("span",{children:"SQL Queries"}),",",(0,Hi.jsx)("span",{children:"HTML"}),",",(0,Hi.jsx)("span",{children:"SCSS"}),",",(0,Hi.jsx)("span",{children:"SASS"}),", and ",(0,Hi.jsx)("span",{children:"Tailwind CSS"}),", enabling me to tackle diverse projects with ease."]}),(0,Hi.jsxs)("p",{children:["In addition to my adeptness in multiple languages, I have dedicated countless hours to mastering frameworks such as ",(0,Hi.jsx)("span",{children:"Django"}),", ",(0,Hi.jsx)("span",{children:"FastAPI"}),", ",(0,Hi.jsx)("span",{children:"React"}),", and ",(0,Hi.jsx)("span",{children:"Three.js"}),". Furthermore, my experience with ORM, particularly ",(0,Hi.jsx)("span",{children:"Prisma"}),", has strengthened my understanding of database management."]}),(0,Hi.jsxs)("p",{children:["I excel in various environments, including ",(0,Hi.jsx)("span",{children:"NodeJS"}),", ",(0,Hi.jsx)("span",{children:"NextJs"}),", ",(0,Hi.jsx)("span",{children:"SwaggerUI"}),", and ",(0,Hi.jsx)("span",{children:"RESTful API Architecture"}),", and am well-versed in implementing Domain Driven Design within microservices architecture. This comprehensive skill set not only allows me to adapt to a multitude of projects but also ensures the delivery of high-quality results that meet and exceed expectations."]})]}),(0,Hi.jsx)("div",{className:"tagcloud-wrap",children:(0,Hi.jsx)(Yz,{})})]}),(0,Hi.jsx)(rc(),{type:"line-scale-pulse-out"})]})},$z=function(){var e=(0,t.useRef)(),n=function(){var t=Xc(Kc().mark((function t(n){var i,a,o,s,u,l,c,h,d,f,p,m,v,g,y,_,b,k,T,w;return Kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=null===(i=e.current[0])||void 0===i?void 0:i.value,h=null===(a=e.current[1])||void 0===a?void 0:a.value,d=null===(o=e.current[2])||void 0===o?void 0:o.value,f=null===(s=e.current[3])||void 0===s?void 0:s.value,p=null===(u=e.current[4])||void 0===u?void 0:u.files[0],m=null===(l=e.current[5])||void 0===l?void 0:l.files[0],v=Fz(Gz,"portfolio/".concat(p.name)),g=Fz(Gz,"portfolio/".concat(m.name)),y=Uz(v,p),_=Uz(g,m),t.prev=11,t.next=14,y;case 14:return b=t.sent,t.next=17,_;case 17:return k=t.sent,t.next=20,jz(b.ref);case 20:return T=t.sent,t.next=23,jz(k.ref);case 23:w=t.sent,r({name:c,description:h,repo:d,demo:f,image:T,video:w}),t.next=31;break;case 27:t.prev=27,t.t0=t.catch(11),console.log(t.t0),r({name:c,description:h,repo:d,demo:f,image:null,video:null});case 31:case"end":return t.stop()}}),t,null,[[11,27]])})));return function(e){return t.apply(this,arguments)}}(),r=function(){var e=Xc(Kc().mark((function e(t){return Kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hR(fM(Wz,"portfolio"),t);case 3:window.location.reload(!1),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),alert("Failed to add portfolio"),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return(0,Hi.jsx)("div",{className:"dashboard",children:(0,Hi.jsxs)("form",{ref:e,onSubmit:n,children:[(0,Hi.jsx)("p",{children:(0,Hi.jsx)("input",{type:"text",placeholder:"Name",required:!0})}),(0,Hi.jsx)("p",{children:(0,Hi.jsx)("textarea",{placeholder:"Description"})}),(0,Hi.jsx)("p",{children:(0,Hi.jsx)("input",{type:"text",placeholder:"Repo"})}),(0,Hi.jsx)("p",{children:(0,Hi.jsx)("input",{type:"text",placeholder:"Demo"})}),(0,Hi.jsxs)("p",{className:"placeholder-class",children:[(0,Hi.jsx)("input",{type:"file",placeholder:"Image"}),(0,Hi.jsx)("br",{}),"Project Image"]}),(0,Hi.jsxs)("p",{className:"placeholder-class",children:[(0,Hi.jsx)("input",{type:"file",placeholder:"video"}),(0,Hi.jsx)("br",{}),"Project Video DEMO"]}),(0,Hi.jsx)("button",{type:"submit",children:"Submit"}),(0,Hi.jsx)("button",{onClick:function(){return Hz.signOut()},children:"Sign out"})]})})};function eV(){return(0,Hi.jsx)("div",{className:"dashboard",children:(0,Hi.jsx)("button",{onClick:Kz,children:"Sign in with google"})})}function tV(){var e=l((0,t.useState)(null),2),n=e[0],r=e[1],i=gB();return(0,t.useEffect)((function(){!function(e,t,n,r){GT(e).onAuthStateChanged(t,n,r)}(i,(function(e){r(e||null)}))}),[i]),(0,Hi.jsx)("div",{children:n?(0,Hi.jsx)($z,{}):(0,Hi.jsx)(eV,{})})}var nV=function(){return(0,Hi.jsx)(Hi.Fragment,{children:(0,Hi.jsx)(De,{children:(0,Hi.jsxs)(Oe,{path:"/",element:(0,Hi.jsx)(Wi,{}),children:[(0,Hi.jsx)(Oe,{index:!0,element:(0,Hi.jsx)(_c,{})}),(0,Hi.jsx)(Oe,{path:"/about",element:(0,Hi.jsx)(bc,{})}),(0,Hi.jsx)(Oe,{path:"/contact",element:(0,Hi.jsx)(Gc,{})}),(0,Hi.jsx)(Oe,{path:"/Portfolio",element:(0,Hi.jsx)(Qz,{})}),(0,Hi.jsx)(Oe,{path:"/skills",element:(0,Hi.jsx)(Jz,{})}),(0,Hi.jsx)(Oe,{path:"/dashboard",element:(0,Hi.jsx)(tV,{})})]})})})},rV=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,Hi.jsx)(Be,{basename:"",children:(0,Hi.jsx)(nV,{})})),rV()}()}();
//# sourceMappingURL=main.b2214fa4.js.map